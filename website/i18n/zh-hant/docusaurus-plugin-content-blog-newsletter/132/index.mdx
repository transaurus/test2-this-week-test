---
slug: /132
title: "This Week In React #132: Astro, Remix, Server Components, useGlobalState, Next.js, Redwood, Expo Router, Expo Image, Android Widgets..."
authors: [slorber]
date: 01-25-2023
---

大家好！

本週我們有 Astro 2.0 和 Remix 1.11 等不錯的版本發布，還有一些關於 Server Components 的有趣內容。

React-Native 也不落後，有進入發佈候選版的 Expo Router、測試版的 Expo Image，以及創建 Android widget 的新解決方案。

我受邀參加節目 [Learn With Jason - 建立並部署文件網站](https://www.learnwithjason.dev/create-and-deploy-a-documentation-website?utm_source=thisweekinreact)，Jason 在其中首次嘗試使用 Docusaurus。

探索 [ES.next News 通訊](https://esnextnews.com/?utm_source=thisweekinreact)，這是掌握 JavaScript 語言演進、TC39 委員會和 ESLint/Babel/Bun/Prettier 等 JS 工具動態的優質資訊來源。

<!-- truncate -->

**💡 [在 Twitter 查看這份通訊](https://slo.im/thread) - 視覺化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![refine](/emails/issues/132/refine.png)](https://github.com/refinedev/refine)

[**refine - 100% 開源，用於建置 CRUD 應用的無頭 React 框架**](https://github.com/refinedev/refine)

準備好提升技能！我們興奮地宣布開源 refine 黑客松正式啟動

您有機會贏得 $1500 和專屬周邊套裝！

我們很高興與 Strapi、Appwrite、Meilisearch 和 Medusa 合作。他們贊助本次黑客松，優勝者將獲得每家廠商提供的周邊套裝！

[查看更多黑客松資訊](https://refine.dev/blog/refine-hackathon/)。

---

## ⚛️ React {#react}

[![Astro 2.0](/emails/issues/132/astro2.jpg)](https://astro.build/blog/astro-2/)

**[Astro 2.0](https://astro.build/blog/astro-2/)**

Astro 發布 v2 版本，重點新功能包括：

- 內容集合：Markdown & MDX 自動類型安全
- 混合渲染：靜態？動態？兩者優勢兼得
- 重新設計的錯誤疊加層
- 改進的開發伺服器 (HMR)
- Vite 4.0
- 公開路線圖

另參閱文章 [介紹內容集合：Astro 2.0 的類型安全 Markdown](https://astro.build/blog/introducing-content-collections/)。該功能透過 Zod 驗證 front matter，讓 React 元件能類型化使用這些數據，並在數據不符結構時提供良好開發者體驗的錯誤提示。絕對是好主意，順帶一提 [Docusaurus 也有類似功能](https://github.com/facebook/docusaurus/issues/4591) 😜。

---

[![Remix 1.11](/emails/issues/132/remix0.11.jpg)](https://github.com/remix-run/remix/releases/tag/remix%401.11.0)

**[Remix 1.11](https://github.com/remix-run/remix/releases/tag/remix%401.11.0)**

一次優質的 Remix 更新，主要新功能包括：

- `defer` + `<Await>` 可啟動串流回應。載入器可返回 promise，後續在客戶端等待執行。
- [路由慣例 v2](https://remix.run/docs/en/v1/file-conventions/route-files-v2)：新慣例（扁平路由）現已可啟用，將在 v2 成為預設慣例。
- 實驗性支援 CSS 導入、CSS Modules 和 Vanilla Extract。

---

- 📖 Beta docs: ["the main remaining blocker is the landing page which we’re working on now"](https://twitter.com/dan_abramov/status/1617543301477060608)
- 🐦 ["If you use React, you should be using a React framework"](https://twitter.com/acdlite/status/1617611126514266112): Andrew Clark gives good reasons to use a framework. If you don't use one, you end up creating a not-so-great one yourself.
- 📜 [The building blocks of great docs](https://www.mux.com/blog/the-building-blocks-of-great-docs): migration in progress of a technical documentation to Next.js 13. The use of Server Components brings a lot of benefits on a site with lots of static content.
- 📜 [useGlobalState - Sharing state between React components without context or fancy libraries](https://yoavik.com/snippets/use-global-state): proposes to create its own global state abstraction, without the need to use providers.
- 📜 [What I Like About Astro](https://www.macarthur.me/posts/what-i-like-about-astro): interesting comparison with Gatsby or Next.js on data sourcing, integrations (RSS, sitemap...). Astro makes it difficult to have a slow site.
- 📜 [Improving readability with React Wrap Balancer](https://vercel.com/blog/react-wrap-balancer): details the inner workings of React Wrap Balancer which allows to balance headlines without producing layout shifts (missing CSS feature).
- 📜 [Things I want to see in JavaScript and Frontend development in 2023](https://paularmstrong.dev/blog/2023/01/20/javascript-and-frontend-things-to-see-in-2023/): interesting predictions and a hot criticism of React 🔥
- 📜 [Use Remix as a SPA only](https://sergiodxa.com/articles/use-remix-as-a-spa-only): using a `<ClientOnly>` component.
- 📜 [Gatsby 5, TypeScript, and Generated GraphQL Types: A Walkthrough](https://www.gatsbyjs.com/blog/gatsby-5-typescript-and-generated-graphql-types-a-walkthrough/)
- 📜 [Modals with React Router 6 and Remix](https://dev.to/infoxicator/modals-with-react-router-6-and-remix-1e35)
- 📜 [Why React Router is excellent for Micro-Frontends](https://dev.to/infoxicator/why-react-router-is-excellent-for-micro-frontends-2a21)
- 📜 [useAsyncEffect: The Missing React Hook](https://marmelab.com/blog/2023/01/11/use-async-effect-react.html)
- 📜 [Test-driven development of NextJS API routes](https://massimilianomirra.com/notes/test-driven-development-of-nextjs-api-routes)
- 📜 [How to build a better React map with Pigeon Maps and Mapbox](https://evilmartians.com/chronicles/how-to-build-a-better-react-map-with-pigeon-maps-and-mapbox)
- 📜 [Refraction, dispersion, and other shader light effects](https://blog.maximeheckel.com/posts/refraction-dispersion-and-other-shader-light-effects/)
- 🧑‍🎓 [Josh Comeau - Joy of React - Couse launch](https://twitter.com/JoshWComeau/status/1617553220242661377)
- 🎨 [TanStack Query multi-client sync demo](https://twitter.com/aryan__deora/status/1616097346558754819)
- 🎨 [DevTools - Toggle Suspense boundaries demo](https://twitter.com/delba_oliveira/status/1617205554547683328)
- 👀 [Remix PR - add built-in PostCSS and Tailwind support](https://github.com/remix-run/remix/pull/5229)
- 👀 [XState PR - createProvider](https://twitter.com/DavidKPiano/status/1617537783018422273)
- 👀 [React docs PR - Replace Create React App recommendation with Vite](https://github.com/reactjs/reactjs.org/pull/5487): controversial PR this week
- 📦 [Bright - React Server Component for syntax highlighting](https://github.com/code-hike/bright): promising WIP package for modern syntax highlighting. In a Node.js/server context, we can run heavier code like parsing an AST rather than using regexp (Prism).
- 📦 [Redwood 4.0 RC](https://twitter.com/RedwoodJS/status/1616002999729389568): new API Auth, GraphQL Yoga v3, GraphQL Armor, Node.js 16/18...
- 📦 [shadcdn/ui - Beautifully designed components built with Radix UI and Tailwind CSS](https://twitter.com/shadcn/status/1617916719242293248)
- 📦 [next-mdx-remote 4.3 - Server Components Support (experimental)](https://github.com/hashicorp/next-mdx-remote/releases/tag/v4.3.0)
- 🎥 [Astro 2.0 is Revolutionary!](https://www.youtube.com/watch?v=gi4c7fbeURc)
- 🎥 [Lee Robinson - Revisiting my React course 3 years later](https://www.youtube.com/watch?v=DQk0TWmgYXw)

<SubscribeFormEmbed />

---

## 📱 React-Native {#react-native}

[![Expo Router RC](/emails/issues/132/expo-router.jpg)](https://blog.expo.dev/announcing-the-expo-router-v1-release-candidate-c5680b88a18c)

**[Expo Router v1 候選版本](https://blog.expo.dev/announcing-the-expo-router-v1-release-candidate-c5680b88a18c)**

Expo Router 透過檔案系統命名慣例建立行動導航（仍基於 React-Navigation），如同多數 React 網頁框架的做法。具備常見功能如佈局路由、動態路由、錯誤邊界...

最令我感興趣的是：通用支援。導航基於連結、`<Link>` 組件和 Metro 網頁支援（實驗性）。隨著 Expo 原生部分趨於成熟，Expo 逐步發展為通用全端框架並實現 [Andrew Clark 的預測](https://twitter.com/acdlite/status/1489755769876754434)並不令人意外。

---

- 👀 [Expo-Image 進入測試版](https://twitter.com/JI/status/1616337848558551041)：Expo 新圖片組件進入測試階段。高效能、跨平台（網頁/行動）、多格式、佔位符、object-fit... 參閱[文件](https://docs.expo.dev/versions/unversioned/sdk/image/)。
- 📖 [Maestro 指南 - React-Native](https://maestro.mobile.dev/platform-support/react-native)：端對端測試框架現提供 React-Native 文件頁面。
- 📦 [React-Native-Android-Widget](https://saleksovski.github.io/react-native-android-widget/)：建立 Android widget 的新套件，使用專用 UI 元件。具備 widget 預覽系統。可在 Expo 輕鬆使用（設定插件）。
- 📦 [Moti 0.22](https://twitter.com/FernandoTheRojo/status/1616583066054545408)：修復帶來 Hermes 支援。
- 📦 [Metro 0.74](https://github.com/facebook/metro/releases/tag/v0.74.0)：顯著效能提升。
- 🎙️ [RNR 256 - Expo Router with Evan Bacon](https://reactnativeradio.com/episodes/rnr-256-expo-router-with-evan-bacon)

---

## 🧑‍💻 職缺 {#jobs}

🧑‍💼 [**Lab - 前端開發者 - 混合遠端，倫敦**](https://4dayweek.io/remote-job/frontend-developer-lab?utm_source=newsletter&utm_medium=newsletter&utm_campaign=weekinreact)

加入 Riverr 代理商擔任前端開發者，使用 React、Next.js、TypeScript 等現代技術開發客戶專案。[**每週四天工作制**](https://4dayweek.io/?utm_source=newsletter&utm_medium=newsletter&utm_campaign=weekinreact)職位。

🧑‍💼 [**TLDR - 資深軟體工程師（遠端，12萬-20萬美元）**](https://tldr.tech/jobs/senior-software-engineer/23?utm_source=thisweekinreact)

TLDR 新聞通訊正招聘首位工程師，協助建置招聘平台及其他內部專案。尋求具備 Next.js 和 Postgres/Supabase 經驗，曾參與業餘專案或小型團隊的開發者。

🧑‍💼 [**Callstack - 資深 React Native 開發人員 - 完全遠端，B2B 月薪淨額 PLN 21-32k**](https://www.callstack.com/senior-react-native-developer)

您是否渴望參與全球最廣泛使用的應用程式開發？是否希望共同塑造 React Native 技術的未來？加入 Callstack 的 React 和 React Native 領導者團隊。詳情請參閱我們的網站。我們期待看到您的申請 - 盡情展現您的實力！

🧑‍💼 [**G2i - 100% 遠端 React Native 職缺**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我們開放多個專注於 React Native 的開發職位！薪資約為 16 萬美元外加 10% 獎金。應徵者需具備 RN 實際生產經驗且位於美國境內。請私訊 [@gabe_g2i](https://twitter.com/gabe_g2i) 瞭解詳情，別忘了提及 This Week in React。

💡 [如何發布職缺？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- ["目前正在進行將 webpack 完整移植到 Rust 的專案。這不是 turbopack。"](https://twitter.com/ScriptedAlchemy/status/1617815340905553921)
- [V8 - 介紹 WebAssembly JavaScript Promise 整合 API](https://v8.dev/blog/jspi)
- [Safari 16.3 中的 WebKit 功能](https://webkit.org/blog/13691/webkit-features-in-safari-16-3/)
- [關於 CSS 選擇器效能的真相](https://blogs.windows.com/msedgedev/2023/01/17/the-truth-about-css-selector-performance/)
- [讓泛型函數通過類型檢查](https://type-level-typescript.com/articles/making-generic-functions-pass-type-checking)
- [CSS 嵌套 - Blink 意圖發佈](https://twitter.com/sebastienlorber/status/1617882799100526595)
- [TypeScript 5.0 PR - 裝飾器支援](https://twitter.com/robpalmer2/status/1616215250055090187)
- [Bun 0.5](https://bun.sh/blog/bun-v0.5.0)
- [esbuild 0.17](https://github.com/evanw/esbuild/releases/tag/v0.17.0)
- [ESLint 2022 年度回顧](https://eslint.org/blog/2023/01/eslint-2022-year-review/)
- [大規模建構與交付前端](https://frontendmastery.com/posts/building-and-serving-frontends-at-scale/)
- [編寫微型 tRPC 客戶端](https://trpc.io/blog/tinyrpc-client)

---

## 🤭 有趣 {#fun}

[![alt](/emails/issues/132/meme.jpg)](https://twitter.com/fireship_dev/status/1617708616496345088)