---
slug: /201
title: "This Week In React #201: TanStack, Remix, Next.js-SaaS-Starter, routing, ?search, decoupling, LLM, Astro, Redwood, Storybook, Conform, Nitro Modules, RN CSS, Re.Pack, Swift, VisionOS, Lottie, Node.js, TypeScript, Vite, date-fns..."
authors: [slorber]
date: 09-18-2024
---

大家好！

又是一個充滿許多有趣 React 社群文章的一週，特別是圍繞著 TanStack 的相關內容。

我們還有很酷的 React Native 公告，例如 Nitro Modules。

✍ 別忘了簽署這份重要的請願書：[Oracle, 是時候釋放 JavaScript 了](https://javascript.tm/)

同時查看我們的合作夥伴會議 🗓 [React Summit US](https://reactsummit.us/?utm_source=Newsletter&utm_medium=thisweekinreact) - 🇺🇸 紐約 \- 12 月 19 日至 22 日。盛大的 React Summit 會議第二度回到美國舉辦！

<!-- truncate -->

**💡 [在 Twitter 上查看這份通訊](https://slo.im/thread) - 視覺格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![發掘開發團隊間的 React 元件使用情況](/emails/issues/201/omletad.png)](https://omlet.dev/?utm_campaign=partner_this-week-in-react_first-sponsor-sep-2024)

**[發掘開發團隊間的 React 元件使用情況](https://omlet.dev/?utm_campaign=partner_this-week-in-react_first-sponsor-sep-2024)**

☁️ 想像一下，能夠準確查看開發人員在何處以及如何使用特定的 React 元件，從而找出減少前端技術債務並證明設計系統價值的方法。使用 Omlet，您就能做到。

- 獲得您在生產環境中使用的所有自訂和可重用元件的中央目錄
- 透過特定屬性搜尋和篩選元件，以找出需要更新、除錯或更充分利用的部分
- 輕鬆建立自訂圖表並與團隊分享，以展示設計系統的採用、舊程式碼的減少、最少/最多使用的元件和屬性等等。

在少於 5 分鐘內完成設定並執行首次掃描。[免費試用](https://omlet.dev/?utm_campaign=partner_this-week-in-react_first-sponsor-sep-2024)。

---

## ⚛️ React {#react}

[![介紹 TanStack Router](/emails/issues/201/tanstack.jpg)](https://frontendmasters.com/blog/introducing-tanstack-router/)

**TanStack 相關消息**

本週我不確定該選哪個頭條，所以讓我們將所有與 TanStack 相關的新聞彙整在一起：

- 📜 [介紹 TanStack Router](https://frontendmasters.com/blog/introducing-tanstack-router/)：對這個功能豐富的客戶端框架進行了出色的路由/導航概述，它為即將推出的 TanStack Start 框架（alpha 版）提供動力。它尤其以其在連結、路徑段和搜尋參數方面的出色類型安全而著稱。我特別喜歡使用 `to=”/users/$id”` 而不是 `to=”/users/123”` 的連結想法。
- 📜 [TanStack Router 中 TypeScript 效能的里程碑](https://tanstack.com/blog/tanstack-router-typescript-performance)：仍然與 TanStack Router 相關，我也喜歡這篇文章，它深入探討了語言服務中 TypeScript 效能問題的疑難排解，這些問題導致了 IDE 自動完成速度變慢。
- 📜 [無限查詢的運作原理](https://tkdodo.eu/blog/how-infinite-queries-work)：來自 React Query 的 Dominik 解釋了無限查詢的內部工作原理，使用了具有可插拔行為邏輯的優雅程式碼架構。他還解釋了如何修復一個最近才被報告的歷史性錯誤，該錯誤是由重試邏輯引起的。
- 👀 [Clerk TanStack start SDK (beta)](https://clerk.com/docs/quickstarts/tanstack-start)：第三方認證供應商為即將推出的框架添加一流的認證支援，這是一個很好的牽引力跡象。

---

- 💸 [React Bricks - Transform React components into dynamic, visually editable bricks of content with the pioneering React Visual Headless CMS.](https://www.reactbricks.com/?utm_source=twir&utm_campaign=ql24)
- 🧑‍🎓 [XState: Complete Getting Started Guide](https://www.typeonce.dev/course/xstate-complete-getting-started-guide): Free comprehensive course on XState in a React context.
- 🖨 [React 19 Cheat Sheet](https://www.epicreact.dev/react-19-cheatsheet)
- 🗓️ [React-Africa](https://react-africa.com/?utm_source=thisweekinreact) - 🇲🇦 Casablanca - 29 November - Get a 10% discount with code “TWIR”. The full line up is now available, take a tour on the conference website !
- 🗓️ [React Advanced London](https://reactadvanced.com/?utm_source=Newsletter&utm_medium=thisweekinreact) - 🇬🇧 London - 25 & 28 October - 10% discount with code TWIR. Full line-up revealed !
- 📜 [Remix's concurrent submissions are fundamentally flawed (without causal ordering)](https://dashbit.co/blog/remix-concurrent-submissions-flawed): Following the migration of ChatGPT from Next.js to Remix, the creator of Elixir argues that Remix submission and validation model is subject to race conditions. Ryan Florence plans to respond later. Note this is a more general problem affecting most client-side frameworks, although React 19 actions run sequentially and are not affected by it.
- 📜 [How Remix's Flat File-Based Routing Works](https://www.udohjeremiah.com/blog/how-remix-flat-file-based-routing-works): Remix routing convention can be customized, but it comes with a default one that this post explains in details.
- 📜 [Using callbacks to achieve better component decoupling in React](https://darios.blog/posts/using-callbacks-in-react): Short but important lesson on how to decouple a parent component from its children, by narrowing callback types instead of injecting a parent `setState`.
- 📜 [SPA Lazy Loading Pitfalls](https://reacttraining.com/blog/spa-lazy-loading-pitfalls): When using React Router with lazy routes and loader functions, you’d rather avoid co-locating your loader function with the component that receives its data because it creates a waterfall.
- 📜 [LLM and RSC: A match made in Heaven](https://nikhilsnayak.dev/blogs/llm-and-rsc): Uses OpenAI function/tool calls to implement an MVP of generative UI. The interactive demo can render an interactive React component during the chat session.
- 📜 [Clean React with TypeScript](https://weser.io/blog/clean-react-with-typescript): Long-time ReasonML user adopts TypeScript and shares a great overview on how to best type React components, state, refs and events. You might be familiar with most types, but it also covers more advanced patterns such as forwarding props with `ComponentProps`.
- 📜 [Implementing Feature Flagging with the Next.js App Router](https://aurorascharff.no/posts/implementing-feature-flagging-with-nextjs-app-router/): Implements a custom feature flag system based on env variables. It works for both client and server components.
- 📜 [Search Params in Next.js for URL State](https://www.robinwieruch.de/next-search-params/): A good introduction to the `nuqs` library to implement typed search params to filter/sort a list of items.
- 📜 [Redwood background Jobs](https://redwoodjs.com/blog/background-jobs): Details the new feature introduced in the recent 8.0 release. It’s notably useful to perform slower actions such as sending emails, without delaying user responses. Jobs are stored in a database and executed by a scheduler.
- 📜 [Tailwind UI Radiant \- A beautiful new marketing site template](https://tailwindcss.com/blog/2024-09-12-radiant-a-beautiful-new-marketing-site-template): New paid Next.js template from the Tailwind CSS team, but the launch blog post also explains interesting details, such as FramerMotion variant propagation.
- 📜 [Don't Sleep on AbortController](https://kettanaito.com/blog/dont-sleep-on-abort-controller): Great vanilla JS article overall, including a cool React `useEffect` example
- 📦 [Vite 6 beta](https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md): This comes with the new [Environment API](https://main.vitejs.dev/guide/api-environment) useful to support multiple module graphs for SSR and RSCs.
- 📦 [Valtio 2.0](https://github.com/pmndrs/valtio/releases/tag/v2.0.0): Valtio won’t handle promises anymore, you need to use `React.use()` now. This inspired me to create a [demo](https://x.com/sebastienlorber/status/1836060870733955127) showing how this pattern of storing promises could greatly simplify vanilla data fetching with less complexity than `useEffect()`.
- 📦 [Next.js SaaS Starter \- Using Next.js 15, React 19 Postgres, Drizzle, Stripe, and shadcn/ui](https://github.com/leerob/next-saas-starter): I’m not that much into boilerplates (there are too many), but this one is created by Lee Robinson from Vercel, free, using cutting edge React 19 features with best practices in application.
- 📦 [Astro 5.0 beta \- stable Content Layer, Server Islands, astro:env](https://astro.build/blog/astro-5-beta/)
- 📦 [Hono-Remix-Adapter](https://github.com/yusukebe/hono-remix-adapter)
- 📦 [Storybook 8.3 \- Vitest integration, experimental Story globals](https://github.com/storybookjs/storybook/releases/tag/v8.3.0)
- 📦 [Conform 1.2 \- Input key prop no longer required](https://github.com/edmundhung/conform/releases/tag/v1.2.0)
- 📦 [Isograph 0.2 \- Modern GraphQL client](https://isograph.dev/blog/2024/09/11/isograph-0.2.0/)
- 📦 [Relay 18.0 \- `@alias`, `@catch`, editor integration improvements and more](https://github.com/facebook/relay/releases/tag/v18.0.0)
- 📦 [Shopify Hydrogen \- September 2024 release \- Improved sitemaps, search enhancements, localization, CSP fixes](https://hydrogen.shopify.dev/update/september-2024)
- 🎥 [Theo \- We need to talk about Chrome's new API](https://www.youtube.com/watch?v=ucMNiYFB4CA): Greatly introduces the new `scheduler.yield()` that landed in Chrome 129\. It is useful for Concurrent React to split work into smaller chunks and give priority to the user inputs.
- 🎥 [UI Engineering \- Making setState() instant](https://www.youtube.com/watch?v=H9IIwbUhEJA)

<SubscribeFormEmbed placement="middle" />

---

## 💸 贊助商 {#sponsor2}

[![放大JWT和會話令牌的好處](/emails/issues/201/clerk.jpg)](https://go.clerk.com/4kxhIiA)

**[放大JWT和會話令牌的好處](https://go.clerk.com/4kxhIiA)**

了解如何利用會話令牌認證和JWT的優點，實現兩種方法的最佳效果。

---

## 📱 React-Native {#react-native}

[![Nitro模組](/emails/issues/201/nitro.jpg)](https://mrousavy.github.io/nitro/)

**[Nitro模組](https://mrousavy.github.io/nitro/)**

Marc Rousavy終於發布了他期待已久的框架，用於創建高效能原生模組並提供出色的開發體驗。該框架基於Nitrogen程式碼生成器，能從TypeScript介面生成類型安全的C++/Swift/Kotlin綁定，支援多種TypeScript類型。與其他模組解決方案不同，它能直接橋接Swift和Kotlin（從C++端）。簡單基準測試顯示，在基本操作上Nitro模組性能超越ExpoModules和TurboModules。早期採用者的社群回饋非常積極，特別是William Candillion在react-native-wgpu中的應用。另可參考[Brent Vatne的評論](https://x.com/notbrent/status/1834647244089307279)，了解Expo模組暫未採用直接Swift C++互操作的原因（至少目前如此）。

---

- 💸 [React Native Mastery - 精通 React Native & Expo 的唯一課程](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- 🐦 [React Native Skia 在 WebGPU Canvas 上運行](https://x.com/wcandillon/status/1834245607906496888)：精彩的演示，更重要的是闡述了為 React Native 實現通用 Canvas API 的意圖，類似於網頁端的實現。
- 🐦 [React Native WebGPU + React Three Fiber 演示](https://x.com/wcandillon/status/1834901444320801032)
- 📜 [塑造 React Native 中超級應用的未來](https://www.callstack.com/blog/shaping-the-future-of-super-apps-in-react-native)：Callstack 解釋為何押注 Rspack、Re.Pack 和 Module Federation v2 來實現超級應用。他們還宣布與 Zephyr Cloud 建立新合作夥伴關係，將此 SaaS 平台整合進 React Native 生態系，簡化聯邦應用管理。請注意 [Re.Pack 5.0 alpha](https://github.com/callstack/repack/releases/tag/%40callstack%2Frepack%405.0.0-alpha.0) 已發布並支援 Rspack，構建速度比 Webpack 快 5 倍。
- 📜 [React Native 佈局元件](https://kyleshevlin.com/snippets/react-native-layout-components/)：我也喜歡這種將佈局樣式作為屬性公開的模式，可能會用它來建立 React Native 設計系統。
- 📜 [React Native TV 應用中管理焦點的五種方法](https://www.reactnativetv.com/blog/five-ways-of-managing-focus)
- 📜 [Expo Go vs 開發版本：該用哪個？](https://expo.dev/blog/expo-go-vs-development-builds)
- 📦 [React Native 0.76 RC1](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.1)：此版本穩定支援 CSS boxShadow 和 filter！注意更多 CSS 功能正在開發中（mix-blend-mode、isolate、outline...）。
- 📦 [Swift 6 - 併發記憶體安全、類型化拋出、C++ 互通、Foundation、測試](https://www.swift.org/blog/announcing-swift-6/)
- 📦 [React Native VisionOS 0.76 RC.0 - 支援 React Native 偵錯工具](https://github.com/callstack/react-native-visionos/releases/tag/v0.76.0-rc.0-visionos)
- 📦 [Lottie React Native 7.0 - VisionOS、XCode 16、要求 0.73+、無重大破壞性變更](https://github.com/lottie-react-native/lottie-react-native/releases/tag/v7.0.0)
- 📦 [Sonner-Native - 固執己見的 React Native toast 元件（Sonner 移植版）](https://github.com/gunnartorfis/sonner-native)
- 📦 [React Native Testing Library 12.7 - 模擬 TextInputs/ScrollView 原生狀態、Switch toBeChecked()、透過 `alt` 屬性匹配 Image](https://github.com/callstack/react-native-testing-library/releases/tag/v12.7.2)
- 📦 [React Native Iconify 2.0 - 動態導入、Next.js + Vite 支援、變數](https://github.com/oktaysenkan/react-native-iconify/releases/tag/v2.0.0)
- 🎥 [Reactiive - 使用 React Native (Reanimated) 的動態長條圖](https://www.youtube.com/watch?v=RO3qutJhU_Y)
- 🎥 [Simon Grimm - Cursor AI 能建立我的 React Native 應用嗎？](https://www.youtube.com/watch?v=5Y_t6NRl_xI)
- 🎙️ [RNR 307 - React Universe 回顧](https://www.reactnativeradio.com/episodes/rnr-307-react-universe-recap)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.7 迭代計劃](https://github.com/microsoft/TypeScript/issues/59905)
- 👀 [網頁功能探索器 - 網頁平台發布說明](https://patrickbrosset.com/articles/2024-09-04-a-release-note-for-the-web-platform/)
- 📜 [理解並行、並行與 JavaScript](https://www.rugu.dev/en/blog/concurrency-and-parallelism/)
- 📦 [date-fns 4.0 - 一流的時區支援](https://blog.date-fns.org/v40-with-time-zone-support/)
- 📦 [Chokidar 4.0 - 將 13 個依賴縮減為 1 個，原生 TypeScript 支援，CJS+ESM，需要 Node.js 14](https://github.com/paulmillr/chokidar/releases/tag/4.0.0)
- 📦 [Node 22.9 - getCallSite API](https://nodejs.org/en/blog/release/v22.9.0)
- 📦 [Safari 18.0 - 視圖轉換、樣式查詢、動畫顯示、URL.parse()...](https://webkit.org/blog/15865/webkit-features-in-safari-18-0/)
- 📦 [Hono 4.6 - 上下文儲存中介軟體 (AsyncLocalStorage)](https://github.com/honojs/hono/releases/tag/v4.6.0)
- 📦 [Biome 1.9 - 穩定的 CSS 和 GraphQL 格式化工具/linter，`.editorconfig` 支援](https://biomejs.dev/blog/biome-v1-9/)

---

## 🤭 趣事 {#fun}

[![替代文字](/emails/issues/201/meme.jpg)](https://x.com/sophiebits/status/1836272297801585041)

[![替代文字](/emails/issues/201/meme2.jpg)](https://x.com/thymikee/status/1831602712577733035)

[![替代文字](/emails/issues/201/meme3.jpg)](https://x.com/sebastienlorber/status/1833145461328244774)

再會！👋