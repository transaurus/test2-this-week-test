---
slug: /137
title: "This Week In React #137: Code Extraction, Server Components, Signals, Forget compiler, Next.js, Astro, Deno, Remix, Preact, Signia, TypeScript..."
authors: [slorber]
date: 03-07-2023
---

大家好！

本週仍有許多關於 signals 的內容，但輪到 Server Components 成為討論焦點了！

距離提交演講提案給 [React-Native-Connection](https://reactnativeconnection.io/)（巴黎 - 6月1日）的徵稿截止還有一週時間。

<!-- truncate -->

**💡 [在 Twitter 上查看本電子報](https://slo.im/thread) - 視覺化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![Suncel](/emails/issues/136/suncel.jpg)](https://suncel.io/)

**[建立可重複使用的區塊。更快發布內容。獲得更好的 Core Web Vitals 和 SEO。](https://suncel.io/)**

**內容編輯者**：對於需要大量生產內容並具有強大 SEO 策略的公司來說是遊戲規則改變者。行銷人員和內容編輯者可以在沒有任何複雜性的情況下編輯和發布頁面。消除長時間延遲並即時發布。頁面和圖像透過 Next.js 進行優化，以實現完美的 Core Web Vitals 分數。

**開發者**：可與現有 Next.js 應用程式即插即用。使用 Suncel CMS 對開發者有多項優勢：

- 使用 React 建立可重複使用的區塊
- SEO Meta 和網站地圖自動生成（感謝我們的 SEO 模組）
- 使用 React 建立自定義設定
- 可透過 React 自定義管理介面
- 無需為適應 CMS 而建立路由系統

**[訪問 Suncel.io](https://suncel.io/)** | **[5分鐘演示影片](https://www.youtube.com/watch?v=LUupLEZKp3w)**

---

## ⚛️ React {#react}

[![WTF 什麼是程式碼提取](/emails/issues/137/codeextraction.jpg)](https://www.builder.io/blog/wtf-is-code-extraction)

**[WTF 什麼是程式碼提取](https://www.builder.io/blog/wtf-is-code-extraction)**

Miško (Qwik) 解釋了在相同檔案中共置伺服器/客戶端程式碼的優勢，以及當前 Next.js 模型（導出提取）的限制：只能宣告一個 `getServerSideProps` 函數，且必須使用 `ReturnType` 將正確的數據類型注入客戶端組件。函數提取和閉包提取提供了更好的開發者體驗。

這些技術目前在 React 生態中尚未普及，但預計很快就會在我們的框架中出現。Qwik 團隊計劃[將其程式碼提取與框架解耦](https://twitter.com/manucorporat/status/1630955309890957313)。Tanner Linsley [正與他們合作](https://twitter.com/tannerlinsley/status/1630994907405115393)，並[已在 Bling 上使用此類提取技術](https://twitter.com/tannerlinsley/status/1631003945522065409)，該工具包將為即將推出的 TanStack Start 框架提供支援。

我認為在討論 Next.js 當前限制時，也應將 React Server Components 納入可無縫混合伺服器/客戶端程式碼的技術範疇。

---

![React Server Components](/emails/issues/137/rsc.jpg)

**React Server Components**

繼 signals 之後，本週輪到 Server Components 成為焦點。Dan Abramov 在尋找解釋此新功能的合適心智模型時引發了許多討論。您需要深入這些討論才能找到最符合您理解的類比方式。

- 🧵 [Dan Abramov - 「我需要開始收集推銷 React 伺服器元件的方法」](https://twitter.com/dan_abramov/status/1631885118355718144)
- 🧵 [Dan Abramov - 「關於 React 伺服器元件，問我任何問題」](https://twitter.com/dan_abramov/status/1631641431742857216)
- 🧵 [Dan Abramov - `ui = client(server(data), state)`](https://twitter.com/dan_abramov/status/1632535654142713862)
- 🧵 [Rick Hanlon - 「它們將你的容器元件移至伺服器」](https://twitter.com/rickhanlonii/status/1632041893960855552)
- 🧵 [Josh Comeau 談伺服器元件](https://twitter.com/JoshWComeau/status/1631398854632304641)
- 🧵 [Andrew Clark 談框架無關與整合良好的工具](https://twitter.com/acdlite/status/1632910367289491459)
- 🐦 [Ben Holmes - 「React 伺服器元件和 Astro 就像... 同一回事」](https://twitter.com/BHolmesDev/status/1633133090057986050)
- 🐦 [Daishi Kato - 「這是我將 RSCs 放入客戶端元件的方法」](https://twitter.com/dai_shi/status/1631989295866347520)
- 🎥 [React 現在是一個後端框架](https://www.youtube.com/watch?v=EhI6wb5nEEs)
- 🎥 [與 Dan Abramov、Joe Savona 和 Kent C. Dodds 一起探討 React 伺服器元件](https://www.youtube.com/watch?v=h7tur48JSaw)：現場討論即將開始，應該會非常有趣。

伺服器元件也可能帶來意想不到的好處：[Electron 執行緒的通訊層](https://twitter.com/Eli_White/status/1632445703950852096) 或 [靜態網站產生器的靈活資料層](https://twitter.com/sebastienlorber/status/1632310649609920513)。

---

- 📜 [React vs Signals：十年之後](https://dev.to/this-is-learning/react-vs-signals-10-years-later-3k71)：別錯過 Dan Abramov 對 Ryan Carniato 這篇文章的回應。Dan 不願讓 React 元件的函式像 SolidJS 那樣成為「設定」：重新執行函式應是自願的。
- 📜 [為 JavaScript 中的 Signals 提出論證](https://dev.to/this-is-learning/making-the-case-for-signals-in-javascript-4c7i)：Ryan Carniato 列舉使用 signals 的充分理由，提出相當有趣的論點。我也認為不該為了效能而改變元件組織結構。
- 📜 [React 即將推出的編譯器僅解決部分問題](https://www.builder.io/blog/react-compiler-will-not-solve-prop-drilling)：解釋為何 React Forget 編譯器無法像 signals 那樣解決中間重新渲染問題。
- 📜 [React Hooks 是個錯誤嗎？](https://jakelazaroff.com/words/were-react-hooks-a-mistake/)：Jake 說明 hooks 帶來的問題，並指出 signals 與 React 類別元件高度相似。
- 📜 [框架定義的基礎架構](https://vercel.com/blog/framework-defined-infrastructure)：Vercel 技術長解釋基礎設施如何自動適應程式碼，並以 Next.js 為例說明。
- 📜 [2023 網頁框架效能報告](https://astro.build/blog/2023-web-framework-performance-report/)：Fred（Astro）分析實際效能數據，歸納框架如何影響應用程式效能的趨勢。報告包含 Astro、Gatsby、Remix 和 Next.js 的效能評分。
- 📜 [Deno - 你不需要建置步驟](https://deno.com/blog/you-dont-need-a-build-step)：剖析 Next.js 四個建置步驟（編譯、壓縮、打包、程式碼分割）背後的複雜性，並提出 Fresh 框架的即時模式替代方案。
- 📜 [React 初學者常見錯誤](https://www.joshwcomeau.com/react/common-beginner-mistakes/)：Josh Comeau 為初學者撰寫的互動式優質文章。
- 📜 [對 React 編譯器的願望清單](https://electricui.com/blog/wishlist-for-a-react-compiler)：Michael 說明期望 React-Forget 編譯器實現的功能，並透過大量編譯前後範例演示。
- 📜 [Preact Signals 與 React 替代方案的效能評比](https://electricui.com/blog/benchmarking-preact-signals)
- 📜 [Sentry 的前端測試：從 Enzyme 遷移至 React Testing Library](https://blog.sentry.io/2023/02/23/sentrys-frontend-tests-migrating-from-enzyme-to-react-testing-library/)
- 📜 [React 中的屬性穿透與元件組合](https://alexsidorenko.com/blog/react-prop-drilling-composition/)
- 🎨 [可視化的「React 思考模式」](https://twitter.com/asidorenko_/status/1631967645376315400)
- 🎥 [20 分鐘重建 React 狀態管理工具 Jotai！](https://www.youtube.com/watch?v=gg31JTZmFUw)
- 📦 [preact-reconcilers](https://github.com/CodyJasonBennett/preact-reconciler)：建立自訂 Preact 渲染器的套件。Cody 成功運行 [React-Three-Fiber + Preact](https://twitter.com/Cody_J_Bennett/status/1632674026408558592)。
- 📦 [Remix 1.14](https://twitter.com/kentcdodds/status/1631059357654818819)：支援熱模組替換（HMR）與熱資料重新驗證。
- 📦 [Signia - 可擴展的 TypeScript 信號庫](https://tldraw.substack.com/p/introducing-signia)：含 React 綁定的新信號庫。
- 📦 [Remix + Fastly 支援](https://twitter.com/FastlyDevs/status/1631031583523192832)：新增 Remix 伺服器轉接器
- 📦 [Mantine 6.0](https://mantine.dev/changelog/6-0-0/)
- 📦 [Storybook-Docusaurus](https://github.com/jodyheavener/storybook-docusaurus)

<SubscribeFormEmbed />

---

## 💸 贊助商 {#sponsor2}

[![Surveyjs - 可擴展的 JavaScript 調查和表單函式庫](/emails/issues/136/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)

**[可擴展的 JavaScript 調查和表單函式庫](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)**

[SurveyJS](https://surveyjs.io/form-library?utm_source=thisweekinreact&utm_medium=referral) 是一套開源 JavaScript 表單函式庫，可輕鬆整合至您的網頁應用程式。它讓您能**建立並執行多種表單**，所有敏感資料皆保留於您的伺服器上，或讓非技術使用者直接使用**您自行託管的 WYSIWYG 表單建構器**。

您還能在自訂儀表板中**分析調查結果**，將表單儲存為 PDF，或直接**轉換為可編輯的 PDF 檔案**。提供對 **React 和 Angular 渲染的原生支援**，且後端選擇完全自由，因**任何伺服器與資料庫組合皆完全相容**。

---

## 📱 React-Native {#react-native}

- 👀 [React Native 應用程式程式碼刪除示範](https://twitter.com/Baconbrix/status/1631749459389431808)：即將推出的 Expo CLI 功能，可顯示應用程式未使用的原生程式碼並安全移除。
- 👀 [React Native 即將成為 Monorepo](https://twitter.com/o_kwasniewski/status/1631292628217266176)
- 📜 [我讓 JSON.parse() 快兩倍](https://radex.io/react-native/json-parse/)：Radek 提議使用基於 [SIMD 指令](https://en.wikipedia.org/wiki/Single_instruction,_multiple_data)的極速 C++ 函式庫提升 Hermes 效能。即使未使用 React-Native 也值得閱讀。[Hermes PR](https://github.com/facebook/hermes/issues/811) 的相關討論持續進行中。
- 📜 [參加 Chain React 的十大理由](https://shift.infinite.red/top-ten-reasons-to-go-to-chain-react-665a93883e4f)
- 🔗 [React Native 搭便車指南](https://twitter.com/ospfranco/status/1631984862474248193)：Oscar 分享其 React-Native 知識庫，含多個進階主題及 JSI 相關內容。
- 🎙️ [RNR 261 - EAS 是怎麼回事？](https://reactnativeradio.com/episodes/rnr-261-whats-the-deal-with-eas)
- 🎥 [Riveo 頁面捲曲效果 - 「能在 React Native 中實現嗎？」](https://www.youtube.com/watch?v=xNZCQvtnhIU)
- 📦 [React-Native-Graph 1.0](https://github.com/margelo/react-native-graph/releases/tag/v1.0.1)：Margelo 基於 Skia 的圖表函式庫穩定版。
- 📦 [Expo Router 1.2](https://twitter.com/Baconbrix/status/1630969201421582341)
- 📦 [React-Native-Replicache](https://github.com/Braden1996/react-native-replicache/)
- 📦 [VisionCamera 使用 TensorFlow Lite 進行即時物件偵測](https://github.com/jaroslawkrol/vision-camera-realtime-object-detection) - [示範](https://twitter.com/mrousavy/status/1631269105796886528)

---

## 🧑‍💻 工作職缺 {#jobs}

🧑‍💼 [**Passionfroot - 資深全端工程師 (Remix) - €160k+, 柏林/遠端**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot 的使命是透過 YouTube、Podcasts、社群媒體和新聞通訊賦能未來的獨立事業。加入我們共同打造工具，協助全球創作者建立可擴展、可持續的事業。

🧑‍💼 [**Callstack - 高級 React Native 開發人員 - 全遠端，B2B 合約月薪淨額 21-32k 波蘭茲羅提**](https://www.callstack.com/senior-react-native-developer)

您想開發全球最多人使用的應用程式嗎？想共同打造 React Native 技術嗎？加入 Callstack 的 React 和 React Native 領導者團隊。查看我們的網站獲取更多詳情。我們期待您的申請——展現您的實力吧！

🧑‍💼 [**G2i - 100% 遠端 React Native 職缺**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我們有多個 React Native 開發職缺！薪資約 16 萬美元外加 10% 獎金。需具備 RN 實際生產經驗且位於美國。私訊 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多，別忘了提及 This Week in React。

💡 [如何發布職缺？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [使用 CSS 錨點定位將元素彼此繫結](https://developer.chrome.com/blog/tether-elements-to-each-other-with-css-anchor-positioning/)：可取代 Popper、Floating-UI 或 Tether 等定位函式庫的 CSS 草案功能
- [TypeScript 5.0 RC](https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-rc/)
- [Zod 3.21](https://twitter.com/colinhacks/status/1632472849960280064)
- [ArkType - 適用 TS/JS 的同構類型](https://github.com/arktypeio/arktype)
- [JavaScript 導入映射 Part 2：深度探索](https://spidermonkey.dev/blog/2023/03/02/javascript-import-maps-part-2-in-depth-exploration.html)
- [WebAssembly 能解決 Serverless 的問題嗎？](https://thenewstack.io/can-webassembly-solve-serverless-problems/)
- [JavaScript 垃圾回收機制實驗](https://dev.to/codux/experiments-with-the-javascript-garbage-collector-2ae3)
- [Drizzle ORM - 適用 SQL 的 TypeScript ORM](https://github.com/drizzle-team/drizzle-orm)

---

## 🤭 趣味 {#fun}

[![alt](/emails/issues/137/meme.jpg)](https://twitter.com/potetotes/status/1631401117186764803)

🤣 [本週其他搞笑推文](https://twitter.com/sebastienlorber/status/1633443251955875840)

下次見！👋