---
slug: /233
title: "This Week In React #233: RSC, Next.js, Compiler, Unhead, Shadcn, Relay, Mantine | Expo, WebGPU, Skia, Apple fees, Reanimated, Fragment Refs | Node.js, TS, Prisma, Deno, GSAP"
authors: [slorber]
date: 05-07-2025
---

大家好！

本週我們有兩篇 Dan Abramov 的精彩部落格文章，以及多個 React 發布。

我發現行動端新聞特別有趣，包含 Expo 53、Skia Graphite、Reanimated 共享元素轉場效果，以及蘋果收費禁令。

我在 ui.dev 的同事也推出了 [react.gg](https://react.gg/?ref=twir) 課程的最終內容（現享 7 折），該課程從基礎原理教你所有全新的 React 19 概念。我提前審閱過，保證這是透過豐富的互動範例、視覺化圖表和實用測驗來玩轉式學習 React 的絕佳方式。

<!-- truncate -->

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助 {#sponsor1}

[![減少 React 程式碼審查時間與錯誤量](/emails/issues/233/coderabbit.jpg)](https://coderabbit.link/this-week-in-react-7may-2025)

**[減少 React 程式碼審查時間與錯誤量](https://coderabbit.link/this-week-in-react-7may-2025)**

程式碼審查至關重要但耗時。CodeRabbit 作為你的 AI 副駕駛，即時提供程式碼審查意見與每個 PR 的潛在影響分析。

不僅標記問題，CodeRabbit 還提供一鍵修復建議，並讓你用 AST Grep 模式自訂程式碼品質規則，捕捉傳統靜態分析工具可能忽略的細微問題。

CodeRabbit 已審查超過 500 萬個 PR，安裝於 100 萬個儲存庫，被 5 萬個開源專案使用。開源專案完全免費。[立即開始！](https://coderabbit.link/this-week-in-react-7may-2025)

---

## ⚛️ React {#react}

- 💸 [Product for Engineers - What engineers get wrong about communication](https://go.posthog.com/twir-may7)
- 👀 [Next.js Docs \- New `runAfterProductionCompile` lifecycle hook](https://nextjs.org/docs/architecture/nextjs-compiler#runafterproductioncompile): Upcoming (unreleased) feature already documented.
- 💬 [React Compiler oxc plugin](https://github.com/oxc-project/oxc/issues/10048): Interesting discussions between the React Compiler team and the oxc team to integrate the compiler as an oxc plugin for upcoming usage with Vite and Oxc/Rolldown. The React team suggests making it happen in 2 steps (make it work, then make it fast).
- 🧵 [shadcn introducing the registry MCP \- One command to make any component registry mcp-compatible.](https://threadreaderapp.com/thread/1917597228513853603.html)
- 📜 [Functional HTML](https://overreacted.io/functional-html/): Dan gradually reinvents the HTML he wants from first principles, leading to an RSC implementation.
- 📜 [RSC for Astro Developers](https://overreacted.io/rsc-for-astro-developers/): RSC and Astro have 2 remarkably similar mental models, but Dan exposes some interesting subtle differences. RSCs may feel less intuitive at first, but they also solve some of Astro’s limitations.
- 📜 [The future of AI interaction: Beyond just text](https://www.epicai.pro/the-future-of-ai-interaction-beyond-just-text-w22ps): Kent argues that MCPs could have a role to play in implementing generative UIs with React Server Components. He wants the protocol to allow richer return types like html and RSC payloads.
- 📜 [Frontends are hard](https://sst.dev/blog/frontends-are-hard): The devs at SST reflect on the challenges of self-hosting modern meta-frameworks, including React ones, that led them to start the OpenNext initiative.
- 📜 [Add a Color Scheme Toggle in React Router](https://sergiodxa.com/tutorials/add-a-color-scheme-toggle-in-react-router): This method avoids FOUC with a cookie instead of inlined JS.
- 📜 [Robust Data Fetching Architecture For Complex React/Next.js Apps](https://www.trevorlasn.com/blog/fetching-data-for-complex-next-and-react-apps): Suggests using 3 layers: Server Components, React Query, and Optimistic Updates.
- 📜 [Server Components Give You Optionality](https://saewitz.com/server-components-give-you-optionality): They give flexibility to choose in which environments your components run in (Server, Server+Client, or Client) and when.
- 📜 [How We Fell Out of Love with Next.js and Back in Love with Ruby on Rails & Inertia.js](https://hardcover.app/blog/part-1-how-we-fell-out-of-love-with-next-js-and-back-in-love-with-ruby-on-rails-inertia-js)
- 📜 [Why Kleinanzeigen.de Picked Astro Over Next.js](https://d13z.dev/blog/07-why-kleinanzeigen-picked-astro-over-nextjs/)
- 📜 [When You Might Need to Override the Defaults in TanStack Query](https://www.kxlaa.com/articles/when-you-might-need-to-override-the-defaults-in-tanstack-query)
- 💸 [React.gg - The interactive way to master modern React, including new v19 modules - 30% off during launch week](https://react.gg/?ref=twir)
- 📦 [Unhead 2.0 \- The full stack \<head\> package for any framework](https://unhead.unjs.io/v2): This framework-agnostic package from the UnJS ecosystem now includes React bindings. This could be a great drop-in alternative to `react-helmet` with React 19 support if the new built-in APIs are not good enough for you (see [my comment here](https://github.com/staylor/react-helmet-async/issues/239#issuecomment-2565685131)).
- 📦 [Blade \- Build instant web apps with React](https://github.com/ronin-co/blade): A new opinionated React meta-framework with Server Components support, that purposefully doesn’t comply with the RSC spec.
- 📦 [Relay 19.0 \- `@alias` required on conditional fragments, support React 19](https://relay.dev/blog/2025/04/02/relay-19/)
- 📦 [Mantine 8.0 \- Updated dates package, new TimePicker, Heatmap, CodeHighlight components, nested menus and more](https://mantine.dev/changelog/8-0-0/)
- 📦 [React Error Boundary 6.0 \- ESM-only](https://github.com/bvaughn/react-error-boundary/releases/tag/6.0.0)
- 📦 [React Admin 5.8 \- InPlaceEditor, DataTable, AuthLayout, MUI v7, CSS vars, theming](https://github.com/marmelab/react-admin/releases/tag/v5.8.0)
- 📦 [Unverceled Next.js \- A Next.js 15 Starter Kit Deployed to Cloudflare using OpenNext](https://github.com/ixahmedxi/unverceled-nextjs)
- 📦 [Radix UI \- New unstable PasswordToggleField and Checkbox parts](https://www.radix-ui.com/primitives/docs/overview/releases#may-5-2025)
- 📦 [React Router DevTools 5.0 \- Complete overhaul of the routes tab](https://github.com/forge-42/react-router-devtools/releases/tag/v5.0.0)
- 📦 [MUI 7.1 \- Support for Tailwind CSS 4](https://github.com/mui/material-ui/releases/tag/v7.1.0)
- 🎥 [Jack Herrington \- React's New Activity Component: Huge Performance Win\!](https://www.youtube.com/watch?v=gRKVL5w-2Lc)
- 🎥 [Fireship \- The growing divide among React developers…](https://www.youtube.com/watch?v=lLJbHHeFSsE)
- 🎙️ [Front-end Fire 93 \- React Activity, Storybook 9 Beta, and AI as a Collaborator](https://front-end-fire.com/episodes/93/)

<SubscribeFormEmbed placement="middle" />

---

## 💸 贊助 {#sponsor2}

[![用 Tolgee 簡化應用程式翻譯](/emails/issues/233/tolgee.jpg)](https://tolg.ee/y1z3eb)

**[用 Tolgee 簡化應用程式翻譯](https://tolg.ee/y1z3eb)**

[Tolgee](https://tolg.ee/y1z3eb) 是**開源工具**，透過節省開發者時間、消除無盡的翻譯試算表來簡化**在地化**流程 🌎

立即提升效率！Tolgee 協助：

- 委派翻譯給團隊成員——節省開發時間！
- 上下文即時翻譯
- 瀏覽器擴充功能點擊翻譯
- 擺脫雜亂試算表和 JSON

免費版**無需信用卡**，完美適合小型專案！你可立即試用所有功能並整合至專案，為迎接全球用戶做好準備。

---

## 📱 React-Native {#react-native}

[![Expo SDK 53](/emails/issues/233/expo53.jpg)](https://expo.dev/changelog/sdk-53)

**[Expo SDK 53](https://expo.dev/changelog/sdk-53)**

這是相當令人印象深刻的 Expo 發布，重點包括：

- 升級至 React Native 0.79、React 19 和 RNW 0.20
- 預設啟用 New Arch 架構
- Android 預設啟用邊到邊（Edge-to-edge）顯示
- 全新 [Expo BackgroundTask](https://expo.dev/blog/goodbye-background-fetch-hello-expo-background-task)，透過 Android `WorkManager` 和 iOS `BGTaskScheduler` 系統 API 實現現代化、可靠、節能且面向未來的背景任務執行
- 全新 [Expo Maps](https://expo.dev/blog/introducing-expo-maps-a-modern-maps-api-for-expo-developers)（alpha 版），基於 Expo Modules API 構建，採用 SwiftUI 和 Jetpack Compose，可調用平台原生的 Apple 地圖和 Google 地圖元件
- 預設啟用 Metro `package.json#exports` 解析功能
- 使用 `npx testflight` 部署開發版本至 TestFlight
- 透過預先建置的 Expo Modules 將 Android 建置時間縮短最高 25%
- 還有更多功能！

另請參閱相關發布 [Expo Router v5](https://expo.dev/blog/expo-router-v5) 的重點更新：

- 需搭配 React 19 / Expo 53
- 改善開發者體驗（DX）、錯誤畫面與日誌記錄，充分利用 React 所有權堆疊（owner stacks）
- 透過 EAS Hosting 在生產環境部署版本化 API 路由
- React Server Functions 進入測試階段
- 受保護路由機制

---

[![遊戲開始 - 將 WebGPU 引入 React Native](/emails/issues/233/skia.jpg)](https://www.youtube.com/watch?v=t9t-VXwIc4I)

**[🎥 遊戲開始 - 將 WebGPU 引入 React Native](https://www.youtube.com/watch?v=t9t-VXwIc4I)**

在這段 37 分鐘充滿亮點的影片中，William Candillon 與來賓們揭示了繪圖與動畫的未來藍圖。在 Shopify 支持下，他正將現代 WebGPU 支援（Vulkan 和 Metal）引入 React Native。

透過對齊 Web API，可直接複製/貼入現有 Web 範例（包含 Three.js）並跨平台運行。同時解鎖 GPU 通用運算能力（如 AI、TensorFlow.js），透過簡便的底層 TypeGPU 函式庫更易實現。

這些努力催生了基於 WebGPU 的全新實驗性 Skia Graphite 後端。它能以高效能方式組合與交錯 2D/3D 體驗，如同在 Web 端實現，但跨足所有平台並整合 Reanimated。Skia 雖未新增功能，卻大幅提升效能、減少崩潰，並新增支援三大平台：tvOS、macOS 與 Node。繼續優化吧 William！

---

- 💸 [React Universe Conf 2025 adds new speakers: V. Morozov & K. Hosany (Microsoft), K. Hansen (MongoDB), Z. Chapple (Zephyr Cloud) and more.](https://www.reactuniverseconf.com/?utm_campaign=7310698-RUC%202025&utm_source=TWIR&utm_content=New%20Speakers)
- ⚖️ [Epic Games Wins Major Victory as Apple is Ordered to Comply With App Store Anti-Steering Injunction](https://www.macrumors.com/2025/04/30/apple-app-store-anti-steering-injunction-violation/): A court judged that Apple purposefully did not comply with a former injunction to let apps use alternative payment methods and bypass the 30% fee on in-app purchases. “For this Court, there is no second bite at the apple”. A major event for the mobile industry that enables Fortnite to return, the Kindle app to finally sell e-books directly, and new business models. Check [Expo](https://expo.dev/blog/mobile-app-payment-processing-best-practices) and [Vercel](https://vercel.com/blog/ios-developers-can-now-offer-commission-free-payments-on-web) guides and starters to avoid the fee.
- 👀 [React Core PR \- Add Fragment Refs to Fabric with intersection observer support](https://github.com/facebook/react/pull/33056): The recent React Labs post briefly mentioned an upcoming [Fragment Refs](https://react.dev/blog/2025/04/23/react-labs-view-transitions-activity-and-more#fragment-refs) feature. It looks like in the future we’ll be able to use a web-like IntersectionObserver to know when a React fragment enters the screen. Still research/work-in-progress, but exciting new features ahead.
- 👀 [Reanimated PR \- Shared Elements Transitions on the New Architecture](https://github.com/software-mansion/react-native-reanimated/pull/7466): Exciting draft PR from Software Mansion that plans to stabilize Shared Elements Transitions for the New Architecture (that enables sharing C++ code between platforms).
- 📜 [Sirens, Sagas, and Stack Traces: A React Native Upgrade Odyssey](https://shift.infinite.red/sirens-sagas-and-stack-traces-a-react-native-upgrade-odyssey-52db6beb0aac)
- 🔨 [Package Checker \- Check for New Architecture compatibility](https://react-native-package-checker.vercel.app/)
- 📦 [Compose Multiplatform 1.8 \- Compose Multiplatform for iOS Is Stable and Production-Ready](https://blog.jetbrains.com/kotlin/2025/05/compose-multiplatform-1-8-0-released-compose-multiplatform-for-ios-is-stable-and-production-ready/): The cross-platform UI toolkit from JetBrains enables code sharing between iOS and Android. Unlike React Native, the iOS (and web) support is based on Skia, not using UIKit native elements.
- 📦 [Zustand 5.0.4 \+ Jotai 2.12.4](https://github.com/pmndrs/jotai/discussions/3041): Fixing an incompatibility issue with RN 0.79 / Expo 53 / Metro 0.82.
- 📦 [Nitro Audio Manager \- Nitro module for AVAudioSession/AudioManager APIs](https://github.com/ChristopherGabba/react-native-nitro-audio-manager)
- 📦 [Expo Build Disk Cache \- A plugin for Expo CLI to improve build time](https://github.com/WookieFPV/expo-build-disk-cache)
- 📦 [Expo App Template \- Modern, sensible defaults and fast Expo app template](https://github.com/nkzw-tech/expo-app-template)
- 🎥 [Jamon Holmgren \- How to build a Mac app with React Native for macOS](https://www.youtube.com/watch?v=0h-owMCfy5s)
- 🎥 [React Universe Meetup \- 3 new videos from April: Polygen, File-based router, native feel](https://www.youtube.com/playlist?list=PLZ3MwD-soTTEFaxmATqOTcitPEK5iaz1z)
- 🎥 [Simon Grimm \- Finally React Native UI Components (Expo 53\)](http://youtube.com/watch?v=kGUrNO8WmCU)
- 🎙️ [React Native Radio 330 \- and Accessibility with Karly Lamm](https://infinite.red/react-native-radio/rnr-330-react-native-and-accessibility-with-karly-lamm)
- 🎙️ [Rocket Ship 67 \- Quitting RN, React Compiler, Legend List & RN Performance](https://share.transistor.fm/s/18111ecc)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.9 迭代計劃](https://github.com/microsoft/TypeScript/issues/61648)
- 📖 [Node.js 文件 - 發佈套件](https://nodejs.org/en/learn/modules/publishing-a-package): 新版官方指南，同時涵蓋 ESM/CJS 的細微差異。
- 📜 [JavaScript 中將值轉換為字串存在陷阱](https://2ality.com/2025/04/stringification-javascript.html)
- 📜 [尋求解答：為何 HTML 無法獨自實現 include 功能？](https://frontendmasters.com/blog/seeking-an-answer-why-cant-html-alone-do-includes/)
- 📦 [Node 24.0](https://nodejs.org/en/blog/release/v24.0.0): 新版 Node.js 已發布，預計十月成為 LTS 版本，包含 npm 11、`AsyncLocalStorage` 效能改進、`URLPattern` API，以及升級至 V8 v13.6 的重大更新，解鎖了諸如顯式資源管理（`using`）或 `RegExp.escape()` 等新 JS API（現已[全面可用](https://web-platform-dx.github.io/web-features-explorer/features/regexp-escape/)）。
- 📦 [GSAP 3.13 - JS 動畫函式庫 - 現已 100% 免費，包含所有外掛](https://gsap.com/blog/3-13/)
- 📦 [Deno 2.3 - 改進 deno compile、本地 npm 套件、標記模板中的 deno fmt 等功能](https://deno.com/blog/v2.3)
- 📦 [Prisma 6.7 - 無需 Rust 的 ORM，支援多檔案結構描述](https://github.com/prisma/prisma/releases/tag/6.7.0)

---

## 🤭 有趣 {#fun}

[![alt](/emails/issues/233/meme.jpg)](https://x.com/sebastienlorber/status/1920045489371951117)

[![alt](/emails/issues/233/meme2.jpg)](https://x.com/kzzzf/status/1920091355868520557)

下次見！👋