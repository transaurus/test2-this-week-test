---
slug: /145
title: "This Week In React #145: Next.js, Server Actions, useFormStatus, useOptimistic, App Router, Canaries, Ink, ReasonML, Redwood, Reanimated, VisionCamera..."
authors: [slorber]
date: 05-09-2023
---

å¤§å®¶å¥½ï¼

æ­£å¦‚é æœŸï¼ŒNext.js çš„æ–°ç‰ˆæœ¬å·²ç¶“ç™¼å¸ƒã€‚ä¸€äº› React å‰µæ–°åœ¨ Next.js æ–‡ä»¶ä¸­çš„è¨˜è¼‰æ¯” React æœ¬èº«çš„æ–‡ä»¶æ›´è©³ç´°ï¼Œä¾‹å¦‚è¡¨å–®çš„ `action`ï¼Œæˆ–æ˜¯å…©å€‹æ–°æ›é‰¤ `useFormStatus` å’Œ `useOptimistic`ã€‚

ç›®å‰æœ‰è¨±å¤šæœƒè­°æ­£åœ¨é€²è¡Œã€‚Remix Conf å’Œ App.js ä»Šå¤©é–‹å§‹ï¼šè‚¯å®šæœƒæœ‰ä¸€äº›ä¸éŒ¯çš„å…¬å‘Šã€‚

[React-Native-Connection](https://reactnativeconnection.io/)ï¼ˆå·´é»ï¼Œ6 æœˆ 1 æ—¥ï¼‰ä¹Ÿåªå‰©å¹¾é€±äº†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»£ç¢¼ "REACTHEBDO" ç²å¾— -20% çš„æŠ˜æ‰£ï¼

æˆ‘è¨ˆåŠƒè·³éä¸‹é€±çš„ç‰ˆæœ¬ã€‚ä¸‹ä¸€æœŸå°‡æ–¼ 5 æœˆ 24 æ—¥ç™¼å¸ƒ ğŸ‘‹

<!-- truncate -->

**ğŸ’¡ [åœ¨ Twitter ä¸ŠæŸ¥çœ‹æœ¬é€šè¨Š](https://slo.im/thread) - è¦–è¦ºæ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ è´ŠåŠ© {#sponsor1}

[![Start UI](/emails/issues/144/start_ui.jpg)](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)

**[Start UI [web] - å›ºåŸ·å·±è¦‹çš„ç¶²é æ‡‰ç”¨ç¨‹å¼ UI èµ·æ‰‹å¼](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)**

æˆ‘å€‘çš„**å…è²»é–‹æº UI ç¶²é æ‡‰ç”¨ç¨‹å¼èµ·æ‰‹å¼**æä¾›äº†ä¸€ç¨®å¿«é€Ÿç°¡ä¾¿çš„æ–¹å¼ä¾†å¼•å°æ‚¨çš„ä¸‹ä¸€å€‹å°ˆæ¡ˆã€‚å®ƒåŒ…å«**æœ€ä½³å¯¦è¸å’Œç”Ÿç”¢å°±ç·’çš„å·¥å…·**ï¼Œå¹«åŠ©æ‚¨ç«‹å³é–‹å§‹ï¼Œç¯€çœåˆå§‹è¨­å®šéšæ®µçš„æ™‚é–“å’Œç²¾åŠ›ã€‚

å…·å‚™å…§å»º**åŠŸèƒ½**å¦‚ ğŸ” èº«ä»½é©—è­‰ã€ğŸ“± éŸ¿æ‡‰å¼ä½ˆå±€ã€ğŸ§‘â€ğŸ’» ä½¿ç”¨è€…ç®¡ç†ã€ğŸ‡«ğŸ‡· åœ‹éš›åŒ–èˆ‡å¾å³è‡³å·¦æ”¯æ´ã€ğŸŒš æ·±è‰²æ¨¡å¼ã€ğŸ› æ˜“æ–¼é–‹ç™¼çš„å…ˆé€²å…ƒä»¶ã€‚æ‚¨å¯ä»¥è©¦ç”¨[ç¯„ä¾‹æ‡‰ç”¨ç¨‹å¼](https://demo.start-ui.com)ã€‚

æº–å‚™å¥½èˆ‡ **TypeScript**ã€**NextJS**ã€Chakra UIã€TanStack Queryã€Storybook ç­‰ä¸€èµ·ä½¿ç”¨ã€‚

[ğŸš€ Start UI [web] åœ¨ GitHub ä¸Š](https://web.start-ui.com)

---

## âš›ï¸ React {#react}

[![Next.js 13.4](/emails/issues/145/nextjs.jpg)](https://nextjs.org/blog/next-13-4)

**[Next.js 13.4](https://nextjs.org/blog/next-13-4)**

Next.js çš„ä¸€å€‹ä¸»è¦ç‰ˆæœ¬ï¼ŒåŒ…å«ï¼š

- App Routerï¼ˆç©©å®šç‰ˆï¼‰ï¼šåŸºæ–¼ Suspense å’Œ Server Components çš„æ–°è·¯ç”±å™¨å·²æº–å‚™å¥½æŠ•å…¥ç”Ÿç”¢ç’°å¢ƒ
- Turbopackï¼ˆæ¸¬è©¦ç‰ˆï¼‰ï¼šæ–°çš„æ‰“åŒ…å·¥å…·åœ¨é–‹ç™¼ç’°å¢ƒä¸­è¶¨æ–¼ç©©å®šï¼Œç”Ÿç”¢ç‰ˆæœ¬å³å°‡æ¨å‡º
- Server Actionsï¼ˆAlpha ç‰ˆï¼‰ï¼šNext.js æ•´åˆäº†æœ€æ–°çš„ React å‰µæ–°

éƒ¨è½æ ¼æ–‡ç« å±•ç¤ºäº†èˆ‡èˆŠè·¯ç”±å™¨è¨±å¤šé¡¯è‘—çš„å·®ç•°ï¼šæ…£ä¾‹ã€åµŒå¥—ä½ˆå±€ã€é¸æ“‡æ€§è£œæ°´ï¼ˆhydrationï¼‰ã€ä¼ºæœå™¨å…ƒä»¶ã€ç¨‹å¼ç¢¼åˆ†å‰²...

å®ƒé‚„æ­ç¤ºäº†ç®¡ç†è®Šç•°å’Œè¡¨å–®æäº¤çš„æ–° React å‰µæ–°ï¼Œé€™äº›å‰µæ–°åœ¨ Next.js ä¸­çš„æ•´åˆå‚¬ç”Ÿäº† Server Actionsã€‚é€™å¤§å¤§ç°¡åŒ–äº†èˆ‡ä¼ºæœå™¨çš„äº’å‹•ï¼Œç„¡éœ€å»ºç«‹ API è·¯ç”±ï¼Œä¸¦ä½¿ç”¨æ”¯æ´[æ¼¸é€²å¢å¼·](https://twitter.com/acdlite/status/1654159613950828546)çš„è¡¨å–®ã€‚ç¾åœ¨å¯ä»¥å»ºç«‹å’Œåˆ†ç™¼å…¨ç«¯ React å…ƒä»¶ã€‚

è«‹æ³¨æ„ï¼Œåœ¨ç”Ÿç”¢ç’°å¢ƒä¸­æ¡ç”¨ Server Actions é‚„ç‚ºæ™‚éæ—©ã€‚å®ƒå€‘ç›®å‰è™•æ–¼ Alpha éšæ®µï¼Œæ‚¨å¯èƒ½æœƒæ„å¤–åœ°å°‡ Server Action é–‰åŒ…ä¸­æ•ç²çš„ç§˜å¯†æš´éœ²çµ¦å®¢æˆ¶ç«¯ã€‚è©³ç´°è³‡è¨Šè«‹åƒé–±ï¼š

- ğŸ§µ [è¨è«–ä¸²](https://twitter.com/tomus_sherman/status/1654198731313500174)ï¼šè­¦å‘Šæ­¤å•é¡Œ
- ğŸ¦ [Sebastian MarkbÃ¥ge](https://twitter.com/sebmarkbage/status/1654212899097960448) å’Œ [Andrew Clark](https://twitter.com/acdlite/status/1654317374777032704) å·²ç¢ºèªå•é¡Œä¸¦æå‡ºåŠ å¯†è®Šæ•¸è§£æ³•
- ğŸ¥ [Nextçš„Server Actionså¯èƒ½æ²’é‚£éº¼å®‰å…¨...](https://www.youtube.com/watch?v=fdKcbyEK66M)

**å…¶ä»–å¯¦ç”¨é€£çµï¼š**

- ğŸ“– [æ–°ç‰ˆNext.jsæ–‡ä»¶](https://twitter.com/leeerob/status/1654181055740497939)ï¼šæ–°betaç‰ˆæ–‡ä»¶å·²éƒ¨ç½²è‡³æ­£å¼ç’°å¢ƒï¼Œç‰¹åˆ¥æ¨è–¦é–±è®€[Reactç²¾è¦](https://nextjs.org/docs/getting-started/react-essentials)
- ğŸ‘€ [useOptimistic](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useoptimistic) èˆ‡ [useFormStatus](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useformstatus)ï¼šReactæ–°å¯¦é©—æ€§é‰¤å­
- ğŸ“œ [Next.js 13.4 on Vercel](https://vercel.com/changelog/next-js-13-4)
- ğŸ“œ [Vercelè³‡æ–™å¿«å–ä»‹ç´¹ï¼šReactä¼ºæœå™¨å…ƒä»¶å„ªåŒ–å¿«å–æ–¹æ¡ˆ](https://vercel.com/changelog/introducing-vercel-data-cache)
- ğŸ§µ [Guillermo Rauch - "æˆ‘ç”¨App Routeré‡æ–°è¨­è¨ˆäº†rauchg.com"](https://twitter.com/rauchg/status/1652093972117073920)ï¼šå¯¦å‹™ç¶“é©—åˆ†äº«
- ğŸ¥ [Next.jsæ‡‰ç”¨è·¯ç”±ä»‹ç´¹](https://www.youtube.com/watch?v=DrxiNfbr63s)

---

- ğŸ§‘â€ğŸ“ [TotalTypeScript - React with TypeScript tutorial](https://www.totaltypescript.com/tutorials/react-with-typescript): free tutorial by Matt Pocock, the TypeScript wizard.
- ğŸ¨ [The Rendering Journey of a React component](https://alexsidorenko.com/react-journey): step-by-step visualization of re-rendering.
- ğŸ“œ [React Canaries: Enabling Incremental Feature Rollout Outside Meta](https://react.dev/blog/2023/05/03/react-canaries): the React team presenting a new canary release channel which allows frameworks to adopt new React features before their official stable release. The canary releases are stable enough to be adopted in production. This is what Next.js App Router uses now, but also what Meta and React-Native always relied on.
- ğŸ“œ [React Server Components, Next.js App Router and examples](https://addyosmani.com/blog/react-server-components-app-router/): Addy Osmani shares his notes and reflections on Server Components. A good overview, as well as many examples of open-source apps. Also lists reasons to stop using Create-React-App.
- ğŸ“œ [5 Lessons Learned From Taking Next.js App Router to Production](https://www.inngest.com/blog/5-lessons-learned-from-taking-next-js-app-router-to-production): feedback from Inngest who successfully migrated a CRA app to Next.js and App Router. There are some interesting details about caching or search parameters.
- ğŸ“œ [Server-side rendering React in OCaml](https://sancho.dev/blog/server-side-rendering-react-in-ocaml): Ahrefs devs use Reason-React. They reimplemented `ReactDOMServer.renderToString` in OCaml to be able to run the SSR natively and solve some of their issues. Their SSR is now 10x faster than Node.js and 6x faster than Bun. The idea of running SSR natively is very interesting, but it will take a lot of work to support the latest innovations like streaming and Server Components.
- ğŸ“œ [HTMX is the Future](https://quii.dev/HTMX_is_the_Future): a critique of SPA frameworks, in particular React. Proposes to use an alternative: HTMX and hypermedia responses. I find it interesting for backend devs who want to add interactivity without doing JavaScript, but not sure that it scales that well.
- ğŸ“œ [Context, Composition, and Flexibility](https://kyleshevlin.com/context-composition-and-flexibility): proposes to use the React context to activate an alternative rendering of a component on a whole subtree.
- ğŸ“œ [My Struggle With Remix](https://redd.one/blog/my-struggle-with-remix): interesting feedback. The author still loves Remix, but presents some challenges encountered while using it.
- ğŸ“œ [Pull to refresh from scratch as a React hook](https://www.strictmode.io/articles/react-pull-to-refresh)
- ğŸ“œ [Creating an interactive spotlight border with CSS and React](https://www.julienthibeaut.xyz/blog/create-spotlight-border-with-react-css)
- ğŸ“¦ [Redwood 5.0](https://community.redwoodjs.com/t/redwood-v5-0-0-is-now-available/4830): React 18, TypeScript v5 and observability.
- ğŸ“¦ [Ink UI - Themable UI components for your next CLI](https://twitter.com/vadimdemedes/status/1655567427885846534): great example of the React cross-platform abilities. It's possible to render to the terminal, and even create UI libs for that particular ecosystem.
- ğŸ“¦ [OpenNext 1.2.0 - geolocation in middleware](https://twitter.com/fanjiewang/status/1654192897678295040)
- ğŸ“¦ [Zact - Zod Server ACTions](https://github.com/pingdotgg/zact)
- ğŸ“¦ [Astro 2.4](https://astro.build/blog/astro-240/)
- ğŸ“¦ [server-only](https://www.npmjs.com/package/server-only): official React package to prevent the import of server code into Client Components (see [Next.js docs](https://nextjs.org/docs/getting-started/react-essentials#keeping-server-only-code-out-of-client-components-poisoning)).
- ğŸ“¦ [shadcn UI - Table and Data Table components](https://twitter.com/shadcn/status/1656019263394836480)
- ğŸ“¦ [Million.js 2.3.1 - Astro support (beta)](https://twitter.com/aidenybai/status/1655088722222923776)
- ğŸ“Š [State of React 2023 - Preliminary Discussions](https://github.com/Devographics/surveys/issues/85): there might be a survey dedicated to React this year.
- ğŸ‘€ [RSCs on Rspack](https://twitter.com/_hyf0/status/1655538017669648385)
- ğŸ‘€ [Edit audio with Remotion](https://twitter.com/JNYBGR/status/1655853159623917568)
- ğŸ¥ [Always Bet On React](https://www.youtube.com/watch?v=TnyslkPfXaM)
- ğŸ¥ [I'm Done With React](https://www.youtube.com/watch?v=Zt8mO_Aqzw8)
- ğŸ¥ [Should You Learn React in 2023? - Interview with React Summit Speakers Tru Narla and Jordan Gensler](https://www.youtube.com/watch?v=5xRqP-M8MkM)
- ğŸ‘¥ [React Summit](https://reactsummit.com/?utm_source=email&utm_medium=thisweekinreact) (Amsterdam, June 2-6) is offering us -5% on tickets (code "ThisWeekInReact5") and -10% on [workshops](https://reactsummit.com/react-workshops) (code "THISWEEKINREACT")

<SubscribeFormEmbed />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor2}

[![Nylas](/emails/issues/144/nylas_2.png)](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)

**[OpenAI + Nylasçˆé‚Šå°è«‡ï¼šç”Ÿæˆå¼AI](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)**

æƒ³æ·±å…¥æ¢ç´¢ç”Ÿæˆå¼AIçš„æœªä¾†å—ï¼Ÿ[OpenAIèˆ‡Nylaså°‡æ–¼5æœˆ17æ—¥èˆ‰è¾¦å…¬é–‹çˆé‚Šå°è«‡](https://info.nylas.com/firesidechat-openai-registrationpage.html?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-Webinar&utm_content=march-9-issue&utm_term=)ï¼Œç”±OpenAIæ‡‰ç”¨å·¥ç¨‹ä¸»ç®¡Evan Morikawaèˆ‡NylasæŠ€è¡“é•·æš¨å…±åŒå‰µè¾¦äººChristine Spangå°è«‡ã€‚ä»–å€‘å°‡æ¢è¨å¤§è¦æ¨¡äº¤ä»˜èˆ‡ç¶­è­·AIè§£æ±ºæ–¹æ¡ˆçš„é—œéµè¦ç´ ã€AIæŠ€è¡“æˆç†Ÿçš„ä¸‹éšæ®µç™¼å±•ç­‰è­°é¡Œã€‚[ç«‹å³å ±å](https://info.nylas.com/firesidechat-openai-registrationpage.html?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-Webinar&utm_content=march-9-issue&utm_term=)ã€‚

---

## ğŸ“± React-Native {#react-native}

- ğŸ“– [New Reanimated Beta docs](https://twitter.com/swmansion/status/1655930596093472774)ï¼šå…¨æ–°çš„äº’å‹•å¼ Docusaurus æ–‡ä»¶ï¼ŒåŒ…å«è¨±å¤šåœ¨ React-Native-Web å¯¦ä½œçš„ç¯„ä¾‹ã€‚
- ğŸ¨ [VisionCamera + Skia + TensorFlow demo](https://twitter.com/mrousavy/status/1654143459849121792)ï¼šç¾ä»Šåœ¨ React-Native èƒ½å¯¦ç¾çš„åŠŸèƒ½ä»¤äººé©šå˜†ã€‚Skia æ¸²æŸ“å’Œ TensorFlow æ¨¡å‹å¯é€éç©ºä¸­ä¸‹è¼‰(OTA)æ›´æ–°ã€‚
- ğŸ¨ [Reanimated 3 + Expo Router + Shared Element Transitions demo](https://twitter.com/kacperkapusciak/status/1654434612825792513)
- ğŸ“œ [Best tips & tricks for E2E Maestro with React Native](https://dev.to/retyui/best-tips-tricks-for-e2e-maestro-with-react-native-2kaa)
- ğŸ“œ [React Native run-android: How to Test Various Device Types](https://www.testim.io/blog/react-native-run-android/)
- ğŸ‘¥ [App.js](https://appjs.co/) (å…‹æ‹‰ç§‘å¤«ï¼Œ5æœˆ10-12æ—¥) æä¾›æˆ‘å€‘[-20%å·¥ä½œåŠå„ªæƒ ](https://ti.to/appjs/2023/discount/ThisWeekinReact20) (ä»£ç¢¼ "ThisWeekinReact20")ã€‚
- ğŸ‘¥ [Chain React](https://chainreactconf.com/) (æ³¢ç‰¹è˜­ï¼Œ5æœˆ18-19æ—¥) æä¾›æˆ‘å€‘ -10% é–€ç¥¨å„ªæƒ  (ä»£ç¢¼ "thisweekinreact")ã€‚
- ğŸ‘¥ [React-Native-Connection](https://reactnativeconnection.io/) (å·´é»ï¼Œ6æœˆ1æ—¥) æä¾›æˆ‘å€‘ -10% é–€ç¥¨å„ªæƒ  (ä»£ç¢¼ "REACTHEBDO")ã€‚

---

## ğŸ§‘â€ğŸ’» è·ç¼º {#jobs}

ğŸ§‘â€ğŸ’¼ [**Passionfroot - è³‡æ·±å…¨ç«¯å·¥ç¨‹å¸« (Remix) - â‚¬160k+ï¼ŒæŸæ—/é ç«¯**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot çš„ä½¿å‘½æ˜¯é€é YouTubeã€Podcastsã€ç¤¾ç¾¤åª’é«”å’Œé›»å­å ±è³¦èƒ½æœªä¾†çš„ç¨ç«‹äº‹æ¥­ã€‚åŠ å…¥æˆ‘å€‘å…±åŒæ‰“é€ èƒ½è®“å…¨çƒå‰µä½œè€…å»ºç«‹å¯æ“´å±•ã€æ°¸çºŒäº‹æ¥­çš„å·¥å…·ã€‚

ğŸ§‘â€ğŸ’¼ [**Callstack - è³‡æ·± React Native é–‹ç™¼è€… - å…¨é ç«¯ï¼Œæœˆè–ª PLN 21-32k æ·¨é¡ (B2B)**](https://www.callstack.com/senior-react-native-developer)

æ‚¨æƒ³é–‹ç™¼å…¨çƒæœ€ç†±é–€çš„æ‡‰ç”¨ç¨‹å¼å—ï¼Ÿæ‚¨æƒ³å…±åŒå¡‘é€  React Native æŠ€è¡“å—ï¼ŸåŠ å…¥ç”± React & React Native é ˜å°è€…çµ„æˆçš„ Callstack åœ˜éšŠã€‚è©³æƒ…è«‹æŸ¥çœ‹å®˜ç¶²ã€‚æˆ‘å€‘æœŸå¾…æ‚¨çš„ç”³è«‹ - å±•ç¾æ‚¨çš„å¯¦åŠ›ï¼

ğŸ§‘â€ğŸ’¼ [**G2i - 100% é ç«¯ React Native è·ç¼º**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

æˆ‘å€‘æœ‰å¤šå€‹å°ˆæ³¨æ–¼ React Native çš„é–‹ç™¼è·ç¼ºé–‹æ”¾ï¼è–ªè³‡ç´„ 160k ç¾å…ƒå¦åŠ  10% çé‡‘ã€‚éœ€å…·å‚™ RN å¯¦éš›ç”Ÿç”¢ç¶“é©—ä¸”ä½æ–¼ç¾åœ‹å¢ƒå…§ã€‚ç§è¨Š [@gabe_g2i](https://twitter.com/gabe_g2i) äº†è§£æ›´å¤šï¼Œåˆ¥å¿˜äº†æåŠ This Week in Reactã€‚

ğŸ’¡ [å¦‚ä½•ç™¼å¸ƒè·ç¼ºï¼Ÿ](https://thisweekinreact.com/sponsor)

---

## ğŸ”€ å…¶ä»– {#other}

- [HTML å’Œäº’å‹•æ€§çš„å®¢æˆ¶ç«¯æ¸²æŸ“](https://web.dev/client-side-rendering-of-html-and-interactivity/)
- [åœ¨å¯¦é©—å®¤ä¸­è¨ºæ–·ç·©æ…¢çš„äº’å‹•](https://web.dev/diagnose-slow-interactions-in-the-lab/)
- [æˆ‘æƒ³è«‡è«‡ WebGPU](https://cohost.org/mcc/post/1406157-i-want-to-talk-about)
- [ä½¿ç”¨æ²è»¸é©…å‹•å‹•ç•«åœ¨æ»¾å‹•æ™‚å‹•ç•«åŒ–å…ƒç´ ](https://developer.chrome.com/articles/scroll-driven-animations/)
- [å¯¦é©—å®¤èˆ‡ç¾å ´è³‡æ–™ä¸­çš„ç´¯ç©ç‰ˆé¢ä½ç§»å·®ç•°](https://www.debugbear.com/blog/cls-lab-field-differences)
- [Angular v16](https://blog.angular.io/angular-v16-is-here-4d7a28ec680d)
- [Nx v16](https://blog.nrwl.io/nx-16-is-here-69584ec87053#68c6)
- [Vitest 0.31](https://twitter.com/sheremet_va/status/1653827712576880645)

---

## ğŸ¤­ è¶£å‘³ {#fun}

[![è¿·å› åœ–ç‰‡](/emails/issues/145/meme.jpg)](https://twitter.com/markdalgleish/status/1654259858668163072)

å†è¦‹ï¼ğŸ‘‹