---
slug: /204
title: "This Week In React #204: React at Meta, React Compiler, React Router, Next.js, StyleX, Mitosis, One, Hermes, BottomTabs, Zeego, Storybook, Nitro, TC39, Vite, Deno, Bun, Brisa, Lucia..."
authors: [slorber]
date: 10-09-2024
---

大家好！

本週 Meta Connect 活動公布了多項激動人心的 React 跨平台進展，對 React Compiler、StyleX、React Strict DOM 和 Hermes 的使用給予了積極回饋。我也相當期待 React Compiler 將正式支援 React 18 和 React 17（實驗性功能）。

在 React Native 方面，我們也有重要的發布與消息，特別是 Tamagui 團隊推出的新跨平台框架、Zeego 2、原生底部標籤欄，以及 RN Storybook 8。

前端領域中，Deno 2.0 剛發布，同時 TC39 會議也正在進行重要討論。

祝您閱讀愉快！

<!-- truncate -->

**💡 [在 Twitter 上查看本通訊](https://slo.im/thread) - 視覺化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![使用 Clerk 和 React 保護 Node.js Express API](/emails/issues/204/clerk.jpg)](https://go.clerk.com/WER1UiL)

**[使用 Clerk 和 React 保護 Node.js Express API](https://go.clerk.com/WER1UiL)**

了解如何使用 Clerk 搭配 Express 驗證 API 請求。

運用 `ClerkExpressWithAuth()` 和 `ClerkExpressRequireAuth()` 中介軟體保護任何端點，無需從頭建置即可整合驗證功能。

---

## ⚛️ React {#react}

[![React 於 Meta Connect 2024](/emails/issues/204/meta.jpg)](https://engineering.fb.com/2024/10/02/android/react-at-meta-connect-2024/)

[**React 於 Meta Connect 2024**](https://engineering.fb.com/2024/10/02/android/react-at-meta-connect-2024/)

Meta 在近期活動中宣布：

- 為 Meta Quest 頭戴裝置推出的 Instagram 和 Facebook 混合實境應用。這些應用使用 React Native 並運行於 Static Hermes。團隊藉助 StyleX 和 React Strict DOM 等技術，成功復用現有 Facebook 網頁程式碼與基礎架構。
- 全新的 Meta Horizon RN 應用，其效能可媲美原生 Facebook 主應用。團隊提及「隨取隨渲」模式是他們實現的最關鍵效能優化。
- 採用尖端 React Compiler、StyleX 和 React Strict DOM 技術建置的 Meta Horizon Store（支援網頁/行動裝置/HorizonOS）。
- 基於 React Native Windows/macOS 的 Meta Spatial Editor，可整合其專屬 3D 渲染引擎。C++/Qt 團隊最初持懷疑態度，但最終愛上了 Fast Refresh 功能。

眾多創新專案正在 Meta 的實際生產應用中進行實戰測試，同時也為所有平台的使用者持續優化框架與生態系。基於這些進展，我們可以確信 Meta 在未來數年將持續押注 React 作為卓越的跨平台解決方案。

另請參閱 🎥 [Theo 的評論影片](https://www.youtube.com/watch?v=GjBfD9PHff4)。

---

- 💸 [Omlet – A new tool for measuring React component usage across your repos. Try for free with unlimited scans and improve your code quality.](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-oct-2024)
- 👀 [React Router v7 Prerelease](https://reactrouter.com/dev/guides/start/installation): The first prerelease (7.0.0-pre.0) is available on npm and you can already read the docs. The new version comes with a Vite plugin that enables React Router to be a full-stack framework (aka Remix). It also supports SSG, has a better config-based routing system, improves type-safety. RSC support will come later once React 19 and Vite Environment API are ready.
- 👀 [React Compiler Docs - Usage with React v18 and v17](http://react-compiler-runtime) : A new official `react-compiler-runtime` package (experimental) has been published by the React team to support older versions of React. The babel config now accepts a new `target: '17' | '18' | '19'` option.
- 👀 [Next.js Guide - Fixing breaking changes after v15.0.0-canary.171](https://github.com/vercel/next.js/issues/70899): For those living on the bleeding edge, the Next.js team explains how migrate the Dynamic APIs that now return promises.
- 🗓️ [reactjsday](https://2024.reactjsday.it/?utm_source=thisweekinreact) - 🇮🇹 Verona - 25 October - Last call for tickets! Don’t forget “TWIR” 10% discount code!
- 🗓️ [React-Africa](https://react-africa.com/?utm_source=thisweekinreact) - 🇲🇦 Casablanca - 29 November - Get a 10% discount with code “TWIR”. And come listen from the best! Tejas Kumar et Jemima Abu will be here!
- 📜 [Serverless servers and the challenge of new React architecture](https://bobaekang.com/blog/serverless-servers-and-the-challenge-of-new-react-architecture/): Vercel recently launched a new “Serverless Servers” feature (wait, what? 😅) that enables a Serverless Function instance to behave more like a traditional Node.js server accepting concurrent requests while idling. React RSCs will be more cost-effective: you won't be charged for the time spent awaiting promises.
- 📜 [Handling Form Validation Errors and Resets with useActionState](https://aurorascharff.no/posts/handling-form-validation-errors-and-resets-with-useactionstate/): Teaches you how to handle React 19 resetting the fields of uncontrolled forms on submit.
- 📜 [How Do Server Actions Work in NextJS?](https://codelynx.dev/posts/how-work-server-actions): Explains what happens under the hood when you call a Next.js Server Action, including simplified Next.js source code snippets.
- 📜 [Using Mitosis to build a Design System](https://www.voorhoede.nl/en/blog/write-components-once-run-everywhere-with-mitosis-a-beautiful-dream-or-reality/): Mitigated feedback on this tool that permits creating cross-framework components from a shared JSX dialect.
- 📜 [Increasing Vite's potential with the Environment API](https://green.sapphi.red/blog/increasing-vites-potential-with-the-environment-api): A modern React RSC app needs to bundle the code in multiple ways, one for each environment (client, SSR, RSC). A Vite contributor explains how Vite 6 helps you do so efficiently, and presents other use cases.
- 📜 [Code based routing in Next.js](https://www.nico.fyi/blog/next-js-code-config-based-routing): Possible to achieve thanks to a catch-all route segment.
- 📜 [Why Gumroad Didn't Choose htmx](https://htmx.org/essays/why-gumroad-didnt-choose-htmx/): Explain why they chose Next.js for their new product.
- 📜 [React on the server is not PHP](https://www.artmann.co/articles/react-on-the-server-is-not-php)
- 📦 [StyleX 0.8 - LightningCSS post-processing, theming and linting improvements](https://stylexjs.com/blog/v0.8.0)
- 📦 [JSX Email 2.0 - config file, plugins, email compat, CSS inlining, new components](https://jsx.email/docs/v2/migration)
- 📦 [Framer motion 11.11 - `animate()` can now animate any object such as Object3D from Three.js](https://www.framer.com/motion/animate-function/##objects)
- 📦 [React-To-Print 3.0 - API modernization, React 19, smaller, Shadow DOM support, improved error handling](https://github.com/MatthewHerbst/react-to-print/blob/master/CHANGELOG.md#300-september-28th-2024)
- 📦 [Assistant-UI - React Components for AI Chat](https://github.com/Yonom/assistant-ui)
- 🎥 [Lee Robinson - Self-Hosting Next.js](https://www.youtube.com/watch?v=sIVL4JMqRfc): Including how to configure Next.js features like image optimization, caching, ISR, streaming, middleware …
- 🎥 [Sam Selikoff - How to share a React Component with the URL](https://www.youtube.com/watch?v=fYqMPvPvVAc)
- 🎥 [Jack Herrington - 5 Hidden React Server Function TRAPS Beginners Fall Into](https://www.youtube.com/watch?v=_wnamPRhgkA)

<SubscribeFormEmbed placement="middle" />

---

## 💸 贊助商 {#sponsor2}

[![加入開源承諾](/emails/issues/204/sentry.jpg)](https://osspledge.com/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=oss-fy25q3-pledge&utm_content=newsletter-dontbea-join)

**[加入開源承諾](https://osspledge.com/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=oss-fy25q3-pledge&utm_content=newsletter-dontbea-join)**

年復一年，企業在開源盛宴中享用成果，卻鮮少回饋維護者——這導致了與過勞相關的安全事件。透過這項承諾，具有前瞻性的企業正攜手改變現狀。是時候付出我們應盡的責任了。您願意加入我們嗎？

---

## 📱 React-Native {#react-native}

[![One - 全新的跨平台 React 框架](/emails/issues/204/one.jpg)](https://onestack.dev/)

[**One - 全新的跨平台 React 框架**](https://onestack.dev/)

Tamagui 的創建者 Nate 發布了一個支援網頁和行動裝置的全新通用框架。它建基於 Vite 而非 Metro，具備通用的類型化檔案路由、類似 Remix 的載入器，以及多種渲染模式（SSG/SSR/SPA）。它還透過可選的 Zero 同步引擎細粒度整合，幫助您建構本地優先的應用程式。

---

- 💸 [Apryse React Native PDF Library - 輕鬆為跨平台應用程式添加 PDF 檢視和編輯功能。](https://docs.apryse.com/documentation/ios/react-native/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=1009)
- 👀 [Static Hermes for React Native – 實驗性版本](https://github.com/software-mansion-labs/hermes)：Software Mansion 正與 Hermes 團隊合作開發分支版本，讓您可在 RN 應用程式中試用 Static Hermes（從 iOS 開始）。初步基準測試顯示生產環境應用啟動速度提升 16%。
- 👀 [React Native 文件 PR - 建議避免使用受控輸入元件，因其存在缺陷](https://github.com/facebook/react-native-website/pull/4247)：Dan Abramov 對 React Native 核心功能未達預期運作表示不滿，建議避免使用受控輸入元件。此問題源於近期 iOS 功能（自動校正和預測文本）破壞原有運作機制。新架構允許同步原生調用，可能解決此問題。
- 📖 [React Native 測試函式庫指南](https://callstack.github.io/react-native-testing-library/cookbook/index)
- 📜 [從 React 到 React Native 的旅程：差異與相似之處](https://dev.to/amazonappdev/journeying-from-react-to-react-native-21ep)
- 📦 [React Native Storybook 8](https://storybook.js.org/blog/react-native-storybook-8/)：Storybook React Native 的重要里程碑，終於與 Storybook 核心功能同步，並透過共享基礎設施保持更新。此重大版本包含多項新功能：全新行動 UI、寬螢幕佈局、簡化 Metro 配置、熱重載、穩定 RNW 支援等。
- 📦 [React-Native-Bottom-Tabs - 使用原生平台元件的底部標籤列](https://github.com/okwasniewski/react-native-bottom-tabs)：上週提及函式庫的早期版本，可搭配 React-Navigation 使用，取代其非原生的 JS 實現方案，同時相容 Expo Router。
- 📦 [Zeego 2.0 - React Native 跨平台選單](https://github.com/nandorojo/zeego/releases/tag/v2.0.0)：強化 Web 支援，移除 RNW 依賴，改採輕量 RadixUI 封裝層。
- 📦 [setup-ci - 快速建立 react-native CI/CD 的 CLI 工具](https://github.com/software-mansion/setup-ci)：Software Mansion 新 CLI 專案，協助快速建立 RN GitHub Actions。
- 📦 [Nitro Modules 0.11 - 新增舊架構支援](https://github.com/mrousavy/nitro/releases/tag/v0.11.0)
- 📦 [React Native 0.76.0-rc.4](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.4)
- 🎥 [Simon Grimm - 使用 Expo API Routes & Cursor 快速打造 AI 驅動行動應用](https://www.youtube.com/watch?v=9FzkE1qVBiA)
- 🎥 [Reactiive - 使用 React Native (Skia) 實現動態模糊卡片](https://www.youtube.com/watch?v=SveA2QjmEzM)
- 🎙️ [RNR 310 - 與 Marc Rousavy 探討 Nitro](https://www.reactnativeradio.com/episodes/rnr-310-nitro-with-marc-rousavy)
- 🎙️ [Rocket Ship 51 - 與 Mariusz Stanisz 探討 React Native 棕地整合](https://share.transistor.fm/s/e737607c)

---

## 🔀 其他 {#other}

- 👀 [TC39 - 第 104 次會議議程](https://github.com/tc39/agendas/blob/main/2024/10.md)：會議仍在進行中，但已有許多提案推進至第 4 階段，並將在 ES2025 中標準化，我們將於下週分享最終清單！
- 👀 [Lucia Auth - 未來計劃：棄用函式庫，轉型為學習資源](https://github.com/lucia-auth/lucia/discussions/1707)
- 📜 [使用 htmx 建立單頁應用程式](https://jakelazaroff.com/words/building-a-single-page-app-with-htmx/)
- 📜 [請勿在環境變數中使用密鑰，以及更好的做法](https://www.nodejs-security.com/blog/do-not-use-secrets-in-environment-variables-and-here-is-how-to-do-it-better/)
- 📦 [Deno 2.0 - 向後兼容，前瞻思維](https://deno.com/blog/v2.0)
- 📦 [Brisa - 具備伺服器元件、伺服器動作、JSX、Web 元件的全端框架](https://brisa.build/blog/introducing-brisa)：一個受 React 和 Next.js 啟發的有趣新框架，並利用宣告式 Shadow DOM 實現 SSR。
- 📦 [Bun 1.1.30 - CSS 解析與打包、bun publish、CJS 輸出](https://bun.sh/blog/bun-v1.1.30)
- 📦 [Better-Auth - 最全面的 TypeScript 身份驗證函式庫](https://github.com/better-auth/better-auth)

---

## 🤭 有趣 {#fun}

[![alt](/emails/issues/204/meme.jpg)](https://x.com/jacobmparis/status/1841450326744010914)

[![alt](/emails/issues/204/meme2.jpg)](https://x.com/sebastienlorber/status/1842131680833741094)

[![alt](/emails/issues/204/meme3.jpg)](https://x.com/saltyAom/status/1842543015472386440)

再見！👋