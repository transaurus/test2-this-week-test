---
slug: /180
title: "This Week In React #180: Transitions, Drag & Drop, Metadata APIs, React name, Next.js Auth, useOptimistic, Cally, Docusaurus, New Architecture, Gesture Handler, Server Components, Privacy Manifest, Bun, xz, TypeScript, Signals..."
authors: [slorber, bndkt]
date: 04-03-2024
---

大家好！

正如預期，這是平靜的一週，開發者們都在復活節假期中休息。

儘管我們沒有太多重大發布，但仍有不少內容和部落格文章。我真的很喜歡頭條部落格文章。只有 Bun 決定在 4 月 1 日發布傑出的 v1.1 版本，相當大膽的舉動！

React Native 開發者？別錯過 [**App.js Conf**](https://appjs.co/?utm_source=thisweekinreact) 於 5 月 22 日在克拉科夫 🇵🇱 開幕。使用我們的合作代碼「TWIR」獲得 [10% 折扣](https://ti.to/appjs/2024/discount/TWIR)。

除此之外，請保持安全，並確保檢查您是否 [受到 xz 的影響](https://socket.dev/blog/how-to-use-socket-to-find-out-if-you-were-affected-by-the-backdoored-xz-package)，這是最近揭露的一個重大安全漏洞。

<!-- truncate -->

**💡 [在 Twitter 上查看本通訊](https://slo.im/thread) - 視覺格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![Omlet React 分析 - 測量元件與屬性使用情況](/emails/issues/180/omletad.jpg)](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-first-sponsor-apr-2024)

**[Omlet React 分析 - 測量元件與屬性使用情況](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-first-sponsor-apr-2024)**

☁️ 想像能夠即時追蹤最受歡迎、最少使用、未使用及新建立的 React 元件與屬性 — 全部集中在單一儀表板中。透過 Omlet 即可實現。

- 透過預建與自訂圖表，深入掌握生產程式碼中的元件與屬性使用趨勢與缺口
- 輕鬆將 Omlet 的元件洞察轉化為具體程式碼改進 — 例如更新、棄用或遷移哪些程式碼
- 5 分鐘內完成設定並執行首次掃描

透過 Omlet 消除該優先關注哪些元件的猜測。

---

## ⚛️ React {#react}

[![Next.js 中的全域進度](/emails/issues/180/transitions.jpg)](https://buildui.com/posts/global-progress-in-nextjs)

[**Next.js 中的全域進度**](https://buildui.com/posts/global-progress-in-nextjs)

別被標題誤導，這篇優秀文章生動展示了 React 過渡(transitions)的運作機制。易於理解的互動示範呈現點擊處理函數中，過渡內部的 setState 呼叫如何同步執行，但其 DOM 應用將延遲至過渡完全完成。同時解釋為何 App Router 不再公開路由器事件系統。動畫程式碼也頗具啟發性，基於 Framer Motion 實現。

---

- 💸 [React app authentication and user management secured by Clerk, ensuring a quick setup with pre-built components.](https://go.clerk.com/WBJx175)
- 👀 [The road to Fresh 2.0](https://github.com/denoland/fresh/issues/2363): The Deno/Preact framework should get async components support.
- 📣 [Netlify - Introducing the new Next.js Runtime](https://www.netlify.com/blog/introducing-the-new-next-js-runtime/)
- 📜 [Expose Platform APIs Over Wrapping Them](https://blog.jim-nielsen.com/2024/expose-platform-apis-over-wrapping-them/): An interesting critique of the Next.js metadata API design, that has a learning curve and is not a direct mapping to HTML meta tags. Compares tradeoffs with a more ad-hoc, portable solution.
- 📜 [Exploring Authentication in Next.js](https://www.robinwieruch.de/next-authentication/): Comprehensive auth tutorial using Next.js 14, App Router, Prisma, Lucia.
- 📜 [How does useOptimistic() work internally in React?](https://jser.dev/2024-03-20-how-does-useoptimisticwork-internally-in-react/)
- 📜 [How does use() work internally in React?](https://jser.dev/2024-03-16-how-does-use-work-internally-in-react/)
- 📜 [How to Add a Sitemap & RSS Feed in Next.js App Router](https://spacejelly.dev/posts/how-to-add-a-sitemap-rss-feed-in-next-js-app-router)
- 📜 [React "as" Prop Using TypeScript](https://www.christianvm.dev/blog/react-as-prop)
- 📜 [We Rewrote our React App in Svelte in Three Weeks](https://dusty.phillips.codes/2024/03/20/we-rewrote-our-react-app-in-svelte-in-three-weeks/)
- 📜 [Flaky Tests In React: Detection, Prevention and Tools](https://semaphoreci.com/blog/flaky-react)
- 📜 [Implementing React Hook Form with Next.js 14 and Server Actions](https://aurorascharff.no/posts/implementing-react-hook-form-with-nextjs-14-server-actions/)
- 📜 [The High-Risk Refactoring](https://webup.org/blog/the-high-risk-refactoring/)
- 📜 [Next.js with Prisma and SQLite](https://www.robinwieruch.de/next-prisma-sqlite/)
- 🗓 [React Connection - 22 April](https://reactconnection.io/) + [React-Native Connection - 23 April](https://reactnativeconnection.io/) - 🇫🇷 Paris - 2 days of web/mobile conferences. Get a [20% discount](https://www.billetweb.fr/react-connection-2024?discount=TWIR) with code "TWIR".
- 📦 [Pragmatic Drag & Drop - Fast drag and drop for any experience on any tech stack](https://github.com/atlassian/pragmatic-drag-and-drop): maintainer of react-beautiful-dnd introduced a new, more powerful, framework-agnostic drag & drop library that Atlassian is now using to power products such as Trello and Confluence. A [GitHub issue and video](https://github.com/atlassian/react-beautiful-dnd/issues/2573) explain possibilities for users of react-beautiful-dnd, which will only receive security fixes. A compatibility package is provided to ease the migration.
- 📦 [Cally - Small, feature-rich calendar components](https://wicky.nillia.ms/cally/): Modern lightweight calendar components. A page explains [how to integrate with React](https://wicky.nillia.ms/cally/guides/frameworks/#react), although with React 19 integration with Web Components, it’s going to become much easier to use. Does not support SSR yet.
- 📦 [Docusaurus 3.2 - faster dev/build, MDX partial TOC, blog improvements, sitemap lastmod, Vercel Analytics…](https://docusaurus.io/blog/releases/3.2)
- 📦 [epicweb-dev/react-server-components - Understand React Server Components and Server Actions by building a framework with them](https://github.com/epicweb-dev/react-server-components)
- 🎥 [UI Engineering - The Curious Case of React's Name](https://www.youtube.com/watch?v=qBymTM6MQLo): A great poetic mini-documentary. This video took 40 hours to produce and only got a few hundred views. Give Philip some love and subscribe to his underrated channel (other videos are more pragmatic).
- 🎥 [Jack Herrington - Are You In A React Cult?](https://www.youtube.com/watch?v=74q1vURXvlY)
- 🎥 [Lee Robinson - Next.js Explained - How cookies() uses AsyncLocalStorage](https://www.youtube.com/watch?v=JejwWxhsfZw)
- 🎥 [Ryan Toronto - Where should this component run?](https://www.youtube.com/watch?v=4S3vQffXT7o)
- 🎥 [Nadia Makarevich - Making sense of Higher Order Components](https://www.youtube.com/watch?v=OLFV1Ds_L8A)
- 🎙️ [This Month In React - React canary is 19, New ShadCN bits, Astro looks like Wordpress. Wiz](https://podcasters.spotify.com/pod/show/reactiflux/episodes/TMiR-2024-03-React-canary-is-19--New-ShadCN-bits--Astro-looks-like-Wordpress--Wiz-e2hsspd)
- 🎙️ [DevTools FM 92 - Dan Abramov - Bluesky, Core React Team, RSC, Strict Dom, and more!](https://www.devtools.fm/episode/92)

<SubscribeFormEmbed placement="middle" />

---

## 💸 贊助商 {#sponsor2}

[![Refine - 開源 Retool 替代方案](/emails/issues/177/refine.jpg)](https://github.com/refinedev/refine)

**[Refine - 開源 Retool 替代方案](https://github.com/refinedev/refine)**

針對 CRUD 密集型應用，在低程式碼與傳統開發之間找到完美平衡點。

作為一款專為企業級應用設計的開源 React 元框架，[Refine](https://github.com/refinedev/refine) 提供無頭(headless)解決方案，非常適合開發管理面板、儀表板和內部工具等任務。

低程式碼工具雖初期看似便利，卻常因擴展性不足、客製化選項有限及供應商鎖定風險，在處理複雜情境時力有未逮。

Refine 讓團隊能在保持靈活性的同時，快速開發出可直接投入生產環境的應用程式。

---

## 📱 React-Native {#react-native}

本專欄現由 [Benedikt](https://twitter.com/bndkt) 共同撰寫。歡迎透過電子郵件或 [Twitter](https://twitter.com/bndkt) 提供意見！

[!["熱門函式庫的新架構支援情況"](/emails/issues/180/rn.jpg)](https://github.com/reactwg/react-native-new-architecture/discussions/167)

[**"熱門函式庫的新架構支援情況"**](https://github.com/reactwg/react-native-new-architecture/discussions/167)

本週頭條消息是...一份試算表？沒錯。React Native 0.74 即將發布，該版本將預設啟用「互操作層」(Interop Layer) 和「無橋接模式」(Bridgeless Mode)。儘管您仍可手動關閉這些功能，但訊息很明確：是時候開始採用新架構了。社群已付出大量努力讓 RN 生態系準備迎接新架構，現在這份試算表精彩地追蹤了眾多熱門 RN 函式庫對新架構及無橋接模式的支援狀態。如上方截圖所示，已有大量綠色標記（表示支援），當然仍有不少項目需要繼續努力。我認為，即使撇開函式庫支援與否的問題，這份清單對單純想了解當前最熱門 RN 函式庫的開發者，或是想理解函式庫作者轉移至新架構時面臨的技術挑戰，都極具參考價值。

---

- 💸 [PowerSync – Postgres\<>SQLite sync layer for local-first apps with simple state management and real-time reactivity](https://www.powersync.com/?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- 🐦 [Interesting idea/thread: React Native should have built-in support for rendering native views without importing them](https://x.com/Baconbrix/status/1773800723383275952)
- 🐦 [Tailwind CSS has TailwindUI. Soon, NativeWind will have NativeWindUI](https://x.com/DanStepanov/status/1773746866536280376)
- 🐦 [Calling an arbitrary UIKit API from JS, on the UI thread, with no native code – thanks to NativeScript, Node-API, and Reanimated](https://x.com/birch_js/status/1774855694271045666?s=20)
- 🐦 [Safari extension to see a 3D view of Web DOM on iOS built with Expo config plugin](https://twitter.com/Baconbrix/status/1773418737061773676)
- 📖 [How to deal with Apple’s privacy request requirement with RN](https://github.com/react-native-community/discussions-and-proposals/discussions/776): Soon, all iOS apps will need to have a “Privacy Manifest.” This GitHub discussion has some guidance on how to accommodate this requirement when using RN.
- 📜 [Bringing React Sever Components to React Native](https://szymonrybczak.dev/blog/bringing-react-server-components-to-react-native): This is not yet the big technical deep dive, but Szymon says that’s coming. This is more of an introduction to what Server Components will mean for RN.
- 📜 [How to Achieve 60 FPS Animations in React Native](https://www.callstack.com/blog/60fps-animations-in-react-native)
- 📜 [Why Is It Important to Always Run The Latest Version of React Native?](https://www.callstack.com/blog/always-run-the-latest-version-of-react-native)
- 📜 [Expo Location background tracking - Not all who wander are lost](https://blog.swmansion.com/not-all-who-wander-are-lost-805811c433c5)
- 📜 [How to Choose Tools Wisely and Build Fast-Working React Native Apps](https://www.callstack.com/blog/find-the-balance-between-native-and-javascript)
- 📜 [How to Pick the Right External JavaScript Libraries for Your React Native App](https://www.callstack.com/blog/external-javascript-libraries-for-react-native)
- 📣 [EAS Submit - Security notice](https://expo.dev/blog/security-notice-for-eas-submit)
- 📣 [EAS Build - Upcoming iOS images updates](https://expo.dev/changelog/2024/03-29-eas-build-upcoming-ios-images-updates)
- 📦 [React Native Gesture Handler 2.16.0 - Improved Gesture.Fling() on Web & Android, RectButton border styles on Android, improved mouse support](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.16.0)
- 📦 [react-native-quick-base64 2.1.0 - 4x-6x faster than the previous version by decoding via the lookup table](https://github.com/craftzdog/react-native-quick-base64/releases/tag/v2.1.0)
- 📦 [react-native 0.74.0-rc.6](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.6)
- 🎥 [Theo - Flutter inside React? react-native-skia is wild](https://www.youtube.com/watch?v=2l9Wm-8TxlA)
- 🎥 [Daniel Friyia - Build an Expo App with Apple Watch Tutorial](https://www.youtube.com/watch?v=Z6xRCyhrg1A)
- 🎥 [Simon Grimm - React Native with HTML?](https://www.youtube.com/watch?v=D_14xgyW4Rk)
- 🎙️ [Rocket Ship 36 - React Native Apps using Web3 & AI with Nader Dabit](https://share.transistor.fm/s/2c3bbd34)
- 🔗 [react-native-community-map - different online places where React Native developers can be found](https://github.com/kelset/react-native-community-map): Quite exhaustive overview of communities, subreddits, Podcasts, Discord servers, etc.

---

## 🔀 其他 {#other}

- 👀 [JavaScript Signals 標準提案](https://github.com/proposal-signals/proposal-signals)
- 📜 [\_\_dirname 在 Node.js ES 模組中回歸](https://www.sonarsource.com/blog/dirname-node-js-es-modules/)
- 📜 [建立微型 HTMX SSR 框架](https://blog.platformatic.dev/building-a-micro-htmx-ssr-framework)
- 📜 [現代 CSS 須知（2024 春季版）](https://frontendmasters.com/blog/what-you-need-to-know-about-modern-css-spring-2024-edition/)
- 📜 [TypeScript 中的 `never` 型別與錯誤處理](https://fettblog.eu/typescript-never-and-error-handling/)
- 📜 [`any` 被視為有害，除了這些情況](https://www.totaltypescript.com/any-considered-harmful)
- 📜 [V8 - 迭代器輔助方法現已登陸 Chrome 122+](https://v8.dev/features/iterator-helpers)
- 📜 [CSS 容器查詢互動指南](https://ishadeed.com/article/css-container-query-guide)
- 📦 [Bun 1.1 - Windows 支援、效能提升、跨平台 shell，新增 Glob/Semver 等多種 API](https://bun.sh/blog/bun-v1.1)
- 📦 [Deno 1.42 - JSR 依賴管理，新增 deno publish 與 deno add 指令](https://deno.com/blog/v1.42)
- 📦 [TailwindCSS Signals](https://github.com/brandonmcconnell/tailwindcss-signals)

---

## 🤭 趣聞 {#fun}

[![替代文字](/emails/issues/180/meme.jpg)](https://twitter.com/rickhanlonii/status/1774813693944971594)

下次見！👋