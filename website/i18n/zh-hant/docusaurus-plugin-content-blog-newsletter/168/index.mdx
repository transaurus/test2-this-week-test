---
slug: /168
title: "This Week In React #168: TanStack, useMemo, RSC, preload, flushSync, shadcn-ui, MDX, Storybook, StyleX, TWC, Tokenami, Catalyst, rsc-cache, WishList, VisionOS, Hermes, release-profiler..."
authors: [slorber, bndkt]
date: 01-03-2024
---

å¤§å®¶å¥½ï¼

è–èª•å¿«æ¨‚ï¼Œæ–°å¹´å¿«æ¨‚ï¼ğŸ¥‚

é€™ä»½é›»å­å ±åˆå›ä¾†è¿æ¥æ–°çš„ä¸€å¹´äº†ã€‚å„˜ç®¡æ­£å€¼å‡æœŸï¼Œæˆ‘å€‘ä»æœ‰ä¸€äº›æœ‰è¶£çš„æ¶ˆæ¯ï¼Œç‰¹åˆ¥æ˜¯é—œæ–¼ TanStack çš„ã€‚é–‹ç™¼è€…å€‘å¯èƒ½è—‰æ­¤æ©Ÿæœƒä¾†åšè‡ªå·±çš„é–‹æºå‰¯æ¥­é …ç›® ğŸ˜„ï¼

åˆ¥å¿˜äº†å¡«å¯« [State of React Native 2023 èª¿æŸ¥](https://stateofreactnative.com/)ï¼Œé€™æ˜¯ä½ æœ€å¾Œçš„æ©Ÿæœƒï¼

å†æ¬¡èªªæ˜ï¼Œæœ¬æœŸçš„ä½œè€…ç¾åœ¨æœ‰å…©ä½ï¼š[Benedikt](https://twitter.com/bndkt) æ­£åœ¨å”åŠ©æˆ‘ã€‚

æˆ‘å¸Œæœ›æ‰¾æ™‚é–“å¯«ä¸€ä»½å®Œæ•´çš„ 2023 å¹´é›»å­å ±å›é¡§ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œå¦‚æœä½ å¥½å¥‡ï¼Œæˆ‘å·²ç¶“åœ¨æˆ‘çš„ [Indie Hackers é é¢](https://www.indiehackers.com/product/french-react-newsletter) ä¸Šå¯«äº†å…©å¹´çš„æ¯æœˆå ±å‘Šã€‚

<!-- truncate -->

**ğŸ’¡ [åœ¨ Twitter ä¸ŠæŸ¥çœ‹é€™ä»½é›»å­å ±](https://slo.im/thread) - è¦–è¦ºåŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor1}

[![å¹«åŠ©æ‚¨é›éŠç”¢å“è‚Œè‚‰çš„é›»å­å ±](/emails/issues/168/posthog.png)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[å¹«åŠ©æ‚¨é›éŠç”¢å“è‚Œè‚‰çš„é›»å­å ±](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**Product for Engineers**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) æ˜¯ PostHog çš„é›»å­å ±ï¼Œè‡´åŠ›æ–¼å¹«åŠ©å·¥ç¨‹å¸«æå‡ç”¢å“æŠ€èƒ½ã€‚å­¸ç¿’è©²å•ä½¿ç”¨è€…ä»€éº¼å•é¡Œã€å¦‚ä½•æ‰“é€ ä½¿ç”¨è€…å–œæ„›çš„æ–°åŠŸèƒ½ï¼Œä»¥åŠé”æˆç”¢å“å¸‚å ´å¥‘åˆçš„è·¯å¾‘ã€‚[**å…è²»è¨‚é–±**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) ä»¥ç²å–é—œæ–¼æ‰“é€ å„ªç§€ç”¢å“çš„ç²¾é¸å»ºè­°ã€å¾æ§‹å»º PostHog ä¸­å­¸åˆ°çš„æ•™è¨“ï¼ˆå’ŒéŒ¯èª¤ï¼‰ï¼Œä»¥åŠå°é ‚å°–æ–°å‰µå…¬å¸ç­–ç•¥çš„æ·±åº¦æ¢è¨ã€‚

---

## âš›ï¸ React {#react}

[![TanStack Router 1.0](/emails/issues/168/tanstack-router.jpg)](https://tanstack.com/router/v1)

**[TanStack Router 1.0](https://tanstack.com/router/v1)**

å‚™å—æœŸå¾…çš„ TanStack Router ä»¥ç©©å®šçš„ 1.0 ç‰ˆæœ¬æ¨å‡ºï¼Œä¸¦é™„å¸¶ä¸€å€‹ç²¾ç¾çš„ [ğŸ¦ å®£å‚³å½±ç‰‡](https://twitter.com/tannerlinsley/status/1738709130213560497)ï¼Œæ­£å¥½è¶•ä¸Šè–èª•ç¯€ã€‚é€™å€‹æ–°çš„è·¯ç”±åœ¨é¡å‹å®‰å…¨ã€URL ç‹€æ…‹ç®¡ç†ï¼ˆæœå°‹åƒæ•¸ï¼‰å’Œå¿«å–ç­‰æ–¹é¢ï¼Œçªç ´äº†å¯èƒ½çš„ç•Œé™ã€‚

[SSR æŒ‡å—](https://tanstack.com/router/v1/docs/guide/ssr) æåˆ°äº†ä¸€å€‹ `@tanstack/react-start` å¥—ä»¶ï¼Œå¯èƒ½æ˜¯å³å°‡æ¨å‡ºçš„ [ğŸ¦ TanStack Start æ¡†æ¶](https://twitter.com/sebastienlorber/status/1742589454563369123) çš„é å‘Šã€‚

æ‚¨å¯èƒ½éŒ¯éçš„å…¶ä»–è¿‘æœŸ TanStack å¥—ä»¶ï¼š

- ğŸ“¦ [TanStack Config - ç”¨æ–¼ç™¼å¸ƒå’Œç¶­è­·é«˜å“è³ª JavaScript å¥—ä»¶çš„å·¥å…·](https://github.com/TanStack/config)
- ğŸ“¦ [TanStack Store - æ¡†æ¶ç„¡é—œã€é¡å‹å®‰å…¨çš„å„²å­˜åº«ï¼Œå¸¶æœ‰éŸ¿æ‡‰å¼æ¡†æ¶é©é…å™¨](https://tanstack.com/store/latest)

---

- ğŸ’¸ [From Dreamweaver to JSX: The Evolution of Visual Dev Tools for the Web](https://mightymeld.com/blog/browser-dev-tools-understand-code?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=link1)
- ğŸ‘€ [React Docs PR - React-DOM static resource loading functions](https://github.com/reactjs/react.dev/pull/6459)
- ğŸ‘€ [Next.js PR - Next.js is exploring moving to Lightning CSS](https://github.com/vercel/next.js/pull/58712)
- ğŸ‘€ [Remix PR - SPA Mode](https://github.com/remix-run/remix/pull/8338)
- ğŸ¦ [useMemo to become a better version of context selectors](https://twitter.com/sebastienlorber/status/1741218919732429108): It turns out [selectors do not compose well](https://twitter.com/dan_abramov2/status/1741200483862151663), and the plan is to improve useMemo to kind of act like a selector!
- ğŸ¦ [SkipRenderOnClient - interesting trick to optimize hydration performance](https://twitter.com/sebastienlorber/status/1742528219318738955)
- ğŸ¦ [Million.js joins Y Combinator](https://twitter.com/aidenybai/status/1737929698221682789)
- ğŸ“œ [React Server Components: the Good, the Bad, and the Ugly](https://www.mayank.co/blog/react-server-components/): Critical, but well-informed take on the status quo of using RSC.
- ğŸ“œ [Thoughts on Remix](https://www.viget.com/articles/thoughts-on-remix/): Balanced view on Remix - where it came from, their philosophy and how it compares to Next.js.
- ğŸ“œ [More Than You Need to Know About ReactDOM.Â­flushSync](https://julesblom.com/writing/flushsync): Detailed and interactive look at React-DOM `flushSync()` method, a rarely used but sometimes crucial method enabling you to opt-out of React state update batching.
- ğŸ“œ [Remix + MDX - How this site is built](https://remix-blog-mdx.fly.dev/): Vite features and plugins work together to power Remix + MDX.
- ğŸ“œ [The View Transition API: A New Way to Animate Page Transitions](https://marmelab.com/blog/2023/12/21/view-transitions.html): Also shows how to use it in React Router and Remix.
- ğŸ“œ [What should we ship?](https://rauno.me/craft/vercel): Detailed blog post about the vercel.com relaunch.
- ğŸ“œ [Future of Storybook in 2024](https://storybook.js.org/blog/future-of-storybook-2024/): The themes for Storybook in 2024 will be application development (as opposed to isolated component development), enhanced support for non-React frameworks, and improved story generation (using AI).
- ğŸ“œ [How to make Storybook 2-4x faster - v7.6 comes with perf improvement options, enabled by default in v8.0](https://storybook.js.org/blog/optimize-storybook-7-6/)
- ğŸ“œ [Next.js 14 Parallel Routes](https://www.builder.io/blog/nextjs-14-parallel-routes): Simultaneously render multiple pages within the same layout (useful for dashboards).
- ğŸ“œ [Next.js 14 Intercepting Routes](https://www.builder.io/blog/nextjs-14-intercepting-routes)
- ğŸ“œ [Understanding Reactâ€™s useFormState and useFormStatus Hooks](https://blog.logrocket.com/understanding-react-useformstate-useformstatus-hooks/)
- ğŸ“œ [Diving into Server Actions in Next.js 14](https://blog.logrocket.com/diving-into-server-actions-next-js-14/)
- ğŸ“¦ [rsc-cache - cache expensive RSCs, with Next.js integration](https://github.com/fredkiss3/rsc-cache)
- ğŸ“¦ [Catalyst - Modern UI kit for React](https://tailwindcss.com/blog/introducing-catalyst): New official React UI kit from the Tailwind team. It's a paid product requiring a Tailwind UI license. There's also a free Headless UI update, now in v2.0 alpha.
- ğŸ“¦ [Tokenami - Atomic CSS in the style attribute](https://github.com/tokenami/tokenami): Modern type-safe styling solution with theming, responsive variant support. Supports React and Solid.
- ğŸ“¦ [shadcn-ui 0.5 - new components (Carousel, Drawer, Pagination, Resizable, Sonner) and CLI improvements](https://ui.shadcn.com/docs/changelog)
- ğŸ“¦ [StyleX 0.4.1 - ESLint and Rollup plugin improvements, autocomplete, performance, reduced runtime size, support for CSS layers...](https://stylexjs.com/blog/v0.4.1)
- ğŸ“¦ [Storybook 8.0.0 alpha 4 - no react peer dependency anymore](https://github.com/storybookjs/storybook/releases/tag/v8.0.0-alpha.4)
- ğŸ“¦ [TWC - Create reusable Tailwind CSS + React components](https://react-twc.vercel.app/)
- ğŸ“¦ [MDXTS - Build interactive, type-safe content and documentation in MDX, TypeScript, and React](https://www.mdxts.dev/)
- ğŸ“¦ [Plate - Rich-text editor framework for React, customizable, including a plugin system](https://platejs.org/)
- ğŸ“¦ [next-route-handler-pipe - Function pipelines for Next.js route handlers](https://github.com/KolbySisk/next-route-handler-pipe)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor2}

[![ShipFast - åœ¨å¹¾å¤©å…§äº¤ä»˜ä½ çš„æ–°å‰µå…¬å¸ï¼Œè€Œä¸æ˜¯å¹¾é€±](/emails/issues/168/shipfast.jpg)](https://shipfa.st/?via=twir)

**[ShipFast - å¹¾å¤©å…§æ¨å‡ºä½ çš„æ–°å‰µå…¬å¸ï¼Œè€Œéå¹¾é€±](https://shipfa.st/?via=twir)**

é€™å€‹ Next.js æ¨£æ¿åŒ…å«ä½ å»ºç«‹ SaaSã€AI å·¥å…·æˆ–ä»»ä½•å…¶ä»–ç¶²è·¯æ‡‰ç”¨æ‰€éœ€çš„ä¸€åˆ‡ï¼Œä¸¦è®“ä½ å¿«é€Ÿåœ¨ç·šä¸Šè³ºåˆ°ç¬¬ä¸€ç­†æ”¶å…¥ã€‚

- App Router æˆ– Page Router
- JavaScript æˆ– TypeScript
- 7 å¤©å…§å¯é€€æ¬¾çš„ä¿è­‰

---

## ğŸ“± React-Native {#react-native}

- ğŸ’¸ [Galaxies.dev - ç²¾é€š React Native ä¸¦ä½¿ç”¨ä»£ç¢¼ GALAXIES24 åœ¨ PRO ç‰ˆç¯€çœ 25%](https://galaxies.dev?utm_source=thisweekinreact.com)
- ğŸ“Š [React Native 2023 ç‹€æ…‹èª¿æŸ¥ - æœ€å¾Œå¬é›†ï¼Œå°‡æ–¼ 5 æ—¥é€±äº”æˆªæ­¢](https://stateofreactnative.com/)
- ğŸ‘€ [RFCï¼šé€æ­¥é é›¢ Apple å¹³å°ä¸Šçš„ Obj-C](https://github.com/react-native-community/discussions-and-proposals/pull/747)ï¼šè½‰å‘ Swift çš„è¨ˆåŠƒå°‡åœ¨æ–°æ¶æ§‹é·ç§»å®Œæˆå¾Œæ‰æœƒå•Ÿå‹•ã€‚
- ğŸ‘€ [hermes-jsi-demos - åœ¨æ¡Œé¢ç’°å¢ƒç„¡éœ€ä»»ä½•æ¡†æ¶ä½¿ç”¨ Hermes èˆ‡ JSI](https://github.com/tmikov/hermes-jsi-demos)
- ğŸ‘€ [jsi-rs - ä½¿ç”¨ Rust ç·¨å¯«è¶…é«˜é€Ÿ React Native æ¨¡çµ„](https://github.com/laptou/jsi-rs/)
- ğŸ¦ [Expo SDK 50 é€éå¹³å°æ–æ¨¹å„ªåŒ–å¥—ä»¶å¤§å°](https://twitter.com/Baconbrix/status/1740487401414275120)
- ğŸ¦ [Chain React 2024 å¤§æœƒå®£å¸ƒæ–¼ 7 æœˆ 17-19 æ—¥èˆ‰è¡Œ](https://twitter.com/ChainReactConf/status/1737578373415928100)
- ğŸ¦ [2023 å¹´åº¦ç†±é–€ React Native æ¨æ–‡ç²¾é¸](https://twitter.com/infinite_red/status/1737890233201623526)
- ğŸ“œ [WishList ç™¼å¸ƒè¨ˆç•«çµ‚æ­¢](https://margelo.notion.site/WishList-Summit-b20c24d1f0da4889a0513dfa929be5ed)ï¼šæ­·ç¶“ä¸€å¹´é–‹ç™¼å¾Œï¼ŒMargelo æ±ºå®šä¸ç™¼å¸ƒæ—¨åœ¨è§£æ±º React Native åˆ—è¡¨æ•ˆèƒ½å•é¡Œçš„å‡½å¼åº«ã€‚
- ğŸ“œ [å°‡ React Native å‡½å¼åº«å¼•å…¥ Apple Vision Pro](https://www.oskarkwasniewski.dev/blog/bringing-react-native-libraries-to-apple-vision-pro)ï¼šæ–°å¢çš„ out-of-tree VisionOS å¹³å°å°‡è‡ªå‹•æ”¯æ´ JS å‡½å¼åº«ï¼Œå¤šæ•¸åŸç”Ÿå‡½å¼åº«åƒ…éœ€åœ¨ podspec ä¸­æ·»åŠ  `visionos` å¹³å°ã€‚
- ğŸ“œ [å¦‚ä½•æ­£ç¢ºè§£è®€ Xcode éŒ¯èª¤è¨Šæ¯](https://levelup.gitconnected.com/how-to-properly-read-xcode-error-7b979692333d)
- ğŸ“œ [JavaScript é€é Static Hermes å¯¦ç¾çªç ´æ€§æ•ˆèƒ½æå‡](https://medium.com/@elves.silva.vieira/javascript-achieves-breakthrough-performance-with-static-hermes-6286b0ac8ef7)
- ğŸ“¦ [react-native-release-profiler - åœ¨æ­£å¼ç’°å¢ƒèˆ‡ç™¼å¸ƒç‰ˆæœ¬ä¸­è¢«å‹•å‰–æ JS/Hermes](https://github.com/margelo/react-native-release-profiler)
- ğŸ“¦ [expo-video-metadata](https://github.com/hirbod/expo-video-metadata)ï¼šæ“·å–æœ¬åœ°èˆ‡é ç«¯å½±ç‰‡æª”æ¡ˆçš„æ™‚é•·ã€å°ºå¯¸ã€æ–¹å‘èˆ‡ç·¨è§£ç¢¼å™¨ç­‰è³‡è¨Šã€‚
- ğŸ“¦ [react-native-macos 0.73.1](https://www.npmjs.com/package/react-native-macos/v/0.73.1)
- ğŸ“¦ [react-native-windows 0.73.2](https://github.com/microsoft/react-native-windows/releases/tag/react-native-windows_v0.73.2)
- ğŸ“¦ [ä½¿ç”¨ Tailwind æ¨£å¼å•Ÿå‹•é€šç”¨åŸºæ–¼æª”æ¡ˆçš„ Expo æ‡‰ç”¨ç¨‹å¼](https://github.com/expo/examples/tree/master/with-router-tailwind)ï¼šæ¡ç”¨ Expo Router v3 èˆ‡ NativeWind v4 çš„å…¨æ–° create-expo-app æ¨¡æ¿ã€‚
- ğŸ™ [React Native Show ç¬¬ 32 é›† - Apple Vision Pro èˆ‡ visionOS ä¸Šçš„ React Native](https://www.callstack.com/podcasts/react-native-for-apple-vision-pro-and-visionos)
- ğŸ™ï¸ [RNR ç¬¬ 284 é›† - React Native å¹´åº¦å›é¡§ - 2023 ç¸½è¦½](https://reactnativeradio.com/episodes/rnr-284-react-native-rewind-2023-in-review)
- ğŸ™ï¸ [Rocket Ship ç¬¬ 23 é›† - 2024 å¹´ä½ è©²ä½¿ç”¨ React Native çš„ç†ç”±](https://podcast.galaxies.dev/episodes/023-why-you-should-use-react-native-in-2024)

---

## ğŸ”€ å…¶ä»– {#other}

- ğŸ‘€ [TypeScript 5.4 PRï¼šæ–°å¢å° package.json imports æ¬„ä½çš„è‡ªå‹•å°å…¥åŠŸèƒ½](https://github.com/microsoft/TypeScript/pull/55015)
- ğŸ“œ [2024 å¹´å‰ç«¯é æ¸¬](https://buttondown.email/whatever_jamie/archive/frontend-predictions-for-2024/)
- ğŸ“œ [JavaScript æ¡†æ¶ â€” é‚å‘ 2024](https://dev.to/this-is-learning/javascript-frameworks-heading-into-2024-i3l)
- ğŸ“œ [ã€ŒWeb Componentsã€çš„æ›¿ä»£æœªä¾†](https://blog.carlana.net/post/2023/web-component-alternative-futures/)
- ğŸ“œ [ç‚ºä»€éº¼ JavaScript çš„ promise åœ¨æŠ€è¡“ä¸Šä¸æ˜¯ monad](https://rybicki.io/blog/2023/12/23/promises-arent-monads.html)
- ğŸ“œ [Shadow DOM èˆ‡å°è£å•é¡Œ](https://nolanlawson.com/2023/12/30/shadow-dom-and-the-problem-of-encapsulation/)
- ğŸ“¦ [ESLint v9.0.0-alpha.0](https://eslint.org/blog/2023/12/eslint-v9.0.0-alpha.0-released/)
- ğŸ“¦ [quick-lint-js 3.0 - TypeScript éŒ¯èª¤æŸ¥æ‰¾å·¥å…·](https://quick-lint-js.com/blog/version-3.0/)

---

## ğŸ¤­ è¶£è {#fun}

[![alt](/emails/issues/168/meme.jpg)](https://twitter.com/webdevcody/status/1737138310605083051)

ä¸‹æ¬¡è¦‹ï¼ğŸ‘‹