---
slug: /142
title: "This Week In React #142: JSX, React-Query, Server Components, Next.js, Million, OpenNext, Ariakit, Expo-Image, React-Three-Fiber, TS 5.1, Node.js 20, WebGPU..."
authors: [slorber]
date: 04-18-2023
---

å¤§å®¶å¥½ï¼

æœ¬é€±ï¼ŒTypeScript 5.1 ç™¼å¸ƒäº†æ¸¬è©¦ç‰ˆï¼ŒåŒ…å«å¤šé …èˆ‡ JSX å’Œ React ç›¸é—œçš„æ”¹é€²ï¼

React-Query è¨ˆåŠƒåœ¨ v5 ç‰ˆæœ¬ä¸­ç§»é™¤æŸ¥è©¢å›èª¿åŠŸèƒ½ï¼Œé€™å€‹æ±ºå®šå¼•ç™¼äº†çˆ­è­°ã€‚

React-Native é–‹ç™¼è€…è«‹æ³¨æ„ï¼åˆ¥éŒ¯é 6 æœˆ 1 æ—¥åœ¨å·´é»èˆ‰è¾¦çš„ [React-Native-Connection](https://reactnativeconnection.io/)ã€‚æˆ‘åƒèˆ‡äº†è­°ç¨‹è©•å¯©å§”å“¡æœƒï¼Œæˆ‘å€‘å‰›[å…¬å¸ƒäº†å®Œæ•´è¬›è€…é™£å®¹](https://twitter.com/sebastienlorber/status/1648269027318411264)ï¼ŒåŒ…å«åœ‹éš›èˆ‡åœ¨åœ°è¬›è€…ã€‚ä½¿ç”¨ä»£ç¢¼ "REACTHEBDO" å¯äº« 10% æŠ˜æ‰£ã€‚

<!-- truncate -->

**ğŸ’¡ [åœ¨ Twitter æŸ¥çœ‹æœ¬é€±åˆŠ](https://slo.im/thread) - è¦–è¦ºåŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor1}

[![React-admin](/emails/issues/141/react_admin.png)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - B2B æ‡‰ç”¨é–‹æºæ¡†æ¶](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

æ­£åœ¨ç”¨ React é–‹ç™¼ç®¡ç†å¾Œå°å—ï¼Ÿæˆ‘å€‘æœ‰å¥½æ¶ˆæ¯ï¼ä½¿ç”¨ B2B æ‡‰ç”¨é–‹æºæ¡†æ¶ React-adminï¼Œå¯ç¯€çœæ•¸å¤©é–‹ç™¼æ™‚é–“ï¼ğŸ¤©

React-admin ä¸åƒ…ç¯€çœå¯¶è²´æ™‚é–“ï¼Œæ›´èƒ½æå‡é–‹ç™¼èƒ½åŠ›ï¼å·²æœ‰è¶…é 20,000 åé–‹ç™¼è€…æ—¥å¸¸ä½¿ç”¨ä¸¦èªå¯å…¶æ•ˆèƒ½ã€‚æƒ³äº†è§£é•·æœŸä½¿ç”¨è€…çš„ç¶“é©—ï¼ŸæŸ¥çœ‹éç‡Ÿåˆ©çµ„ç¹” [Caritas çš„å¯¦è­‰æ¡ˆä¾‹](https://marmelab.com/blog/2022/07/07/react-admin-caritas.html)ã€‚

åŠ å…¥æˆ‘å€‘æ´»èºçš„ç¤¾ç¾¤èˆ‡ [Discord](https://discord.com/invite/jR3D6SdQ) ä¼ºæœå™¨ï¼Œç²å–æœ€æ–°æ›´æ–°ä¸¦å¾—åˆ°è³‡æ·±é–‹ç™¼è€…ç¶²çµ¡çš„æ”¯æ´ã€‚

é‚„åœ¨ç­‰ä»€éº¼ï¼Ÿç«‹å³å…è²»ä½¿ç”¨ React-admin ğŸ˜‰ï¼Œå°‡é–‹ç™¼æ•ˆèƒ½æ¨å‘æ–°é«˜åº¦ï¼ğŸš€

---

## âš›ï¸ React {#react}

[![TypeScript 5.1 beta](/emails/issues/142/ts5.1.jpg)](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1-beta/)

**[TypeScript 5.1 (æ¸¬è©¦ç‰ˆ) + React](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1-beta/)**

æœ¬æ¬¡é‡å¤§æ›´æ–°è®“ React èƒ½å®£å‘Šè‡ªè¨‚ JSX é¡å‹ã€‚React é¡å‹å®šç¾©å·²[åˆ†å‰](https://github.com/DefinitelyTyped/DefinitelyTyped/pull/65126)ï¼Œè¨ˆåŠƒç›¡å¿«æ¡ç”¨æ­¤åŠŸèƒ½ï¼ŒåŒæ™‚ç¹¼çºŒæ”¯æ´èˆŠç‰ˆ TypeScriptï¼ˆâ‰¤ 5.0ï¼‰ã€‚

ç›¡æ—©æ¡ç”¨ TypeScript 5.1+ æœ‰å……åˆ†ç†ç”±ï¼Œä¸»è¦è§£é–ä»¥ä¸‹èƒ½åŠ›ï¼š

- the ability to use a React Server Component `async` in JSX without TypeScript errors or [workaround](https://gist.github.com/cramforce/b5e3f0b103f841d2e5e429b1d5ac4ded).
- the ability to return all valid types for `ReactNode` (string, array, boolean...) without needing a fragment ([details](https://twitter.com/sebastienlorber/status/1648619398259769344)).
- other interesting improvements around JSX: namespaced attributes and linked editing (VSCode).

---

[![åˆ»æ„ç ´å£ React Query çš„ API](/emails/issues/142/rq.jpg)](https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose)

**[åˆ»æ„ç ´å£ React Query çš„ API](https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose)**

React-Query will remove the callbacks (`onSuccess`, `onError`, `onSettled`) from the `useQuery` hook with v5. Dominik explains this choice and suggest alternatives more adapted to common cases, like displaying a toast. A controversial but necessary decision because these APIs were often misused. Note: callbacks are kept for `useMutation`.

---

- ğŸ§µ [Dan Abramov - "good rule of thumb. for any â€œserver componentsâ€](https://twitter.com/dan_abramov/status/1647203329854799872): explains the minimum requirements for a proper Server Components implementation, taking full advantage of their potential. Presents the limitations of Qwik and Remix models.
- ğŸ‘€ [Dan Abramov has a "story to tell" at Remix Conf ("React from Another Dimension")](https://twitter.com/remix_run/status/1646177445454950400)
- ğŸ‘€ [Next.js ships its own copy of React](https://twitter.com/devongovett/status/1647728887927906304): copy used only when using App Router.
- ğŸ‘€ [Use Storybook with Rspack](https://twitter.com/rspack_dev/status/1646164228598792196)
- ğŸ‘€ [WebGPU in React-Three-Fiber demo](https://twitter.com/CantBeFaraz/status/1647811509014216710)
- âš¡ [SpiderMonkey Newsletter (Firefox 112-113)](https://spidermonkey.dev/blog/2023/04/14/newsletter-firefox-112-113.html): "Weâ€™re working on improving performance for popular web frameworks such as React".
- ğŸ“œ [Animating View Transitions](https://www.patterns.dev/posts/view-transitions): explains how to use the new View Transition API (Chrome 111+) in a React context with Next.js App Router, and in a MPA context. Interesting, but the proposed React integration doesn't look ideal.
- ğŸ“œ [An Animated Guide to Reacts Optional Parameters](https://julesblom.com/writing/react-optional-parameters): interactive article that presents some features of React APIs that we use less often.
- ğŸ“œ [Next over Remix](https://bradgarropy.com/blog/next-over-remix): feedback from a dev who had planned to switch to Remix, but finally stayed with Next.js.
- ğŸ“œ [Building a blog with Next.js 13 and React Server Components](https://maxleiter.com/blog/build-a-blog-with-nextjs-13): uses all the latest Next.js features to create a modern blog.
- ğŸ“œ [React forwardRef(): How to Pass Refs to Child Components](https://dmitripavlutin.com/react-forwardref/)
- ğŸ“œ [Is React the New WordPress?](https://www.seancdavis.com/posts/is-react-the-new-wordpress/)
- ğŸ“œ [Becoming an Astro maintainer](https://www.elian.codes/blog/23-04-12-becoming-an-astro-maintainer/)
- ğŸ“œ [Display Warning for Unsaved Form Data on Page Exit](https://claritydev.net/blog/display-warning-for-unsaved-form-data-on-page-exit)
- ğŸ“œ [Mastering React: Techniques to Take Your UI to the Next Level](https://blog.bitsrc.io/mastering-react-techniques-to-take-your-ui-to-the-next-level-a5002173904f)
- ğŸ“œ [What's new in the new Storybook](https://www.mariasimo.codes/storybook-7-new-release)
- ğŸ“œ [Full-stack Web Apps Without React](https://remotesynthesis.com/blog/full-stack-without-react/)
- ğŸ¥ [Must Know React Portability Patterns](https://www.youtube.com/watch?v=yi8UCnXPu8U): good advices to reduce coupling of your code to a particular framework.
- ğŸ¥ [Maybe Create React App Isn't Dead?](https://www.youtube.com/watch?v=A2kWoKnpy1U)
- ğŸ“¦ [Ariakit 0.1.0](https://github.com/ariakit/ariakit/releases/tag/%40ariakit%2Freact%400.1.0): new way of managing state based on component stores. Motivations in this [RFC](https://github.com/ariakit/ariakit/issues/1875): less re-renders, becoming framework-agnostic...
- ğŸ“¦ [Million.js 2.2.1 - Support for hooks and non-primitives](https://twitter.com/aidenybai/status/1646238355427041285). This [thread](https://twitter.com/aidenybai/status/1647005716350406656) gives interesting explanations about the difference between React and Million reconciliation.
- ğŸ“¦ [OpenNext 1.0](https://github.com/serverless-stack/open-next/releases/tag/v1.0.0): aims to make Next.js more portable thanks to serverless adapter.
- ğŸ“¦ [Astro 2.3](https://twitter.com/astrodotbuild/status/1646593124997779465)
- ğŸ“¦ [React-Three-Next - starter updated - App Router support](https://twitter.com/onirenaud/status/1646139899291254786)
- ğŸ“¦ [React-Three-Fiber AutoFocus DOF](https://github.com/ektogamat/AutoFocusDOF)

<SubscribeFormEmbed />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor2}

[![Tina.io æ˜¯å°ˆç‚º Markdown é©…å‹•ç¶²ç«™è¨­è¨ˆçš„ç„¡é ­ CMS](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io æ˜¯å°ˆç‚º Markdown é©…å‹•ç¶²ç«™è¨­è¨ˆçš„ç„¡é ­ CMS](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- æä¾› Markdown æ–‡ä»¶çš„ç·¨è¼¯ä»‹é¢
- æ”¯æ´ MDX å…ƒä»¶çš„ UI ä»‹é¢
- æ”¯æ´éœæ…‹ç”Ÿæˆ (SSG) èˆ‡ä¼ºæœå™¨ç«¯æ¸²æŸ“ (SSR)
- å¯é¸è¦–è¦ºåŒ–ç·¨è¼¯åŠŸèƒ½ (å³æ™‚é è¦½)
- ä½¿ç”¨å¯é‡è¤‡ä½¿ç”¨çš„å€å¡Šå»ºæ§‹

è©¦ç”¨å…¥é–€ç¶²ç«™

- [Docusaurus](https://github.com/tinacms/tinasaurus) (Github)
- [Next.js + Tailwind æ­é…è¦–è¦ºåŒ–ç·¨è¼¯](https://github.com/tinacms/tina-cloud-starter) (Github)

æˆ–åŸ·è¡Œ Â `npx create-tina-app@latest`Â  å¾Œè¨ªå• `localhost:3000/admin`

è§€çœ‹ [4 åˆ†é˜ç¤ºç¯„å½±ç‰‡](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## ğŸ“± React-Native {#react-native}

- ğŸ‘€ [æ‡¸åœæ‰‹å‹¢å³å°‡æ¨å‡º React Native Gesture Handler](https://twitter.com/breskin67/status/1646511002933153794)ï¼šæœªä¾†è·¨å¹³å° API æ”¯æ´ iOSã€Android åŠç¶²é ã€‚
- ğŸ‘€ [åœ–ç‰‡æ•ˆèƒ½æ¼”ç¤º](https://twitter.com/nightstomp/status/1647231665222176769)ï¼šå±•ç¤ºåœ¨ React Native æ‡‰ç”¨ä¸­ä½¿ç”¨éå¤§åœ–ç‰‡å°æ•ˆèƒ½çš„è² é¢å½±éŸ¿ã€‚
- ğŸ“¦ [Expo-Image 1.2.0 - æ”¯æ´ ThumbHash](https://twitter.com/tsapeta/status/1646875246362861569)
- ğŸ“¦ [React-Native-Widget-Extension](https://twitter.com/bndkt/status/1648431242025766912)
- ğŸ“¦ [AnimateReactNative](https://www.animatereactnative.com/)ï¼šCatalin Miron æä¾›é€¾ 100 ç¨®å‹•ç•«æ•ˆæœï¼ˆä»˜è²»ç”¢å“ï¼‰ã€‚
- ğŸ§µ [Expo æ–‡ä»¶æ›´æ–°](https://twitter.com/amanhimself/status/1646959895995105281)
- ğŸ§µ [Jamon Holmgren -ã€Œæƒ³çŸ¥é“å¾ç·¨è­¯å¾Œçš„ iPhone æ‡‰ç”¨ä¸­æå– API é‡‘é‘°æœ‰å¤šå®¹æ˜“å—ï¼Ÿã€](https://twitter.com/jamonholmgren/status/1647305506053320704)
- ğŸ¥ [Song of Bloom -ã€Œèƒ½ç”¨ React Native å¯¦ç¾å—ï¼Ÿã€](https://www.youtube.com/watch?v=PfCQEA72ljU)
- ğŸ¥ [åŸºæ–¼æª”æ¡ˆè·¯ç”±çš„ React Native èˆ‡ Expo Router](https://www.youtube.com/watch?v=RglRiycD0oQ)
- ğŸ‘¥ [React-Native-Connection](https://reactnativeconnection.io/)ï¼ˆå·´é»ï¼Œ6æœˆ1æ—¥ï¼‰æä¾› -10% é–€ç¥¨å„ªæƒ ï¼ˆä»£ç¢¼ "REACTHEBDO"ï¼‰ã€‚
- ğŸ‘¥ [App.js](https://appjs.co/)ï¼ˆå…‹æ‹‰ç§‘å¤«ï¼Œ5æœˆ10-12æ—¥ï¼‰æä¾›[å·¥ä½œåŠ -20% å„ªæƒ ](https://ti.to/appjs/2023/discount/ThisWeekinReact20)ï¼ˆä»£ç¢¼ "ThisWeekinReact20"ï¼‰ã€‚
- ğŸ‘¥ [Chain React](https://chainreactconf.com/)ï¼ˆæ³¢ç‰¹è˜­ï¼Œ5æœˆ18-19æ—¥ï¼‰æä¾› -10% é–€ç¥¨å„ªæƒ ï¼ˆä»£ç¢¼ "thisweekinreact"ï¼‰ã€‚

---

## ğŸ§‘â€ğŸ’» è·ç¼º {#jobs}

ğŸ§‘â€ğŸ’¼ [**Passionfroot - è³‡æ·±å…¨ç«¯å·¥ç¨‹å¸« (Remix) - â‚¬160k+ï¼ŒæŸæ—/é ç«¯**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot è‡´åŠ›é€é YouTubeã€Podcastã€ç¤¾ç¾¤åª’é«”å’Œé›»å­å ±è³¦èƒ½æ˜æ—¥ç¨ç«‹äº‹æ¥­ã€‚åŠ å…¥æˆ‘å€‘æ‰“é€ å…¨çƒå‰µä½œè€…å·¥å…·ï¼Œå»ºç«‹å¯æ“´å±•çš„æ°¸çºŒå•†æ¥­æ¨¡å¼ã€‚

ğŸ§‘â€ğŸ’¼ [**Callstack - è³‡æ·± React Native é–‹ç™¼è€… - å…¨é ç«¯ï¼Œæœˆè–ª21-32kèŒ²ç¾…ææ·¨é¡ (B2B)**](https://www.callstack.com/senior-react-native-developer)

æ¸´æœ›é–‹ç™¼å…¨çƒç†±é–€æ‡‰ç”¨ï¼Ÿæƒ³å…±åŒå¡‘é€  React Native æŠ€è¡“ï¼ŸåŠ å…¥ React & React Native é ˜å°åœ˜éšŠ Callstackã€‚è©³æƒ…è«‹è¦‹å®˜ç¶²ï¼ŒæœŸå¾…æ‚¨çš„å±¥æ­·å±•ç¾å¯¦åŠ›ï¼

ğŸ§‘â€ğŸ’¼ [**G2i - 100% é ç«¯ React Native è·ç¼º**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

æ‹›å‹Ÿå¤šåå°ˆç²¾ React Native çš„é–‹ç™¼è€…ï¼å¹´è–ªç´„ $160k åŠ  10% çé‡‘ã€‚éœ€å…· RN å¯¦éš›é–‹ç™¼ç¶“é©—ä¸”ä½æ–¼ç¾åœ‹ã€‚ç§è¨Š [@gabe_g2i](https://twitter.com/gabe_g2i) æ™‚è«‹è¨»æ˜ This Week in Reactã€‚

ğŸ’¡ [å¦‚ä½•ç™¼å¸ƒè·ç¼ºï¼Ÿ](https://thisweekinreact.com/sponsor)

---

## ğŸ”€ å…¶ä»– {#other}

- [Node.js 20 ç¾å·²æ¨å‡º](https://openjsf.org/blog/2023/04/18/node-js-20-now-available/)ï¼šé™„å¸¶ç©©å®šçš„æ¸¬è©¦åŸ·è¡Œå™¨ã€æ¬Šé™æ¨¡å‹ã€ç·¨è­¯æˆå¯åŸ·è¡ŒäºŒé€²ä½æª”...
- [pretty-ts-errors](https://github.com/yoavbls/pretty-ts-errors)ï¼šæå‡ VSCode ä¸­ TypeScript é–‹ç™¼è€…é«”é©—çš„å¥½é»å­ã€‚
- [total-typescript/shoehorn - TypeScript ä¸­çš„éƒ¨åˆ†æ¨¡æ“¬](https://github.com/total-typescript/shoehorn)
- [Chrome æ¨å‡º WebGPU](https://developer.chrome.com/blog/webgpu-release/)ï¼šåœ¨ Chrome 113+ ä¸­æ¨å‡ºã€‚
- [WebGPU åŸºç¤](https://webgpufundamentals.org/)
- [Turborepo 1.9](https://twitter.com/turborepo/status/1646238976196444162)

---

## ğŸ¤­ è¶£è {#fun}

[![alt](/emails/issues/142/meme.jpg)](https://twitter.com/thekitze/status/1646511070801203202)

å†è¦‹ï¼ğŸ‘‹