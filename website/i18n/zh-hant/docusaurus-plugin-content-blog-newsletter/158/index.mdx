---
slug: /158
title: "This Week In React #158: Astro, Server Components, VisionCamera, Owner Tree, Props Drilling, Next.js, Remix, Chakra, TypeScript, Skia, Biome, CSS, Node.js..."
authors: [slorber]
date: 09-06-2023
---

å¤§å®¶å¥½ï¼

æœ¬æœŸæ¶µè“‹å…©é€±çš„æ–°èï¼ŒåŒ…å«å…©å¤§é‡è¦ç‰ˆæœ¬ç™¼å¸ƒï¼šAstro 3.0 å’Œ VisionCamera 3.0ã€‚åŒæ™‚ä¹Ÿæœ‰è¨±å¤šç²¾å½©æ–‡ç« ï¼Œå› æ­¤æˆ‘åšäº†äº›ç¯©é¸ï¼

Bun 1.0 å°‡æ–¼ä»Šæ™šç™¼å¸ƒã€‚æˆ‘å¾ˆå¥½å¥‡ä»–å€‘è¦åŠƒäº†å“ªäº›åŠŸèƒ½ã€‚ä¹‹å‰æ›¾å°‡å…¶ç”¨æ–¼å–®å…ƒæ¸¬è©¦å–ä»£ Jestï¼Œé€Ÿåº¦ç¢ºå¯¦éå¸¸å¿«ã€‚

React-Native EU å¤§æœƒä»Šå¤©é–‹å¹•ã€‚æˆ‘æ³¨æ„åˆ°[ğŸ¦ å¹¾å ´æ¥µå…·å•Ÿç™¼æ€§çš„æ¼”è¬›](https://twitter.com/sebastienlorber/status/1696837186677530813)ï¼Œç‰¹åˆ¥æ˜¯é—œæ–¼ Static Hermes çš„å…§å®¹ã€‚

æƒ³é€ è¨ªç¾©å¤§åˆ©çš„æœ‹å‹ï¼Œå¯åƒåŠ  10 æœˆ 27 æ—¥åœ¨ç¶­ç¾…ç´èˆ‰è¾¦çš„ [reactjsday](https://2023.reactjsday.it/)ã€‚å¤§æœƒæä¾›[é–€ç¥¨ -10% å„ªæƒ ](https://ti.to/grusp/reactjsday-2023/discount/media_TWIR)ï¼Œä¸¦è´ˆé€è®€è€… 2 å¼µç·šä¸Š/é ç¨‹ç¥¨åˆ¸ï¼Œå‰å…©ä½å›è¦†æ­¤éƒµä»¶ç´¢ç¥¨è€…å³å¯ç²å¾—ã€‚

æˆ‘å¸¸å¿˜è¨˜åœ¨æ­¤æåŠï¼Œä½†æˆ‘æœƒã€Œå…¬é–‹æ§‹å»ºã€ã€‚æ‚¨å¯æŸ¥çœ‹æˆ‘æœ€æ–°çš„[æ¯æœˆ Indie Hackers å ±å‘Š](https://www.indiehackers.com/product/french-react-newsletter)åŠ[ğŸ¦ Twitter è©³æƒ…](https://twitter.com/sebastienlorber/status/1699065823959421109)ã€‚

<!-- truncate -->

**ğŸ’¡ [åœ¨ Twitter æŸ¥çœ‹æœ¬é›»å­å ±](https://slo.im/thread) - è¦–è¦ºåŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor1}

[![Frontendmasters](/emails/issues/158/frontendmasters.jpg)](https://frontendmasters.com/learn/react/?utm_source=newsletter&utm_medium=thisweekinreact&utm_campaign=reactpath)

**[FrontendMasters â€“ å®Œæ•´çš„ React.js å­¸ç¿’è·¯å¾‘ï¼Œé‚å‘è³‡æ·± React é–‹ç™¼è€…](https://frontendmasters.com/learn/react/?utm_source=newsletter&utm_medium=thisweekinreact&utm_campaign=reactpath)**

å¾åŸºç¤åˆ°é€²éšä¸»é¡Œï¼ˆæ•ˆèƒ½ã€æ¸¬è©¦ã€ç¨‹å¼ç¢¼å“è³ªï¼‰å…¨æ–¹ä½å­¸ç¿’ React.jsã€‚å¾ã€ŠReact å®Œæ•´å…¥é–€ã€‹å¯¦æˆ°æ‡‰ç”¨é–‹å§‹ï¼Œæ¥çºŒã€Šä¸­éš Reactã€‹æ•´åˆç”Ÿæ…‹ç³»ç†±é–€å·¥å…·ï¼Œå†é€²éšå­¸ç¿’æ•ˆèƒ½å„ªåŒ–ã€TypeScript åŠå…¨ç«¯æ¡†æ¶ Next.jsï¼

---

## âš›ï¸ React {#react}

[![Astro 3.0](/emails/issues/158/astro3.jpg)](https://astro.build/blog/astro-3/)

[**Astro 3.0**](https://astro.build/blog/astro-3/)

æ­¤ç‰ˆæœ¬å‰µæ–°é‹ç”¨ View Transition APIï¼Œå¯¦ç¾é é¢é–“æµæš¢å‹•ç•«å°èˆªä¸¦ä¿ç•™å…ƒä»¶ç‹€æ…‹ï¼Œå¤§å¹…é™ä½å¤šæ•¸å ´æ™¯å° SPA çš„éœ€æ±‚ã€‚

å…¶ä»–é‡å¤§æ”¹é€²ï¼š

- åœ–ç‰‡å„ªåŒ–åŠŸèƒ½ç©©å®š
- æ¸²æŸ“æ•ˆèƒ½æå‡ï¼šAstro å…ƒä»¶æ¸²æŸ“é€Ÿåº¦åŠ å¿« 30-75%
- ç„¡ä¼ºæœå™¨ SSR å¼·åŒ–ï¼šæ–°å¢ä¸»æ©Ÿå¹³å°æ•´åˆæ–¹å¼
- JSX HMR å¢å¼·ï¼šæ”¯æ´ React å’Œ Preact çš„ Fast Refresh
- å»ºç½®è¼¸å‡ºå„ªåŒ–ï¼šç”Ÿæˆæ›´ç°¡æ½”é«˜æ•ˆçš„ HTML

---

[![Making Sense of React Server Components](/emails/issues/158/rsc.jpg)](https://www.joshwcomeau.com/react/server-components/)

[**ç†è§£ React Server Components**](https://www.joshwcomeau.com/react/server-components/)

Josh Comeau å¸¶è‘—ä¸€ç¯‡é—œæ–¼ React Server Components çš„ç²¾å½©ä»‹ç´¹å›ä¾†äº†ï¼Œå…§å®¹ç¯€éŒ„è‡ªä»–å³å°‡æ–¼ä¸‹é€±æ¨å‡ºçš„[èª²ç¨‹](https://www.joyofreact.com/)ã€‚æ–‡ä¸­å¤§é‡å‹•æ…‹åœ–è§£è®“é€™å€‹æ–°çš„ React å…¸ç¯„è®Šå¾—æ·ºé¡¯æ˜“æ‡‚ã€‚

---

- ğŸ’¸ [Zero To Shipped - Master Fast-Paced Fullstack Development and **Finally** ship that product](https://www.zerotoshipped.com/)
- ğŸ¦ [Remix v2 pre-release](https://twitter.com/remix_run/status/1696525340640936190): if you have already enabled [future flags v2](https://remix.run/blog/future-flags), you should be able to upgrade easily and remove these flags.
- ğŸ¦ [Dan Abramov joins Bluesky](https://twitter.com/dan_abramov/status/1695566446007386214): Dan has left Meta and joined this Twitter competitor based on a cross-platform Expo app. I think this is great news, we may have gained a great evangelist [to promote cross-platform and Expo](https://twitter.com/dan_abramov/status/1699476986727399933).
- ğŸ¦ [WIP testing docs for Next.js App Router](https://twitter.com/leeerob/status/1698758756924825723)
- ğŸ§‘â€ğŸ“ [Next.js App Router - Forms and Mutations docs](https://nextjs.org/docs/app/building-your-application/data-fetching/forms-and-mutations): new doc page explaining the use of Server Actions and the React `useFormStatus` and `useOptimistic` hooks.
- ğŸ’¬ [Next.js Tim Neutkens' Deep Dive - Caching and Revalidating](https://github.com/vercel/next.js/discussions/54075)
- ğŸ“œ [Parents & Owners in React: Data Flow](https://julesblom.com/writing/parents-owners-data-flow): original interactive and visual article, explaining the problem of props drilling and how to avoid it with slotted components. Explains the concepts of parent tree and owner tree. The props drilling problem becomes clearly visible in the diagrams.
- ğŸ“œ [Challenging Established Norms: Making Component Fetching the Exception](https://jjenzz.com/making-component-fetching-the-exception/): an interesting thought that encourages you to run your queries at route level to avoid waterfalls, and use composition to avoid props drilling.
- ğŸ“œ [Rust Server Components](https://anto.pt/articles/rust-server-components): proposes to partially reproduce RSC, MDX and Suspense using Rust, HTMX and a few other libs. "the Rust equivalent of T3 Stack". Nice to read, even though I don't do Rust. Not convinced that the end result solves all the problems RSCs do.
- ğŸ“œ [Chakra, Panda and Ark - What's the plan?](https://www.adebayosegun.com/blog/chakra-panda-ark-whats-the-plan): Segun answers a number of questions about his libraries. Chakra v3 arrives in Q4, but will still use Emotion. The addition of "use client" makes it easier to use in RSCs. Adoption of the Radix `asChild` pattern.
- ğŸ“œ [How to Pass a Component as a Prop in React](https://www.totaltypescript.com/pass-component-as-prop-react): Matt shares some TypeScript + React typing tips. The type to implement "as" prop is quite scary ğŸ˜¬.
- ğŸ“œ [Handling type-safe toast notifications with zod in Remix applications](https://alemtuzlak.hashnode.dev/handling-toasts-in-remix): explains how to use the Remix flash session to give feedback after an action.
- ğŸ“œ [Optimizing Next.js cold starts for Vercel](https://holocron.so/blog/optimizing-next.js-cold-starts-for-vercel)
- ğŸ“œ [Strongly Typing React Props with TypeScript](https://www.totaltypescript.com/react-props-typescript)
- ğŸ“œ [You Might Not Need A useEffectAsync Hook](https://krassnig.dev/blog/you-might-not-need-a-use-effect-async-hook.html)
- ğŸ“œ [Web Developers, CSS-in-JS is Ruining Your Product](https://cord.com/blog/migrating-from-css-in-js-to-vanilla-extract)
- ğŸ“œ [Build your own headless UI components](https://www.jacobparis.com/content/react-headless-submenus)
- ğŸ“œ [Building a toast component](https://emilkowal.ski/ui/building-a-toast-component)
- ğŸ“¦ [next-flat-routes](https://github.com/ifyio/next-flat-routes)
- ğŸ“¦ [Puck - Self-hosted drag and drop editor for React](https://github.com/measuredco/puck)
- ğŸ“¦ [react-prod-sourcemaps](https://github.com/markerikson/react-prod-sourcemaps)
- ğŸ“¦ [Reshaped 2.2 - Now available on NPM](https://reshaped.so/content/blog/2.2)
- ğŸ‘¥ [reactjsday](https://2023.reactjsday.it/) (Verona ğŸ‡®ğŸ‡¹, Octobre 27, 2023) is offering us [-10% on conference tickets](https://ti.to/grusp/reactjsday-2023/discount/media_TWIR) with code "media_TWIR"

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor2}

[![å…·å‚™å®Œæ•´åŠŸèƒ½çš„éé›²ç«¯ Google Forms æ›¿ä»£æ–¹æ¡ˆ](/emails/issues/155/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)

**[å…·å‚™å®Œæ•´åŠŸèƒ½çš„éé›²ç«¯ Google Forms æ›¿ä»£æ–¹æ¡ˆ](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)**

è‹¥æ‚¨å¸Œæœ›å»ºç«‹ä¸€å€‹å®Œå…¨æ•´åˆè‡³ IT åŸºç¤æ¶æ§‹çš„å¼·å¤§è¡¨å–®ç®¡ç†ç³»çµ±ï¼ŒåŒæ™‚èƒ½å®Œå…¨æŒæ§è³‡æ–™æµå‹•ï¼Œä¸”ä¸é¡˜è€—è²»æ•¸æœˆæ™‚é–“èˆ‡æ•¸åƒç¾å…ƒæˆæœ¬ä¾†éƒ¨ç½²ç³»çµ±ï¼ŒSurveyJS æ­£æ˜¯æ‚¨çš„ç†æƒ³é¸æ“‡ï¼

SurveyJS æ˜¯ç”±å››å€‹é–‹æº JavaScript å‡½å¼åº«çµ„æˆçš„ç”¢å“å¥—ä»¶ï¼Œè®“æ‚¨èƒ½é€éæ‹–æ”¾å¼è¡¨å–®å»ºæ§‹å™¨å‰µå»ºèˆ‡ç·¨è¼¯å¤šå€‹å‹•æ…‹ JSON è¡¨å–®ï¼Œåœ¨ React æ‡‰ç”¨ç¨‹å¼ä¸­å‘ˆç¾è¡¨å–®ï¼Œä¸¦å°‡æ•æ„Ÿå•å·è³‡æ–™å„²å­˜åœ¨å…§éƒ¨åŸºç¤æ¶æ§‹ä¸­ã€‚æ‚¨é‚„èƒ½åœ¨ç€è¦½å™¨ä¸­å°‡è‡ªè¨‚å•å·èˆ‡è¡¨å–®è½‰ç‚ºå¯ç·¨è¼¯çš„ PDF æª”æ¡ˆï¼Œä¸¦é€éäº’å‹•å¼åœ–è¡¨èˆ‡è¡¨æ ¼è¦–è¦ºåŒ–å•å·çµæœã€‚[ç«‹å³äº†è§£æ›´å¤š](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)ã€‚

---

## ğŸ“± React-Native {#react-native}

[![VisionCamera 3.0](/emails/issues/158/visioncamera3.jpg)](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.0.0)

[**VisionCamera 3.0**](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.0.0)

VisionCamera çš„æ–°ç‰ˆæœ¬å·²æ­£å¼ç™¼å¸ƒã€‚é‡é»æ›´æ–°ï¼š

- å…¨é¢é‡å¯« Android Camera2
- è‡ªè¨‚ GPU OpenGL è¦–è¨Šç®¡ç·š
- æ–°å¢ç›¸æ©ŸåŠŸèƒ½
- å…¨æ–°å¹€è™•ç†å¼•æ“ (react-native-worklets-core)
- æ–°å¢å¹€è™•ç†æ’ä»¶ API

Marc æœ€çµ‚æ±ºå®š[ç§»é™¤ Skia æ•´åˆåŠŸèƒ½](https://github.com/mrousavy/react-native-vision-camera/pull/1740)ï¼Œä»¥ä¿æŒ VisionCamera çš„ç¨‹å¼ç¢¼é«”ç©èˆ‡è¤‡é›œåº¦åœ¨åˆç†ç¯„åœã€‚

åœ¨[**ä½¿ç”¨ VisionCamera V3ã€TFLite å’Œ Skia é€²è¡Œå§¿æ…‹åµæ¸¬**](https://mrousavy.com/blog/VisionCamera-Pose-Detection-TFLite)ä¸€æ–‡ä¸­ï¼Œä»–è©³è¿°äº†æ­¤é¡æ•´åˆæ‰€èƒ½å¯¦ç¾çš„åŠŸèƒ½ï¼Œæˆæœä»¤äººé©šè±”ã€‚

[![ä½¿ç”¨ VisionCamera V3ã€TFLite å’Œ Skia é€²è¡Œå§¿æ…‹åµæ¸¬](/emails/issues/158/frame-processing-skia.jpg)](https://mrousavy.com/blog/VisionCamera-Pose-Detection-TFLite)

---

- ğŸ“œ [Things to look forward to in React Native](https://buttondown.email/whatever_jamie/archive/things-to-look-forward-to-in-react-native/)ï¼šå° React-Native æœªä¾†å¹¾å¹´çš„ç™¼å±•æ–¹å‘æä¾›äº†å¾ˆå¥½çš„æ¦‚è¿°ï¼ŒåŒ…æ‹¬ Web Conformanceã€Static Hermesã€Node-APIã€React Server Components...
- ğŸ“œ [React Native æ•ˆèƒ½æ¸¬é‡èˆ‡ç›£æ§å·¥å…·](https://semaphoreci.com/blog/react-native-performance-measuring-monitoring-tools)
- ğŸ§µ [React Native Gesture Handler æ‰€æœ‰æ‰‹å‹¢è§£æèˆ‡çœŸå¯¦ç¯„ä¾‹](https://twitter.com/kacperkapusciak/status/1698719844089160189)
- ğŸ‘€ [Expo - é€é EAS Insights äº†è§£ç”¨æˆ¶ä¸¦æå‡æ‡‰ç”¨ç¨‹å¼æˆé•·](https://expo.dev/changelog/2023/08-22-insights)
- ğŸ“¦ [expo-ahap - Apple è§¸è¦ºèˆ‡éŸ³æ•ˆæ¨¡å¼](https://github.com/EvanBacon/expo-ahap)
- ğŸ“¦ [react-native-z-view](https://github.com/intergalacticspacehighway/react-native-z-view)
- ğŸ“¦ [Universal Medusa - ä½¿ç”¨ Expo, Solito, Next.js, Nativewind, Medusa çš„é›»å•†å…¥é–€å¥—ä»¶](https://github.com/bidah/universal-medusa/)
- ğŸ”— [Awesome Universal React - è·¨å¹³å°æ¡†æ¶ã€å‡½å¼åº«ã€è¨­è¨ˆç³»çµ±ã€æ‡‰ç”¨èˆ‡è³‡æº](https://github.com/axeldelafosse/awesome-universal-react)
- ğŸ¥ [åœ¨ React Native ä¸­å¯¦ç¾å¯¦é©—æ€§æ¨¡ç³Šæ¼¸è®Šæ•ˆæœ](https://www.youtube.com/watch?v=oboF_H1MApo)
- ğŸ¥ [ä½¿ç”¨ React Native Skia è£½ä½œ iPhone æ¡Œå¸ƒ](https://www.youtube.com/watch?v=Apqd749v34I)
- ğŸ‘¥ [React Native EU 2023](https://www.react-native.eu/)ï¼ˆæ³¢è˜­å¼—ç¾…èŒ¨ç“¦å¤«ï¼Œ9æœˆ7-8æ—¥ï¼‰æä¾›[-15%æœƒè­°é–€ç¥¨å„ªæƒ ](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)ï¼Œå„ªæƒ ç¢¼ "thisweekinreact15"

---

## ğŸ”€ å…¶ä»– {#other}

- ğŸ“Š [2023 CSS ç¾ç‹€èª¿æŸ¥çµæœ](https://2023.stateofcss.com/)
- ğŸ“œ [æˆ‘çš„ Node.js æœ‰é» Rusty](https://gal.hagever.com/posts/my-node-js-is-a-bit-rusty)
- ğŸ“œ [å®£å¸ƒ Biome - Romeï¼ˆå·²åœæ­¢ç¶­è­·ï¼‰çš„å®˜æ–¹åˆ†æ”¯](https://biomejs.dev/blog/annoucing-biome)
- ğŸ“œ [è¦–åœ–è½‰å ´æœƒç ´å£æ¼¸é€²å¼æ¸²æŸ“](https://ericportis.com/posts/2023/view-transitions-break-incremental-rendering/)
- ğŸ“œ [å–„ç”¨ Web Components çš„å„ªå‹¢](https://nolanlawson.com/2023/08/23/use-web-components-for-what-theyre-good-at/)
- ğŸ“œ [ä½¿ç”¨ @property å¯¦ç¾é¡å‹å®‰å…¨çš„ CSS è¨­è¨ˆç³»çµ±](https://nerdy.dev/cant-break-this-design-system)
- ğŸ‘€ [TypeScript 5.3 è¿­ä»£è¨ˆåŠƒ](https://github.com/microsoft/TypeScript/issues/55486)
- ğŸ“¦ [TypeScript 5.2 ç™¼å¸ƒ](https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/)
- ğŸ“¦ [Node 20.6 - å…§å»º .env æª”æ¡ˆæ”¯æ´](https://nodejs.org/en/blog/release/v20.6.0)
- ğŸ“¦ [Firefox 117 - CSS Nesting å…¨é¢å¯ç”¨](https://www.mozilla.org/en-US/firefox/117.0/releasenotes/)
- ğŸ“¦ [Espresso Build - å¯¦é©—æ€§æ¬¡ä¸–ä»£å¥—ä»¶è¨»å†Šã€å¥—ä»¶ç®¡ç†èˆ‡å·¥å…·éˆ](https://espresso.build/)

---

## ğŸ¤­ è¶£å‘³ {#fun}

[![alt](/emails/issues/158/meme.jpg)](https://twitter.com/sebastienlorber/status/1687456078198394882)

ä¸‹æ¬¡è¦‹ï¼ğŸ‘‹