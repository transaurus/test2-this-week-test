---
slug: /138
title: "This Week In React #138: React-Router, Rspack, RSC, Storybook, Astro, Million, Superflare, Tremor, React-Email, Ink, Metro, VisionCamera, Jest, Proto..."
authors: [slorber]
date: 03-14-2023
---

大家好！

當大家都在玩 GPT-4 時，我仍在為大家閱讀 React 相關文章！

React-Router 的新 `lazy` 功能看起來非常實用，能有效避免瀑布式載入問題。

採用 Rust 開發的 Rspack 打包工具剛剛宣布問世。

我想為這份通訊建立推薦計畫，鼓勵大家分享給朋友，並在新訂閱者加入時給予獎勵。有什麼好點子可以作為回饋嗎？

目前想到的方案：

- +1 位訂閱者 - 取得我精選的十大 React 經典文章
- +3 位訂閱者 - 取得分類標籤完整、評分系統完善的優質文章資料庫
- +5 位訂閱者 - 在 Twitter 或 LinkedIn 公開致謝
- +10 位訂閱者 - 在通訊中刊登您的職缺資訊
- +30 位訂閱者 - 任選 Just JavaScript（Dan Abramov）或 Three.js Journey（Bruno Simon）等課程
- +50 位訂閱者 - 一小時 React 技術諮詢服務

要決定回饋內容不容易啊 😅。數位產品比較容易起步管理，但也不排斥實體商品（貼紙、襪子、運動鞋、背包、馬克杯...）。

歡迎直接回覆這封郵件提供建議，告訴我哪種獎勵最能激勵您參與？

<!-- truncate -->

**💡 [在 Twitter 上查看本期通訊](https://slo.im/thread) - 視覺化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![Suncel](/emails/issues/136/suncel.jpg)](https://suncel.io/)

**[打造可複用區塊 · 加速內容發布 · 提升 Core Web Vitals 與 SEO 表現](https://suncel.io/)**

**內容編輯者**：對於需要大量產出內容且重視 SEO 策略的企業是革命性工具。行銷與內容編輯人員能無障礙編輯發布頁面，消除冗長流程即時發布。透過 Next.js 優化頁面與圖片，達成完美的 Core Web Vitals 評分。

**開發者**：可無縫整合現有 Next.js 應用，使用 Suncel CMS 的優勢包括：

- 用 React 構建可複用區塊
- 自動生成 SEO Meta 與網站地圖（透過 SEO 模組）
- 自訂 React 設定項
- 可客製化的 React 管理介面
- 無需額外路由系統即可兼容 CMS

**[訪問 Suncel.io](https://suncel.io/)** | **[5 分鐘演示影片](https://www.youtube.com/watch?v=LUupLEZKp3w)**

---

## ⚛️ React {#react}

[![React Router 6.4+ 的延遲載入路由](/emails/issues/138/reactrouterlazy.jpg)](https://remix.run/blog/lazy-loading-routes)

**[React Router 6.4+ 的延遲載入路由](https://remix.run/blog/lazy-loading-routes)**

[React-Router 6.9](https://github.com/remix-run/react-router/releases/tag/react-router%406.9.0) 最新釋出延遲路由功能，可避免載入瀑布效應並優化應用載入時間。此為 Remix 的運作原理，現在任何基於 React-Router 的應用皆可使用。我個人計劃在 Docusaurus（基於 React-Router）中採用此技術。

---

- 👀 [React Flight PR - Add Reply Encoding](https://github.com/facebook/react/pull/26360): streaming support for server => client.
- 👀 [Integrating Remix Router with React Transitions](https://twitter.com/dan_abramov/status/1634300734094057472): Dan Abramov suggests using `startTransition` in Remix. Suspended components outside `<Suspense>` boundaries should block the transition.
- 🧵 [Dan Abramov - "if you’re not composing GraphQL fragments from multiple components into one query \[...\] you’re missing 80% of the point of GraphQL"](https://twitter.com/dan_abramov/status/1634968234821844992): interesting discussions about Relay this week. Although quite intimidating, this GraphQL client has many advantages compared to simpler solutions (colocation, data masking...).
- 🧵 [70% of Docusaurus sites have good Core Web Vitals](https://twitter.com/sebastienlorber/status/1635661211579580429): my little rant because Docusaurus is often forgotten in the list of React meta-frameworks despite a high usage and good performance.
- 📜 [The Great Gaslighting of the JavaScript Era](https://www.spicyweb.dev/the-great-gaslighting-of-the-js-age/): violent criticism of React 😅 I don't share the same opinion and think that React developers are generally aware of the tradeoffs they make.
- 📜 [Client-side JavaScript and React criticism: What comes next?](https://molily.de/javascript-criticism/): more nuanced criticism, but I don't think React and progressive enhancement are incompatible, Remix is a good example.
- 📜 [State in React is Immutable](https://reacttraining.com/blog/state-in-react-is-immutable): good intro to the immutable model in React.
- 📜 [Where did Hooks come from?](https://reacttraining.com/blog/where-did-hooks-come-from): goes back to understand why we use hooks today. New React developers are not always aware of the problems encountered a few years ago.
- 📜 [Fine-tuning refs with useImperativeHandle](https://prateeksurana.me/blog/fine-tuning-refs-with-useimperativehandle/): good intro for this hook that allows a React component to expose an imperative API to its parents.
- 📜 [My experience learning React, web standards, and Remix](https://andre-landgraf.dev/blog/2023-03-11_web_standards_and_react): back to simplicity, less `useState` and more fullstack.
- 📜 [Send emails using React and Tailwind CSS](https://resend.com/blog/tailwind-with-react-email): React-Email now supports Tailwind classes.
- 📜 [Elegantly managing state and renders in React](https://remotion.com/blog/untangling-state-in-react):highlights how the batching of updates works, which can be surprising at first.
- 📜 [A Brief History of Reactivity](https://www.builder.io/blog/history-of-reactivity): compares the reactive model of various frameworks, including React (coarce-grain reactivity).
- 📜 [The Most Popular Node.js Frameworks in 2023](https://stackdiary.com/node-js-frameworks/)
- 📜 [Full-Stack TypeScript with tRPC and React](https://www.robinwieruch.de/react-trpc/)
- 📜 [Beautiful and mind-bending effects with WebGL Render Targets](https://blog.maximeheckel.com/posts/beautiful-and-mind-bending-effects-with-webgl-render-targets/)
- 🎥 [RSC with Dan Abramov and Joe Savona Live Stream](https://kentcdodds.com/blog/rsc-with-dan-abramov-and-joe-savona-live-stream)
- 🎥 [React's place in the frontend ecosystem](https://www.youtube.com/watch?v=GHRkN_G5BMc)
- 🎥 [Ranking every Full Stack Framework (By...TypeSafety?)](https://www.youtube.com/watch?v=zADNdGVIPBY)
- 🎥 [Unlock the Power of AI with Defer and NextJS 13 - UI Magic!](https://www.youtube.com/watch?v=kHsTp2LENUI)
- 📦 [Ink 4.0](https://github.com/vadimdemedes/ink/releases/tag/v4.0.0): the React renderer for CLI is now under React 18 and ESM.
- 📦 [Koestlich](https://twitter.com/coconut_xr/status/1633770307470098434): a "3D UI-kit" based on React-Three-Fiber.
- 📦 [Storybook 7.0 RC](https://github.com/storybookjs/storybook/releases/tag/v7.0.0-rc.0): API framework with Next.js support Component Story Format 3, MDX 2... See also the conf [Storybook Day 2023](https://www.youtube.com/watch?v=P0hJm5v8TJw)
- 📦 [Astro 2.1](https://astro.build/blog/astro-210/): Image component, Markdoc support.
- 📦 [Million 2.0](https://twitter.com/aidenybai/status/1634060432372813829): a virtual DOM based on the concept of "blocks" compatible with React and which can make it 70% faster 🤔
- 📦 [SWR 2.1](https://github.com/vercel/swr/releases/tag/v2.1.0): useSWRSubscription + useSWRInfinite parallel option
- 📦 [Superflare](https://superflare.dev/): fullstack toolkit for Cloudflare Workers with support for D1, R2, Session, Queues... integration with Remix, and soon Next.js?
- 📦 [Tremor 2.0](https://twitter.com/tremorlabs/status/1635064912153284609): UI lib to create dashboards, now based on Tailwind CSS.
- 📦 [next-route-visualizer](https://github.com/DiiiaZoTe/next-route-visualizer)
- 📦 [Radix - new Form primitive](https://twitter.com/radix_ui/status/1633483912755261443)
- 📦 [Nodl 1.0](https://twitter.com/emilwidlund/status/1634804041397022720)
- 📦 [Framer-Motion 10.3](https://twitter.com/mattgperry/status/1635641473319280646)
- 🐦 [Node.js site now using Next.js](https://twitter.com/leeerob/status/1633595208448311296)

<SubscribeFormEmbed />

---

## 💸 贊助商 {#sponsor2}

[![Surveyjs - 可擴展的 JavaScript 問卷與表單函式庫](/emails/issues/136/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)

**[可擴展的 JavaScript 問卷與表單函式庫](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)**

[SurveyJS](https://surveyjs.io/form-library?utm_source=thisweekinreact&utm_medium=referral) 是一套開源 JavaScript 表單函式庫，可輕鬆整合至您的 Web 應用程式。它能讓您**建立並運行多種表單**，將所有敏感資料保留在自有伺服器上，或提供**自主託管的 WYSIWYG 表單建構器**供非技術用戶直接使用。

您還能**在自建儀表板中分析問卷結果**、將表單儲存為 PDF，或直接**轉換為可編輯的 PDF 檔案**。它原生支援 **React 和 Angular 渲染**，並提供後端技術的完全自由選擇權，因為**任何伺服器與資料庫組合皆可完全相容**。

---

## 📱 React-Native {#react-native}

- 📜 [在 React Native 中實現流暢的共享元素轉場效果](https://mrousavy.com/blog/Shared-Element-Transitions-in-React-Native)：Reanimated 3 共享元素轉場的優質入門指南。使用方式簡潔靈活，可透過 worklet 自訂轉場效果。
- 📜 [Android 相機 API 實務解析](https://mrousavy.com/blog/Camera-APIs-on-Android)：Marc Rousavy 解釋相機管理為何複雜（尤其在 Android）。VisionCamera v3 將回歸 Camera2 並暫棄 CameraX API。
- 📜 [Shopify Tophat - 打造卓越的行動開發者體驗](https://shopify.engineering/shopify-tophat-mobile-developer-testing)：Shopify 為其行動應用建立專屬開發體驗，類似 Expo 但非完全相關於 React-Native。
- 📜 [Expo - EAS Build 將預設採用 M1/M2 進行 iOS 建置](https://blog.expo.dev/eas-build-will-default-to-m1-m2-for-ios-builds-24208008a68d)：Expo 說明轉用 Apple 晶片建構器可減少 iOS 建置時間（M1 節省 40%，M2 再提升 10%）。
- 📜 [Microsoft - 為 React Native Windows 應用加入 Jest 快照測試](https://devblogs.microsoft.com/react-native/2023-03-02-adding-snapshot-testing-to-rnw-apps/)
- 📜 [使用 React Native VisionCamera：實例演示與替代方案](https://blog.logrocket.com/react-native-visioncamera-demo-alternatives/)
- 🧑‍🎓 [橋接教學 - 學習在 React Native 應用中使用任何平台 API](https://mateusz1913.github.io/rnbridgingtutorial/)：建立原生模組的完整資源。
- 🎙️ [RNR 第 262 集 - Maestro：行動 UI 測試的終極解決方案](https://reactnativeradio.com/episodes/rnr-262-maestro-the-app-solute-solution-for-mobile-ui-testing)
- 📦 [Metro 0.76](https://github.com/facebook/metro/releases/tag/v0.76.0)：移植自 Webpack 的 API，預計[實現程式碼分割](https://twitter.com/sebastienlorber/status/1635671177082417158)並將用於 Expo Router。
- 👀 [Expo Web 全域 CSS 支援進展](https://twitter.com/Baconbrix/status/1633562265189326855)

---

## 🧑‍💻 職缺 {#jobs}

🧑‍💼 [**Callstack - 資深 React Native 開發者 - 全遠端，B2B 月薪淨額 PLN 21-32k**](https://www.callstack.com/senior-react-native-developer)

您想在世界最受歡迎的應用程式上工作嗎？您是否想共同創造 React Native 技術？加入 Callstack 的 React 與 React Native 領導者團隊。查看我們的網站以獲取更多詳細資訊。我們期待看到您的申請 — 向我們展示您的實力！

🧑‍💼 [**G2i - 100% 遠端 React Native 職缺**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我們為專注於 React Native 的開發者開放了多個職位！薪資約為 16 萬美元外加 10% 獎金。您必須具備 RN 實際生產環境經驗且位於美國。請私訊 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多，別忘了提及 This Week in React。

💡 [如何發布職缺？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

[![Rspack](/emails/issues/138/rspack.jpg)](https://www.rspack.dev/)

**[Rspack](https://www.rspack.dev/)**

字節跳動推出的 Rust 打包工具正式發布，與 Webpack 相容但速度大幅提升。在 Rspack 和 Turbopack 之間選擇將會很困難，因為後者也宣布了[即將支援 Webpack 載入器](https://twitter.com/jaredpalmer/status/1619071988181651456)。值得注意的是 [Unplugin 1.3](https://twitter.com/antfu7/status/1634517321392726017) 已支援 Rspack，可建立與打包工具無關的外掛程式。目前尚未支援 Turbopack，但希望已在規劃中！

另請閱讀 [Rspack：融合高效能與互通性的 Rust 網頁打包工具](https://valor-software.com/press-release/rs-pack-rust-based-web-bundler)

---

- [Jest 29.5](https://github.com/facebook/jest/releases/tag/v29.5.0)：新增 CLI `--randomize` 選項
- [CSS 巢狀結構](https://developer.chrome.com/articles/css-nesting/)：登陸 Chrome 112！
- [Proto，次世代工具鏈管理器](https://moonrepo.dev/blog/proto)：管理 Node.js 運行環境的新方案（不限於此），可替代 fnm 或 Volta
- [SPA 視圖轉換功能登陸 Chrome 111](https://developer.chrome.com/blog/spa-view-transitions-land/)
- [TypeScript 遷移至模組系統](https://devblogs.microsoft.com/typescript/typescripts-migration-to-modules/)
- [Cloudflare Workers - Node.js 相容性演示](https://twitter.com/jasnell/status/1633949738516230144)
- [ts-reset 0.4](https://twitter.com/mattpocockuk/status/1633525273860661257)
- [考慮在 Web Worker 中實現 Canvas 動畫](https://www.macarthur.me/posts/animate-canvas-in-a-worker)
- [近三年 JavaScript 與 TypeScript 所有新特性](https://betterprogramming.pub/all-javascript-and-typescript-features-of-the-last-3-years-629c57e73e42)
- [如何測量 SPA 的核心網路指標(CWVs)](https://estelafranco.com/blog/spa-cwv/)
- [JavaScript 氧化編譯器 v0.1](https://github.com/Boshen/oxc)
- [Turborepo 從 Go 遷移至 Rust 的原因](https://vercel.com/blog/turborepo-migration-go-rust)

---

## 🤭 趣聞 {#fun}

[![alt](/emails/issues/138/meme.jpg)](https://twitter.com/sebastienlorber/status/1635592966973669379)

🤣 [本週其他搞笑推文](https://twitter.com/sebastienlorber/status/1635710256876777472)

下次見！👋