---
slug: /186
title: "This Week In React #186: React Conf, Compiler, Universal RSC, React-Router, Google Maps, Million Lint, Pigment, Restyle, Storybook, SSRF, Inline Styles, New Arch, Expo, Bootsplash, Skia, RN-Video..."
authors: [slorber, bndkt]
date: 05-22-2024
---

各位好！

這週我們可忙壞了😄！React Conf 果然沒讓人失望！我們人沒到現場，但[我們的傳單可是到了](https://x.com/sebastienlorber/status/1790771155734839313)😇。不僅有重磅會議公告（尤其是編譯器！），還有許多優秀社群文章，有些我還得延到下周才能介紹。

不過接下來恐怕更忙，因為明天就有兩大會議登場：

- Vercel Ship：預計將[發布 Next.js 15](https://x.com/feedthejim/status/1792969159321723244)，包含較溫和的快取策略、開發環境整合 Turborepo、編譯器支援等功能
- App.js Conf：預計也會有重磅 React Native 公告

祝閱讀愉快，我們下周見！

<!-- truncate -->

**💡 [在 Twitter 查看本刊](https://slo.im/thread) - 圖文版 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助 {#sponsor1}

[![React-admin：開源 B2B 應用框架](/emails/issues/182/marmelab.jpg)](https://marmelab.com/react-admin/)

**[React-admin：開源 B2B 應用框架](https://marmelab.com/react-admin/)**

透過這款備受讚譽的前端框架🚀，加速開發單頁應用！基於 TanStack Query、react-hook-form、react-router 和 Material UI 打造，React-admin 讓你在 REST 或 GraphQL API 上建構豐富的使用者體驗。

除了 CRUD 頁面，React-admin 更提供進階功能滿足需求：完整工具組包含行事曆 **📅**、可自訂看板、內容版本控制 **🔄**、嵌套表單等。透過無頭鉤子(hooks)和可主題化元件，還能加入即時更新 🎥、樹狀 **🌲** 結構與詳細稽核日誌。

準備好升級開發體驗了嗎？讓 React-admin 成為你的首選框架，加入每日超過 50 萬用戶的行列！[立即試用](https://marmelab.com/react-admin/)！

---

## ⚛️ React {#react}

[![React Conf 2024 重點回顧](/emails/issues/186/recap.jpg)](https://react.dev/blog/2024/05/22/react-conf-2024-recap)

**[React Conf 2024 重點回顧](https://react.dev/blog/2024/05/22/react-conf-2024-recap)**

React 團隊發布了 React Conf 回顧文，正好趕上本周出刊🤗。文中介紹了所有演講與主要公告。我還沒全部看完，但目前個人亮點有：

- React 19 已進入 RC 階段，穩定版預計數週內發布
- React 編譯器正式推出且威力強大
- 通用 React 伺服器元件(Universal RSC)將登陸 Expo，展示效果驚豔
- Remix 與 React Router 正在合併，Remix v3 實質就是 React Router v7
- 即時 React 伺服器元件演示讓 RSC 具狀態能力，開創類似 Phoenix LiveView 的新可能
- React 現可協調 HTML 標籤，此功能重要性被嚴重低估

再次強調，這些只是我的個人偏好。我們已在本刊涵蓋多數 React 19 功能，而 [React 19 測試版公告文](https://react.dev/blog/2024/04/25/react-19)仍是了解下個主要版本所有新功能的權威參考。

---

[![React 編譯器](/emails/issues/186/compiler.jpg)](https://react.dev/learn/react-compiler)

**[React 編譯器正式推出](https://react.dev/learn/react-compiler)**

編譯器確實值得獨立專區說明。簡而言之：它能自動優化現有程式碼，並透過常規 JS 值實現細粒度響應式。試試 [React Compiler Playground](https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwFkBPAQU0wAoAlPmAAdNvhgJcsNgB5CTAG4A+ABIJKlCPgDqOSoTkB6RaoDc4gL7iQVoA)，了解其運作原理與程式碼優化方式。

已在 Instagram 網頁版成功部署，成效顯著（互動速度提升 2.5 倍）。它逐文件靜態分析程式碼，以比手動操作更精細的粒度安全優化可記憶部分。若遵循 React 規則則無需改寫程式碼。ESLint 插件會標示編譯器偵測到的問題程式碼。不建議搭配代理方案如 MobX 使用。透過設定選項與啟用/停用指令，可逐步在程式庫中試用編譯器。

編譯器初始版本以 TypeScript 開發並附帶 Babel 綁定，但其邏輯層已解耦故無需擔憂。下一步將支援 SWC，後續可能推出 Rust 移植版（可行性驗證已完成）。

需強調 React 團隊始終規劃編譯器方案（參見 [Andrew Clark 貼文](https://x.com/acdlite/status/1792710362745405911)）。此為開端，現有基礎設施將支持更強大功能。我們遲早能擺脫依賴陣列，編譯器將優化細粒度上下文消耗（參見[相關推文](https://x.com/TkDodo/status/1741193371283026422)）。

🔗 **推薦延伸閱讀：**

- 📜 [React Compiler With React 18](https://jherr2020.medium.com/react-compiler-with-react-18-1e39f60ae71a)：編譯器非 React 19 專屬功能。Jack 展示透過簡單編譯器運行時鉤子在 React 18 下的實作驗證。React Compiler 團隊的 Lauren 確認此方式可行，並提供[官方 polyfill](https://github.com/reactwg/react-compiler/discussions/6) 暫用（仍建議升級至 React 19）。
- 🎥 [Jack Herrington - React Compiler: In-Depth Beyond React Conf 2024](https://www.youtube.com/watch?v=PYHBHK37xlE)
- 🎥 [Theo - React Just Changed Forever](https://www.youtube.com/watch?v=DhfeXfF_W4w)
- 🧵 [Theo - Clearing up some React Compiler misunderstandings](https://x.com/t3dotgg/status/1791177359896555600)

---

[![合併 Remix 與 React Router](/emails/issues/186/remix.jpg)](https://remix.run/blog/merging-remix-and-react-router)

**[合併 Remix 與 React Router](https://remix.run/blog/merging-remix-and-react-router)**

此為 React Conf 另一重大公告。Remix 與 React Router 因 Vite 插件和 SPA 模式高度趨同，已無需分開發行。技術上將以 React Router v7 取代 Remix v3，保留回溯相容性並新增功能（RSC、伺服器動作、靜態預渲染等）。另參閱後續文章[增量升級至 React 19：React Conf 跟進](https://remix.run/blog/incremental-path-to-react-19)。

---

- 💸 [Conversational AI and context-aware LLM chat with React](https://nlux.dev/?utm_source=twir-m24-2)
- 📜 [React 19 lets you write impossible components](https://www.mux.com/blog/react-19-server-components-and-actions): A great article from Mux that adopted RSCs early, explaining that we only scratched the surface of the new patterns RSCs enable. The changelog pagination example is cool and shows that even libraries like React Query might become less useful.
- 📜 [Introducing Pigment CSS: the next generation of CSS-in-JS](https://mui.com/blog/introducing-pigment-css/): the MUI team explains the motivations to create their own in-house CSS-in-JS solution, built on top of the WyW-in-JS toolkit, that should power MUI v6 later this year. It is compatible with RSCs. The adoption for MUI/Emotion/StyledComponent users should be easy.
- 📜 [Digging for SSRF in NextJS apps](https://www.assetnote.io/resources/research/digging-for-ssrf-in-nextjs-apps): Security researchers explain blind Server Side Request Forgery vulnerabilities they found in Next.js related to the Image component and Server Actions implementations. Those vulnerabilities have been patched since Next.js 14.1.1 already (January 2024).
- 📜 [Prefer Multiple Compositions](https://kyleshevlin.com/prefer-multiple-compositions/): If your component has a finite set of cases to handle, it will be more maintainable to have clear separate if/else branches for each cases rather than spreading conditionals everywhere in JSX.
- 📜 [Prefer Noun-Adjective Naming](https://kyleshevlin.com/prefer-noun-adjective-naming/): I also prefer to name a component “ButtonPrimary” instead of “PrimaryButton”. Related things remain grouped alphabetically, and are easier to lookup in the IDE.
- 📜 [Inline Styles on Steroids](https://weser.io/blog/inline-styles-on-steroids): With projects such as CSS Hooks, and the web platform planning to add support for inline style nesting, it’s only a matter of time until inline styles make a huge comeback. The author of Fela recreates the DX of a good CSS-in-JS library on top of CSS Hooks thanks to 2 new projects he’s working on.
- 📜 [Quantifying the Impact of Styled Components on Server Response Times](https://blog.levineandrew.com/quantifying-the-impact-of-styled-components-on-server-response-times): Uses SpeedScope (more powerful than Chrome DevTools) to analyze a CPU trace and concludes that style injection takes 47% of SSR time.
- 📜 [Storybook - Portable stories for Playwright Component Tests](https://storybook.js.org/blog/portable-stories-for-playwright-ct/): Although Storybook provides a play() function using a Playwright test runner, you might still want to use Playwright Component testing directly, and reuse your existing stories there.
- 📜 [Deploying Remix to Cloudflare with SST](https://ruanmartinelli.com/blog/remix-sst-cloudflare): Using SST to deploy your app to a major cloud can be a nice alternative to DX platforms like Vercel/Netlify. TIL that it’s so simple to use, and it also supports deploying to Cloudflare.
- 📦 [Restyle](https://reactstyle.vercel.app/): New CSS-in-JS library compatible with RSC that’s leveraging the brand-new style hoisting and deduplication feature of React 19. Those new React primitives were also designed with CSS-in-JS libs in mind, and it’s great to see the community already leveraging them. It’s also interesting for distributing CSS as part of a React library npm package.
- 📦 [React Google Maps 1.0](https://mapsplatform.google.com/resources/blog/google-maps-platform-graduates-react-integration-library-to-1-0/): The official Google Maps library for React is now stable, maintained by the OpenJS Foundation.
- 📦 [Million Lint 1.0-rc](https://million.dev/blog/lint-rc): IDE extension that automatically finds and fixes performance issues for you. Unlike the React compiler, it is based on runtime analysis and can detect additional performance problems that the compiler can’t. Both can be used in tandem.
- 📦 [Zustand 5.0-beta - Upgrade guide available - drop deprecated features, upgrades React/TS](https://github.com/pmndrs/zustand/blob/v5/docs/guides/migrating-to-v5.mdx)
- 📦 [Storybook 8.1 - tag filtering, typesafe mocking, beforeEach, portable stories API](https://github.com/storybookjs/storybook/releases/tag/v8.1.0)
- 📦 [Storybook-Rsbuild - Storybook builder powered by Rsbuild](https://github.com/rspack-contrib/storybook-rsbuild)

<SubscribeFormEmbed placement="middle" />

---

## 💸 贊助商 {#sponsor2}

[![Next.js 使用 RSC 和 Server Actions 的身份驗證教學](/emails/issues/186/AuthKitNextjs.jpg)](https://www.youtube.com/watch?v=aoRG1q_kVo8)

**[Next.js 使用 RSC 和 Server Actions 的身份驗證教學](https://www.youtube.com/watch?v=aoRG1q_kVo8)**

由 WorkOS 和 Sam Selikoff 帶來的最新教學，展示了如何輕鬆地將 AuthKit 託管的登入框加入 Next.js 應用程式：

📚 Get started using the Authkit \<> Next.js [integration library](https://github.com/workos/authkit-nextjs)  
🤖 Set up environment variables, configure the callback route and middleware, and implement signIn and signOut functionalities  
⚙️ Protect routes in the Next.js app from unauthenticated users with the getUser function

AuthKit 可與 WorkOS 使用者管理功能一起使用，該功能支援多因素驗證（MFA）、身份連結、電子郵件驗證、使用者模擬等。

最棒的是，它**免費提供高達 1,000,000 的月活躍使用者（MAU）🚀**

---

## 📱 React-Native {#react-native}

本節由 [Benedikt](https://twitter.com/bndkt) 撰寫。

![](/emails/issues/186/ursc.jpg)

React Conf 已正式結束，希望您有機會觀看 YouTube 上那些精彩的演講錄影。我最大的後設收穫是會議中竟然有如此多的 React Native 內容！由於 React Native 的開發非常公開且與整個社群合作，因此沒有令人驚訝的「重大發布」，但它很好地總結了 React Native 的現狀以及未來的發展方向。對我來說最令人印象深刻且鼓舞人心的部分是 Evan Bacon 對通用 React 伺服器元件（Universal React Server Components）的願景，他使用了一個絕對震撼的演示來展示，我強烈建議您[親自觀看](https://www.youtube.com/watch?v=T8TZQ6k4SLE&t=20765s)。我已將我的主要收穫整理成以下幾點：

- React Native 蓬勃發展：目前每週下載量超過 200 萬次，2024 年至今已發布 30 個版本
- 新架構現已進入 Beta 階段
- Expo 現已被官方推薦用於所有新應用程式
- 新的 reactnative.dev 登陸頁面已發布
- React Conf 應用程式已開源
- Expo 對通用 RSC 的願景

---

- 💸 [PowerSync - Supabase \<> SQLite sync layer: follow our step-by-step video integration guide.](https://docs.powersync.com/integration-guides/supabase-+-powersync?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- 👀 [New React Native landing page](https://reactnative.dev/)
- 🐦 [New resources to get started with React Native and Expo](https://x.com/jonsamp/status/1791164393893609705): New landing page, new "Getting Started" docs, new Expo dev environment setup docs
- 🐦 [Interesting discussion on Apple's stance on server-driven UI in iOS apps](https://x.com/sregg/status/1791784335999160783): Will Universal RSC be a challenge in Apple’s App Store approval process?
- 🐦 [Potential ways to decrease Android bundle size](https://x.com/mironcatalin/status/1792485000559935571): Two settings can significantly decrease bundle size, but - as always - this comes with trade-offs.
- 🗓 [Chain React Conf](https://chainreactconf.com/?utm_source=thisweekinreact) - Portland, OR - July 17-19. The U.S. React Native Conference is back with engaging talks and hands-on workshops! Get 15% off your ticket with code “TWIR”
- 📜 [Debunk ideas on cross-platform framework](https://www.bam.tech/article/debunk-ideas-on-cross-platform-framework): Performance, Security, Accessibility, Stability, App Store acceptance, Native Features - all of these are sometimes mistakenly doubted when it comes to cross-platform apps.
- 📜 [Breaking down react-native-video 6.0.0 stable release - enhancements and comparisons](https://www.thewidlarzgroup.com/blog/breaking-down-react-native-video-6-0-0-stable-release-enhancements-and-comparisons)
- 📜 [Creating Custom Fonts with React-Native-Skia](https://gitstashapply.medium.com/creating-custom-fonts-with-react-native-skia-4851d8b14ddd)
- 📦 [Bootsplash v6 beta - Expo plugin, simpler setup](https://github.com/zoontek/react-native-bootsplash/pull/578): The React Conf app used it for splash screen!
- 📦 [React Conf app open-sourced](https://github.com/expo/react-conf-app): Already uses React Compiler ([Tweet](https://x.com/kadikraman/status/1791155001882275989))
- 🎙️ [RNR 297 - Jumping over the React Native v0.74 Bridge](https://reactnativeradio.com/episodes/rnr-297-jumping-over-the-react-native-v074-bridge)
- 🎥 [Supercharging your React Native app for Windows](https://www.youtube.com/watch?v=4sbAvwukSWM): React Native session at MS Build 2024

---

## 🔀 其他 {#other}

- 📜 [網頁新動態 - 12 項新 Baseline 功能](https://web.dev/blog/new-in-the-web-io2024)
- 📜 [JavaScript 框架新趨勢（2024 年 5 月）](https://developer.chrome.com/blog/frameworks-may-2024)
- 📜 [透過 Enhance SSR 實現可移植的伺服器渲染 Web Components](https://begin.com/blog/posts/2024-05-03-portable-ssr-components)
- 📜 [ECMAScript 2023 功能：Symbols 作為 WeakMap 鍵值](https://2ality.com/2024/05/proposal-symbols-as-weakmap-keys.html)
- 📦 [SolidStart 1.0 - 未來框架雛形](https://www.solidjs.com/blog/solid-start-the-shape-frameworks-to-come)
- 📦 [Graphql-query - 基於 Rust 的 8.7 倍速 GraphQL 查詢解析器](https://stellate.co/blog/graphql-query-parsing-8x-faster-with-rust)
- 📦 [Node 22.2](https://nodejs.org/en/blog/release/v22.2.0)

---

## 🤭 趣聞 {#fun}

[![alt](/emails/issues/186/meme.jpg)](https://x.com/rauchg/status/1791163745307328650)

[![替代文字](/emails/issues/186/meme2.jpg)](https://x.com/sebastienlorber/status/1790796662153117863)

（好吧，React Compiler 那個迷因在技術上並不準確，但還是很有趣 😇 對不起 Compiler 團隊）

再見！ 👋