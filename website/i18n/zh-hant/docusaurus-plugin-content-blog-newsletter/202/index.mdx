---
slug: /202
title: "This Week In React #202: Next.js, Composition, search params, PPR, useActionState, content-visibility, Astro, MDX, Storybook, Priompt, Radon, Expo, MiniSim, CSS, Bun, Deno, Node.js..."
authors: [slorber]
date: 09-25-2024
---

å¤§å®¶å¥½ï¼

æœ¬é€± React/RN ç›¸é—œå…¬å‘Šç›¸å°å¹³éœï¼Œä½†æˆ‘å€‘ä»æœ‰è¨±å¤šå„ªè³ªçš„éƒ¨è½æ ¼æ–‡ç« ä»¥åŠå„ç¨®æœ‰è¶£çš„ Next.js å’Œ CSS æ–°èã€‚

<!-- truncate -->

**ğŸ’¡ [åœ¨ Twitter ä¸ŠæŸ¥çœ‹æœ¬é›»å­å ±](https://slo.im/thread) - è¦–è¦ºåŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor1}

[![AG Gridï¼šå…¨çƒæœ€å‡ºè‰²çš„ React æ•¸æ“šè¡¨æ ¼](/emails/issues/202/aggrid.jpg)](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)

**[AG Gridï¼šå…¨çƒæœ€å‡ºè‰²çš„ React æ•¸æ“šè¡¨æ ¼](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)**

AG Grid æ˜¯ä¸€æ¬¾å¿«é€Ÿã€å…è²»ä¸”å®Œå…¨å¯è‡ªè¨‚çš„ React æ•¸æ“šè¡¨æ ¼ã€‚è¢«ã€Šè²¡å¯Œã€‹500 å¼·ä¼æ¥­ä¸­çš„ **90%** æ‰€æ¡ç”¨ï¼ŒAG Grid æ˜¯ **100% é–‹æº**å°ˆæ¡ˆï¼Œæ¯æœˆ **npm ä¸‹è¼‰é‡è¶…é 400 è¬æ¬¡**ï¼š

- ğŸ†“ **å…è²»**ï¼šæ°¸ä¹…å…è²»ä½¿ç”¨æ•¸ç™¾ç¨®åŠŸèƒ½ï¼ŒåŒ…æ‹¬**æ’åº**ã€**ç¯©é¸**ã€**åˆ†é **ã€**å–®å…ƒæ ¼ç·¨è¼¯**ç­‰ã€‚
- **ğŸš€ å¿«é€Ÿ**ï¼šé–‹ç®±å³ç”¨å³å¯é¡¯ç¤º**æ•¸ç™¾è¬å€‹å–®å…ƒæ ¼**ï¼Œä¸”ä¸å½±éŸ¿æ•ˆèƒ½ã€‚
- **ğŸ¨ å¯è‡ªè¨‚**ï¼šåœ¨å–®å…ƒæ ¼ã€è¡Œå’Œåˆ—ä¸­æ·»åŠ è‡ªè¨‚å…ƒä»¶ï¼Œä¸¦ä½¿ç”¨ **100 å¤šå€‹ CSS è®Šæ•¸**ä¾†è¨­è¨ˆæ¯å€‹å…ƒç´ çš„æ¨£å¼ã€‚
- ğŸ¢ **ä¼æ¥­ç´šåŠŸèƒ½**ï¼šè³¼è²·æˆæ¬Šå³å¯çµ‚èº«ä½¿ç”¨é€²éšåŠŸèƒ½ï¼ŒåŒ…æ‹¬**é€è¦–è¡¨**ã€**åˆ†çµ„**ã€**ä¸»å¾è¦–åœ–**å’Œ**æ•´åˆå¼åœ–è¡¨**ï¼ˆç”±æˆ‘å€‘çš„ React åœ–è¡¨åº« [AG Charts](https://www.ag-grid.com/charts?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1) æä¾›æ”¯æ´ï¼‰ã€‚å…è²»è©¦ç”¨ - ç„¡éœ€è©¦ç”¨æˆæ¬Šã€‚

äº†è§£æ›´å¤šï¼š[ag-grid.com](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)

---

## âš›ï¸ React {#react}

[![æˆ‘å¦‚ä½•æ‰“é€ æˆ‘çš„éƒ¨è½æ ¼](/emails/issues/202/josh.jpg)](https://www.joshwcomeau.com/blog/how-i-built-my-blog-v2/)

**[æˆ‘å¦‚ä½•æ‰“é€ æˆ‘çš„éƒ¨è½æ ¼](https://www.joshwcomeau.com/blog/how-i-built-my-blog-v2/)**

Josh Comeau åˆ†äº«äº†å°‡ä¸€å€‹é€²éšéƒ¨è½æ ¼ï¼ˆ10 è¬è¡Œç¨‹å¼ç¢¼ï¼‰å¾ Next.js Pages Router é·ç§»åˆ° App Router çš„ç¶“é©—ï¼Œä¸¦çµ¦å‡ºäº†å¯©æ…çš„è©•åƒ¹ï¼ˆLighthouse åˆ†æ•¸ä¸‹é™ã€é–‹ç™¼ä¼ºæœå™¨è®Šæ…¢ç­‰ï¼‰ã€‚é€™æ˜¯ä¸€ç¯‡æ•´é«”ä¸Šå¼•äººå…¥å‹çš„ React ç›¸é—œè®€ç‰©ï¼Œæ¡ç”¨ç•¶ä¸‹æµè¡Œçš„å‘ˆç¾æ–¹å¼ã€å…·æœ‰äº’å‹•æ€§ï¼Œä¸”ä¸é™æ–¼ Next.js ä½¿ç”¨è€…ã€‚å…§å®¹æ¶µè“‹å¤šå€‹ä¾è³´é …çš„ç´°ç¯€ï¼šMDXã€Shikiã€Linariaã€Framer-Motion...

---

[![å…ƒä»¶çµ„åˆéå¸¸æ£’](/emails/issues/202/composition.jpg)](https://tkdodo.eu/blog/component-composition-is-great-btw)

**[å…ƒä»¶çµ„åˆéå¸¸æ£’](https://tkdodo.eu/blog/component-composition-is-great-btw)**

Dominik è§£é‡‹äº† React å¦‚ä½•é‡æ–°å®šç¾©ã€Œé—œæ³¨é»åˆ†é›¢ã€çš„æ¦‚å¿µï¼Œä»¥åŠç‚ºä½•æ‡‰å„ªå…ˆé¸æ“‡çµ„åˆèˆ‡æå‰è¿”å›ï¼Œè€Œéæ ¹æ“šæ¢ä»¶æ¸²æŸ“å¤šç¨®ç‹€æ…‹ã€‚æˆ‘ä¹Ÿæœ‰ç›¸åŒç¶“é©—ï¼šæ¡ç”¨é€™ç¨®æ–¹å¼å…ƒä»¶æ›´æœ‰å¯èƒ½é•·æœŸä¿æŒå¯ç¶­è­·æ€§ã€‚

---

- ğŸ’¸ [React Component Analytics â€” Omlet Scans Your Codebase to Measure Component Usage to Increase Code Quality and Design Systems Adoption](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-aug-2024)
- ğŸ‘€ [Next.js PR \- `@next/codemod upgrade` CLI](https://github.com/vercel/next.js/pull/69935): Next.js 15 will have a CLI to automatically upgrade your dependencies to the latest stable, RC, or canary, with the ability to run the appropriate breaking change codemods.
- ğŸ‘€ [Next.js PR \- Update Dynamic APIs to be async](https://github.com/vercel/next.js/pull/68812): APIs like `cookies()`, `headers()`, `params` are going async in Next.js 15\. The PR is still WIP but [codemods have already been merged](https://github.com/vercel/next.js/pull/69572). The breaking change is not so well-received by the community but opens the way to upcoming innovations for the Next.js team.
- ğŸ” [Next.js Cache Poisoning vulnerability](https://github.com/advisories/GHSA-gp8f-8m3g-qvj9): Only affects Page Router non-dynamic routes, fixed in 13.5.7 and 14.2.9
- ğŸ§‘â€ğŸ“ [Vim for React Developers](https://vimforreactdevs.com/): Free pragmatic mini-course from Lee Robinson.
- ğŸ§‘â€ğŸ“ [EpicReact v2 \- React 19 update](https://www.epicreact.dev/): Kent C. Dodds released a new version of his flagship React course (paid, currently 40% off).
- ğŸ—“ï¸ [React Summit US](https://reactsummit.us/?utm_source=Newsletter&utm_medium=thisweekinreact) - ğŸ‡ºğŸ‡¸ New-York - 19 & 22 December - [Free remote tickets are available now, click here !](https://gitnation.com/badges/react-summit-us-2024/addy_osmani?from=This+Week+In+React) 10% discount with code TWIR.
- ğŸ—“ï¸ [React Advanced London](https://reactadvanced.com/?utm_source=Newsletter&utm_medium=thisweekinreact) - ğŸ‡¬ğŸ‡§ London - 25 & 28 October - Hurry and grab your ticket to the conference as prices are about to go up ! And fonâ€™t forget your discount with code â€œTWIRâ€.
- ğŸ“œ [How to control a React component with the URL](https://buildui.com/posts/how-to-control-a-react-component-with-the-url): This cool interactive blog post greatly illustrates a common antipattern among React devs using search parameters. You should consider the URL as the source of truth, instead of trying to sync your state to the URL.
- ğŸ“œ [Partial Prerendering for Everyone with Cloudflare Workers](https://sunilpai.dev/posts/ppr-for-everyone/): Former React team member Sunil Pai shared a demo of implementing PPR from scratch outside of Next.js, using React `prerender()`, `postpone()` and `resumeToPipeableStream()`. These are very experimental APIs that may change, donâ€™t do this at home and only use this for learning/curiosity.
- ğŸ“œ [CSS `content-visibility` for React devs](https://dev.to/sebastienlorber/css-content-visibility-for-react-devs-4a3i): I aggregated a few interesting tweets/links explaining why React devs should care about this new CSS property that can improve your app rendering performance. Itâ€™s now in all browsers and although not widely supported, can be a progressive enhancement. You could use it as a replacement or alongside a React virtualization library to improve performance and accessibility.
- ğŸ“œ [HTMX Essay \- You Can't Build Interactive Web Apps Except as Single Page Applications... And Other Myths](https://htmx.org/essays/you-cant/): An interesting read debunking myths and explaining whatâ€™s possible to do without an SPA framework like React. The gap between MPAs and SPAs is getting thinner thanks to modern technologies: Service Workers, View Transitions, Speculation Rulesâ€¦
- ğŸ“œ [How to fetch data in React](https://www.robinwieruch.de/react-fetching-data/): Robin Wieruch refreshed his data fetching overview post listing modern 2024 practices using React Query, useEffect, use(), RSC, and tRPC.
- ğŸ“œ [Efficient Refresh Token Implementation with React Query and Axios](https://dev.to/elmehdiamlou/efficient-refresh-token-implementation-with-react-query-and-axios-f8d): Uses Axios interceptors to automatically add an `Authorization` header and React Query `onError` callback to refresh expired tokens and retry the query/mutation.
- ğŸ“œ [How to reset the state of useActionState in React](https://www.nico.fyi/blog/reset-state-from-react-useactionstate): Resetting the action state is surprisingly tricky.
- ğŸ“œ [From Parcel to Vite: A short story of a 100K LOC migration](https://blog.logto.io/parcel-to-vite): Logto migrated a React frontend to Vite and shared integration details on various React-related features: MDX, SVGR, `React.lazy`, Fast Refreshâ€¦
- ğŸ“œ [Astro Content Layer \- A Deep Dive](https://astro.build/blog/content-layer-deep-dive/)
- ğŸ“¦ [Storybook 8.3](https://storybook.js.org/blog/storybook-8-3/): Includes a first-class Vitest integration that makes Component Testing x6 faster, and a better integration with Next.js projects.
- ğŸ“¦ [Priompt \- JSX-based prompt design library](https://www.cursor.com/blog/prompt-design): I missed that AI prompting library released last year by a Cursor dev.
- ğŸ“¦ [next-view-transitions 0.3.2 \- useTransitionRouter API](https://x.com/shuding_/status/1838000183356850240)
- ğŸ“¦ [Legend-State 3.0 beta \- Signal-based state library \- Improves on computed observables, persistence, sync](https://www.legendapp.com/open-source/state/v3/)
- ğŸ“¦ [Vaultusaurus \- Tools to integrate an Obsidian Vault with a Docusaurus site, including a graph view](https://github.com/chanjunren/vaultusaurus)
- ğŸ¥ [Jack Herrington \- I hacked ShadCN to Create Insane React Templates and Installers](https://www.youtube.com/watch?v=NP2ULDZxpd0): The CLI can be hijacked by writing/generating your own JSON update files.
- ğŸ¥ [Theo \- The React "head" Dramaâ€¦](https://www.youtube.com/watch?v=qmM91SnSw8w): React 19 wonâ€™t deduplicate `<title>` tags for you and you still may want to use a lib like React Helmet.
- ğŸ¥ [ThePrimeTime \- Remix's Concurrent Submissions Are Fundamentally Flawed](https://www.youtube.com/watch?v=Tvms2DaG8UY)
- ğŸ™ï¸ [Frontend First 196 \- Tom Occhino on the future of React](https://www.youtube.com/watch?v=ktO2OqwvgEs): A look back at the many years of innovation at Facebook that led to the creation of RSC and Partial Prerendering as a North Star. From BigPipe to GraphQL/Relay to RSC.
- ğŸ™ï¸ [PodRocket \- TanStack and TanRouter with Tanner Linsley](https://podrocket.logrocket.com/tanstack-tanrouter-tanner-linsley)
- ğŸ™ï¸ [Syntax.fm 824 \- Taylor Otwell's opinions on PHP, React, Laravel and Lamborghini Memes](https://syntax.fm/show/824/taylor-otwell-s-opinions-on-php-react-laravel-and-lamborghini-memes)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ è´ŠåŠ©å•† {#sponsor2}

[![æº–å‚™å¥½è‡ªå‹•åŒ–æ‚¨çš„è³‡æ–™æ“·å–äº†å—ï¼Ÿ](/emails/issues/202/apryse.jpg)](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)

**[æº–å‚™å¥½è‡ªå‹•åŒ–æ‚¨çš„è³‡æ–™æ“·å–äº†å—ï¼Ÿ](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)**

Apryse IDP ç°¡åŒ–äº†å¾ PDF æ–‡ä»¶ä¸­æ“·å–è³‡æ–™çš„æµç¨‹ã€‚å®ƒèƒ½ä»¥é«˜æº–ç¢ºåº¦å’Œæœ€å°è¨­å®šï¼Œè¼•é¬†å¾è²¡å‹™å ±å‘Šæˆ–ç—…æ­·ç´€éŒ„ä¸­æå–ç´°ç¯€ã€‚æˆ‘å€‘çš„ AI èƒ½å¾å„ç¨®æ–‡ä»¶æ“·å–æ–‡å­—ã€è¡¨æ ¼å’Œè¡¨å–®ï¼Œæ¸›å°‘æ‰‹å‹•å·¥ä½œé‡ä¸¦æå‡è³‡æ–™å“è³ªã€‚

[ç«‹å³é–‹å§‹ä½¿ç”¨ã€‚](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)

---

## ğŸ“± React-Native {#react-native}

- ğŸ’¸ [Sonny Sangha - ä½¿ç”¨ React Native å»ºç«‹ Zoom 2.0 è¤‡è£½å“](https://go.clerk.com/jBpMIuk)
- ğŸ¦ [React-Native-WebGPU åœ¨ macOS ä¸Šçš„ç¤ºç¯„](https://x.com/SaadNajmi/status/1838295375700201720)
- ğŸ¦ [Tzvetan Mikov è«‡ç‚º Hermes å¢åŠ  Wasm æ”¯æ´çš„å¯¦ç”¨æ€§](https://x.com/tmikov/status/1837600409386734037)
- ğŸ“Š [React Native æ•ˆèƒ½è©•æ¸¬](https://dream-sports-labs.github.io/rn-benchmarking/)ï¼šé€™å€‹æœ‰è¶£çš„ç¶²ç«™è®“æˆ‘å€‘å¯ä»¥æ ¹æ“šç‰ˆæœ¬ã€æ¶æ§‹å’Œå¹³å°ï¼ˆiOS/Androidï¼‰ä¾†æ¯”è¼ƒ React Native çš„æ•ˆèƒ½
- ğŸ—“ï¸ [RNLConf](https://www.reactnativelondon.co.uk/?utm_source=thisweekinreact) \- ğŸ‡¬ğŸ‡§ å€«æ•¦ - 11 æœˆ 14 æ—¥è‡³ 15 æ—¥ - ä½¿ç”¨ä»£ç¢¼ "TWIR" å¯äº« 9 æŠ˜å„ªæƒ ï¼Œç«‹å³è³¼ç¥¨ï¼
- ğŸ“œ [React Native IDE ç¾å·²æ›´åç‚º Radon IDE](https://blog.swmansion.com/react-native-ide-is-now-radon-ide-cfbdad77d43c)ï¼šTL;DR é€™åªæ˜¯å‡ºæ–¼å¯¦éš›åŸå› çš„æ›´åã€‚ä½†ä»ç„¶å€¼å¾—ä¸€è®€ä»–å€‘é¸æ“‡é€™å€‹åå­—çš„åŸå› ï¼ˆæç¤ºï¼šåŸå­ã€é‡™ï¼‰
- ğŸ“œ [å¦‚ä½•åœ¨ React Native ä¸­ç›£è½æœªæ•ç²/æœªè™•ç†çš„éŒ¯èª¤](https://andrei-calazans.com/posts/how-to-global-catch-errors/)ï¼šä½¿ç”¨ `globalThis.ErrorUtils.setGlobalHandler()`
- ğŸ“œ [å¦‚ä½•é€æ­¥æ¡ç”¨ Expo](https://expo.dev/blog/how-to-incrementally-adopt-expo)
- ğŸ“¦ [MiniSim 0.9 - å¯¦é«”è£ç½®æ”¯æ´](https://github.com/okwasniewski/MiniSim/releases/tag/v0.9.0)
- ğŸ“¦ [React Native 0.76.0-rc.2](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.2)
- ğŸ¥ [Simon Grimm - ç‚ºä»€éº¼ React Native 3D ä¸å†ç³Ÿç³•](https://www.youtube.com/watch?v=msErROjFY08)
- ğŸ™ï¸ [React Universe On Air - Coffee Talk 21 - å¦‚ä½•åœ¨ React ä¸­é–‹å§‹ä½¿ç”¨ 3D](https://www.youtube.com/watch?v=Olh_sE0BL1s)
- ğŸ™ï¸ [Rocket Ship 50 - æ–°æ¶æ§‹ã€JSIã€åŸç”Ÿæ¨¡çµ„èˆ‡ Rustï¼Œèˆ‡ Oscar Franco ä¸€èµ·](https://share.transistor.fm/s/01c99662)
- ğŸ™ï¸ [RNR 308 - ç·¨ç¨‹èˆ‡ ADHDï¼Œèˆ‡ Chris Ferdinandi ä¸€èµ·](https://www.reactnativeradio.com/episodes/rnr-308-coding-and-adhd-with-chris-ferdinandi)

---

## ğŸ”€ å…¶ä»– {#other}

- ğŸ‘€ [CSS æ•¸å€¼èˆ‡å–®ä½ç­‰ç´š 5 - é¦–æ¬¡å…¬é–‹å·¥ä½œè‰æ¡ˆ](https://www.w3.org/blog/CSS/2024/09/13/css-values-5-fpwd/)
- ğŸ‘€ [CSS ç¶²æ ¼ç­‰ç´š 3 / ç£šçŸ³ä½ˆå±€ - é¦–æ¬¡å…¬é–‹å·¥ä½œè‰æ¡ˆ](https://www.w3.org/blog/CSS/2024/09/24/css-grid-3-fpwd/)
- ğŸ¦ [Web Preference API ä¸Šæº¯è‡³ CSS åª’é«”æŸ¥è©¢è‰æ¡ˆè¦ç¯„](https://x.com/sebastienlorber/status/1836698597548593350)
- ğŸ“œ [ä¼æ¥­ç’°å¢ƒä¸­æ­£ç¢ºå¯¦è¸ Node.js çš„ 9 é …åŸå‰‡](https://www.platformatichq.com/node-principles)
- ğŸ“œ [åœ¨ CSS ä¸­å¯¦ç¾ height: auto;ï¼ˆåŠå…¶ä»–å›ºæœ‰å°ºå¯¸é—œéµå­—ï¼‰çš„å‹•ç•«æ•ˆæœ](https://developer.chrome.com/docs/css-ui/animate-to-height-auto/)
- ğŸ“œ [ç‚ºä½•é¡å‹åŒ– Linting å¦‚ä»Šéœ€è¦ TypeScript](https://www.joshuakgoldberg.com/blog/why-typed-linting-needs-typescript-today/)
- ğŸ“¦ [Bun 1.1.28 - åœ¨ JavaScript ä¸­ç·¨è­¯åŸ·è¡Œ C èªè¨€ï¼Œä¿®å¾© React 19 SSR](https://bun.sh/blog/compile-and-run-c-in-js)
- ğŸ“¦ [ts-blank-space - å°‡ TypeScript è½‰æ›ç‚º JavaScript çš„å¿«é€Ÿé¡å‹å‰é›¢ç·¨è­¯å™¨](https://bloomberg.github.io/ts-blank-space/)
- ğŸ“¦ [Deno 2.0 å€™é¸ç‰ˆæœ¬](https://deno.com/blog/v2.0-release-candidate)
- ğŸ“¦ [Module Federation Vite 1.0](https://www.learnbydo.ing/diary/2024-09-23-module-federation-vite-v1)

---

## ğŸ¤­ è¶£å‘³ {#fun}

[![alt](/emails/issues/202/meme.jpg)](https://x.com/Nateemerson/status/1836537823027134744)

[![alt](/emails/issues/202/meme2.jpg)](https://x.com/laszek44/status/1832024709887631384)

[![alt](/emails/issues/202/meme3.jpg)](https://x.com/jarredsumner/status/1836438965664256399)

ä¸‹æ¬¡è¦‹ï¼ ğŸ‘‹