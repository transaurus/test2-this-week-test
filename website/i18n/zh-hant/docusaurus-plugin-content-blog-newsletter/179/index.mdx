---
slug: /179
title: "This Week In React #179: useActionState, Redwood, Waku, Astro, Pre-rendering, Bun, Kotekan, memo, Radix, shadcn/ui, React-Navigation, RN-Screens, CodePush, VisionOS, TypeScript, Node.js..."
authors: [slorber, bndkt]
date: 03-27-2024
---

大家好！

又是充滿趣聞的一週！我發現許多連結，並為下週保留了一些，由於復活節週一，下週應該較為平靜。

看到 Waku 和 Redwood 成為更強大的元框架，以及在 Bun 上建立的創新實驗（如 Kotekan 和預渲染巨集），令人振奮。

React Native 也有重要更新，特別是 React Navigation v7 搶先看，以及 React Native Screen 的優化升級。

我上週參加了 [React.paris](https://react.paris/)。這是一場非常棒的研討會，很高興見到你們中的一些人！巴黎終於重回 React 研討會行列真是太好了。

派對還沒結束，因為下個月巴黎還有 [React Connection](https://reactconnection.io/) 和 [React Native Connection](https://reactnativeconnection.io/)，時間是 4 月 22-23 日！本通訊再次成為研討會媒體夥伴。您可使用代碼 "TWIR" 獲得 [-20% 折扣](https://www.billetweb.fr/react-connection-2024?discount=TWIR)，我們將於本週五在 Twitter 上舉辦門票贈送活動。

<!-- truncate -->

**💡 [在 Twitter 上查看本通訊](https://slo.im/thread) - 視覺化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助商 {#sponsor1}

[![React-admin：專為 B2B 應用打造的開源框架](/emails/issues/179/reactadmin.jpg)](https://marmelab.com/react-admin/)

**[React-admin：專為 B2B 應用打造的開源框架](https://marmelab.com/react-admin/)**

擁有 23k stars 和 50 萬日活用戶，react-admin 是單頁應用（ERP、管理後台、B2B 應用）的首選框架。相容 Vite、Next 和 Remix，它基於廣受好評的函式庫（如 react-hook-form、react-query、react-router 和 material-ui）打造，加速您的開發進程。

🌟 核心特點包括：

- 🔌 後端無關：可連接任何 REST 或 GraphQL API
- 🧩 豐富的函式庫：提供 200+ 應用建構區塊
- 🛠 完整自訂化：可替換任何組件為自訂版本
- 💻 卓越的開發者體驗
- 👑 出色的用戶體驗

立即[加入 React-admin 社群](https://discord.gg/tKyDzXHJ7f)，親身體驗為何它成為全球數千開發者的首選框架！[立即試用](https://marmelab.com/react-admin/Tutorial.html)，永久免費！😉

---

## ⚛️ React {#react}

[![RedwoodJS 現已支援 React 伺服器組件](/emails/issues/179/redwood.jpg)](https://redwoodjs.com/blog/rsc-now-in-redwoodjs)

[**RedwoodJS 現已支援 React 伺服器組件**](https://redwoodjs.com/blog/rsc-now-in-redwoodjs)

Bighorn（Redwood v8.0 開始的下個「紀元」）將全面投入 React 伺服器組件（RSC）。本文解釋為何 Redwood 現在更傾向 RSC 而非 GraphQL，因為對多數開發者和專案而言，GraphQL 的開發體驗並非最佳起點。GraphQL 仍將持續支援，並可與 RSC 在同一應用中並用。Redwood Cells 現在允許導出新的 "data" 函數來載入 Cell 資料。

您現在可以試用 Redwood Bighorn 作為 v8 canary 版本，但部落格文章中提到的許多粗糙邊緣仍需修復，團隊會在正式主要版本發布前解決這些問題。另有一篇值得閱讀的文章[比較 Redwood 路由慣例與 Next.js 和 Remix 的差異](https://redwoodjs.com/blog/whats-different-comparing-the-router-in-nextjs-app-api-nextjs-pages-api-remix-and-redwoodjs)。

---

- 💸 [React Universe Conf - We care about a diverse lineup, so we prolong our CFP until April 5. We encourage all women in tech to submit talks!](https://www.reactuniverseconf.com/?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- 👀 [React Core PR - useActionState](https://github.com/facebook/react/pull/28491): The PR is now merged and has been added to the [canary changelog](https://github.com/facebook/react/blob/main/CHANGELOG-canary.md).
- 💬 [Astro proposal - Form actions](https://github.com/withastro/roadmap/discussions/871): Astro is exploring options for form submissions and mutations to feed their new Astro DB product, taking into consideration React 19 islands using useActionState() and useFormStatus().
- 🐦 [Sebastian Silbermann (React core team) joins Vercel](https://twitter.com/sebsilbermann/status/1772229730747490691)
- 📖 [Remix new docs - CSS files](https://remix.run/docs/en/main/guides/css-files)
- 📜 [Power of Partial Prerendering with Bun](https://aralroca.com/blog/partial-prerendering): An interesting idea, using import attributes to pre-render React components thanks to a Bun macro.
- 📜 [A faster React.memo()](https://romgrk.com/posts/react-fast-memo/): Argues that React is using a generic shallowCompare function for React.memo() that could be greatly optimized by using a specialized comparison function that assumes the things to compare are React props.
- 📜 [What is a layout in React?](https://www.ericburel.tech/blog/what-layout-means-in-react): A good overview presenting how layouts are implemented differently in Remix, Next.js, or Astro.
- 📜 [Diving into the Node.js Website Redesign](https://nodejs.org/en/blog/announcements/diving-into-the-nodejs-website-redesign): Node.js just launched a new Next.js website and shares behind-the-scenes details. They considered Nextra but settled on a custom Next.js setup. The site is statically built, using ISR for dynamic content.
- 📜 [This Pattern Will Wreck Your React App's TS Performance](https://www.totaltypescript.com/react-apps-ts-performance): Matt recommends using “interface extends” instead of “&”, drawing on the story of a Sentry TS perf issue.
- 📜 [Utilizing useOptimistic() across the component tree in Next.js](https://aurorascharff.no/posts/utilizing-useoptimistic-across-the-component-tree-in-nextjs/): Explains why and how to share the useOptimistic value through a React context.
- 📜 [Why I Like React (even in 2024)](https://ejosh.co/de/2024/03/why-i-like-react-even-in-2024/)
- 📜 [Building a «hold to confirm» button with Framer Motion](https://sinja.io/blog/hold-to-confirm-button-react-framer-motion)
- 📜 [React useEffect and objects as dependency - 4 approaches to avoid unnecessary re-renders](https://profy.dev/article/react-useeffect-with-object-dependency)
- 📜 [React-Three-Fiber - Moebius-style post-processing and other stylized shaders](https://blog.maximeheckel.com/posts/moebius-style-post-processing/)
- 📜 [How to Build Your Own ChatGPT Clone Using Clerk & AWS Bedrock](https://conermurphy.com/blog/how-to-build-your-own-chatgpt-clone-using-clerk-aws-bedrock)
- 📜 [Exploring useSyncExternalStore, a lesser-known React Hook](https://blog.logrocket.com/exploring-usesyncexternalstore-react-hook/)
- 📜 [Remix Case Study - Shopify rebuilding Shop with Remix](https://remix.run/blog/shop-case-study)
- 📦 [Waku 0.20 - Introducing “pages router”](https://waku.gg/blog/introducing-pages-router): Waku continues to push toward becoming a first-class React meta-framework. The latest release adds a lightweight file-based router and the introduction article presents its conventions. You can choose between static or dynamic rendering on a per-page basis.
- 📦 [Kotekan - A simple React framework built on Bun, supporting React Server Components](https://kotekan.dev/blog/introducing-kotekan): My co-author Benedikt created his own experimental meta-framework, supporting React Server Components. Unlike other frameworks trying to stay decoupled from a specific runtime, Kotekan leverages tight coupling with Bun for both bundling and runtime. It looks like other interesting things are not mentioned in the intro post, notably a mobile app demo using react-strict-dom and StyleX. That’s impressive that the website is already built with it.
- 📦 [Radix Themes 3.0](https://www.radix-ui.com/blog/themes-3): This new version adds custom color palettes, many new components, and a new layout engine.
- 📦 [shadcn/ui update - Blocks](https://ui.shadcn.com/docs/changelog): Fully responsive, accessible, and composable ready-made components, starting with dashboard layouts and authentication pages.
- 📦 [@vite-pwa/remix - Zero-config PWA Plugin for Remix](https://github.com/vite-pwa/remix)
- 📦 [Remotion 4.0.130 - Lambda renders are now faster](https://www.remotion.dev/blog/faster-lambda)
- 🎥 [Jack Herrington - Finally Fix Your Issues With JS/React Memory Leaks](https://www.youtube.com/watch?v=qERgb3pWfu0)
- 🎥 [UI Engineering - Senior-Level Understanding of React Portals](https://www.youtube.com/watch?v=5F7GrlIPdJ4)
- 🎥 [Theo - The End Of React Router](https://www.youtube.com/watch?v=nZKlPtQqqgQ)
- 🎥 [James Quick - I Didn't Know Next.js Server Actions Could Do This (usage outside forms)](https://www.youtube.com/watch?v=ZZCXnNAOqqU)

<SubscribeFormEmbed placement="middle" />

---

## 💸 贊助商 {#sponsor2}

[![專為企業客戶打造的一站式身分驗證平台](/emails/issues/179/workos.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q12024)

**[專為企業客戶打造的一站式身分驗證平台](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q12024)**

WorkOS 是專為 B2B SaaS 打造的現代化身分平台。

⚡ 採用 Radix 元件的開源登入介面，提供您所需的所有自訂能力

⚙️ 支援更複雜的功能，例如單一登入（SSO）和 SCIM 配置

⌨️ 靈活易用的 API，幫助 Vercel、Loom 和 Webflow 等企業在幾分鐘內實現企業級驗證

💰 用戶管理功能在每月百萬活躍用戶內完全免費

[立即開始使用 WorkOS ↗️](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q12024)

---

## 📱 React-Native {#react-native}

本節現由 [Benedikt](https://twitter.com/bndkt) 共同撰寫。歡迎透過電子郵件或 [Twitter](https://twitter.com/bndkt) 提供意見！

[![React Navigation - 靜態 API 介紹](/emails/issues/179/rnav.jpg)](https://reactnavigation.org/blog/2024/03/25/introducing-static-api)

[**React Navigation - 靜態 API 介紹**](https://reactnavigation.org/blog/2024/03/25/introducing-static-api)

React Navigation 無疑是 React Native 生態中最重要且廣泛使用的函式庫之一。現行主要版本（v6）約於三年前推出，如今我們似乎正迎向下一個主要版本。v7（目前處於 alpha 階段）重新引入靜態 API，允許透過物件配置定義畫面。這實現了類型推論（若您曾為動態 React Navigation 樹建立類型，便知此功能可大幅減輕負擔），並簡化了深度連結配置（甚至可部分自動化）。

若想了解其他即將到來的變更，請務必閱讀 [v7 升級指南](https://reactnavigation.org/docs/7.x/upgrading-from-6.x/)！

---

- 💸 [Omlet - 在生產環境中測量 React Native 元件使用情況。追蹤採用率並在 5 分鐘內取得程式庫改進數據](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-rn-mar-2024)
- 🐦 [在 visionOS 上展示的 React Native 伺服器元件](https://twitter.com/SzymonRybczak/status/1772987077488935208)
- 📜 [使用 React Native visionOS 建構多視窗應用程式](https://www.oskarkwasniewski.dev/blog/react-native-visionos-multi-window-apps)：學習如何在 visionOS 應用程式中啟用多視窗，以及如何在視窗間共享 React 狀態。
- 📜 [Expo - 如何替換 App Center 和 CodePush](https://expo.dev/blog/how-to-replace-app-center-and-codepush)：如上周報導，CodePush 將於 2025 年 3 月 31 日停止服務。
- 📜 兩項 Expo 案例研究：[使用此 Expo 應用贏得三月瘋狂對戰表](https://expo.dev/blog/march-madness-expo-app) 和 [incident.io 利用原生模組與 CNG 的強大功能](https://expo.dev/blog/incident-io-harnesses-the-power-of-native-modules-and-cng)
- 📜 [重新思考佈局實踐 - 奠定良好佈局基礎的極簡 Stack 元件](https://www.reactnative.university/blog/rethinking-layout-practices)：有趣觀點：避免在 Text 或 View 元件使用 padding/margin 佈局，改採用 Stack 元件（如 Tamagui 的做法）。
- 📜 [優化 React Native 應用的 JavaScript Bundle](https://www.callstack.com/blog/optimize-react-native-apps-javascript-bundle)：標題未明說，但這是對 RN 替代打包工具的有趣概述，可惜目前相比 Metro 仍有明顯取捨。
- 📜 [如何透過 AWS Amplify 與 React Native 實現社交驗證？](https://scientyficworld.org/social-auth-with-aws-amplify-and-react-native/)
- 📜 [使用行動專用函式庫優化 React Native 應用的電池消耗](https://www.callstack.com/blog/optimize-battery-drain-in-react-native-apps)
- 📜 [高階元件如何提升 React Native 應用效能？](https://www.callstack.com/blog/improve-react-native-performance-with-higher-ordered-components)
- 📦 [@dev-plugins/redux](https://www.npmjs.com/package/@dev-plugins/redux)：Expo 開發工具外掛，用於除錯 Redux 儲存庫。
- 📦 [react-native-screens 3.30.0](https://github.com/software-mansion/react-native-screens/releases/tag/3.30.0)：新增「返回」手勢並支援 visionOS
- 📦 [react-native 0.74.0-rc.5](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.5)
- 🎙️ [RNR 292 - RNR 解說：Metro 打包工具](https://reactnativeradio.com/episodes/rnr-292-rnr-explains-metro-bundler)
- 🎥 [Theo - 全新 React Native 架構](https://www.youtube.com/watch?v=BdPkVl4Y8TQ)
- 🎥 [Rocket Ship 35 - 與 William Candillon 探索 React Native Skia](https://share.transistor.fm/s/15269c3f)
- 🎥 [Simon：使用 React Native 建構金融科技複製應用（API 路由、Zustand、Tanstack Query、FaceID、圖表、Clerk）](https://www.youtube.com/watch?v=iDZBeIgcixk)：通常我們精選簡短有價值的影片節省時間。本片長達 5.5 小時(!)，但若想觀察頂尖 RN 應用從零建構的全過程，強烈推薦。

---

## 🔀 其他資源 {#other}

- 📜 [TypeScript 流程節點 - 型別推論的實作方式](https://effectivetypescript.com/2024/03/24/flownodes/)
- 📜 [優化 JavaScript 的樂趣與效益](https://romgrk.com/posts/optimizing-javascript/)
- 📜 [為什麼 TypeScript 不包含 throws 關鍵字](https://www.learningtypescript.com/articles/why-typescript-doesnt-include-a-throws-keyword)
- 📜 [JavaScript 視覺化 - Promise 執行過程](https://www.lydiahallie.com/blog/promise-execution)
- 📜 [Astro - 將 500+ 測試從 Mocha 遷移至 Node.js](https://astro.build/blog/node-test-migration/)
- 📜 [Kuto：逆向 JavaScript 打包工具](https://samthor.au/2024/kuto/)
- 📦 [VitePress 1.0 - 基於 Vite 和 Vue 的靜態網站生成器](https://blog.vuejs.org/posts/vitepress-1.0)
- 📦 [Microsoft TypeChat 0.1 - 從 AI 語言模型取得結構化輸出](https://microsoft.github.io/TypeChat/blog/announcing-typechat-0-1-0/)
- 🎥 [Node.js 紀錄片](https://www.youtube.com/watch?v=LB8KwiiUGy0)
- 🔗 [執行環境相容性 - 顯示不同 JavaScript 執行環境的 API 相容性](https://runtime-compat.unjs.io/)

---

## 🤭 趣味 {#fun}

[![alt](/emails/issues/179/meme.jpg)](https://twitter.com/ryanflorence/status/1770638771392049400)

再會！👋