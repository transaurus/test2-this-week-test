---
slug: /131
title: "This Week In React #131: useReducer, Controlled Inputs, Async React, DevTools, React-Query, Storybook, Remix, React-Native, Expo..."
authors: [slorber]
date: 01-17-2023
---

大家好！

我們正逐漸走出假期季節。雖然有相當多的部落格文章，但除了 React-Native 0.71 外，沒有其他重大公告。

我剛結束滑雪假期回歸每週通訊排程。雖然沒追蹤所有消息，但本週 Twitter 上的熱議似乎是圍繞 Tailwind？😅

只剩 2 天可參與 [React-Native 狀態調查](https://survey.stateofreactnative.com/) 🙏

對 React-Three-Fiber 感興趣的創意網頁開發者，歡迎訂閱 [Web Game Dev](https://www.webgamedev.com/newsletter) 通訊：您將獲得比這裡更豐富的資訊。

<!-- truncate -->

**💡 [在 Twitter 上查看本通訊](https://slo.im/thread) - 視覺化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 贊助 {#sponsor1}

[![React Bricks 是基於 React 元件的視覺化編輯 CMS](/emails/issues/128/reactbricks.png)](https://reactbricks.com/?utm_source=this_week_in_react)

**[React Bricks 是基於 React 元件的視覺化編輯 CMS](https://reactbricks.com/?utm_source=this_week_in_react)**

**開發者靈活性**：使用 React 元件建立自有設計系統，在 JSX 中添加視覺化編輯功能，並透過側邊欄控制項編輯背景色等屬性。可選用 Next.js、Gatsby、Remix 及任何 CSS 框架！

**內容編輯者易用性**：直接視覺化編輯不破壞設計系統，相較於無頭 CMS 的抽象欄位編輯更直觀。**節省時間**，讓內容編輯者自主作業！

**企業級功能**：協作、時光機、單一登入、GDPR 合規資料中心、全球 CDN 圖像優化、電商整合、排程發布等。

由此開始：[ReactBricks.com](https://reactbricks.com/?utm_source=this_week_in_react)

---

## ⚛️ React {#react}

[![useReducer](/emails/issues/131/useReducer.jpg)](https://www.builder.io/blog/use-reducer)

**[解救 useState 地獄](https://www.builder.io/blog/use-reducer)**

Proposes to replace several `useState` with a `useReducer` with a single action. He explains the advantages, like the possibility to make sure the state is consistent, or to migrate later to a reducer with several actions. An interesting pattern to know. My opinion: it is quite possible to get similar benefits by using a single `useState` with a single object and a custom hook. `useState` or `useReducer` should be an implementation detail.

---

[![useReducer](/emails/issues/131/react-query-ts.jpg)](https://tkdodo.eu/blog/type-safe-react-query)

**[類型安全的 React Query](https://tkdodo.eu/blog/type-safe-react-query)**

使用 TypeScript 時需避免自欺。Dominik 建議結合 React-Query 與 Zod，透過推斷消除 `as` 或泛型的強制類型轉換。當後端與前端處於同個 monorepo 時，可採用 tRPC 或 Zodios 實現全端類型安全。

---

- 📜 [Data Binding in React](https://www.joshwcomeau.com/react/data-binding/): new interactive article by Josh Comeau on controlled inputs in React, including the subtleties to know about each type of input, or the use of ids for accessibility.
- 📜 [Async React with NextJS 13](https://swizec.com/blog/async-react-with-nextjs-13/): use of async Server Components in a Next.js 13 app, covering many interesting details like error boundaries, fetch extended by Next.js, React cache...
- 📜 [How to debounce and throttle in React without losing your mind](https://www.developerway.com/posts/debouncing-in-react): highlights that it is not so simple to implement debouncing in React: unstable debounced function, memoization, stale closure...
- 📜 [Why You Should Use a React Framework](https://leerob.substack.com/p/react-frameworks): Lee Robinson gives different reasons to use a framework, to dedicate more time to the product. React has evolved, and it is no longer just a library, but also an architecture, a community and an ecosystem.
- 📜 [Future of Storybook in 2023](https://storybook.js.org/blog/future-of-storybook-in-2023/): a 2022 retrospective and what to expect in 2023: Storybook 7.0, performance, Turbopack support, embeds, testing, improved React-Native support.
- 📜 [Storybook Ecosystem CI](https://storybook.js.org/blog/storybook-ecosystem-ci/): new system that allows to detect in advance regressions linked to minor upgrades of transitive dependencies.
- 📜 [How We Rebuilt React DevTools with Replay Routines](https://blog.replay.io/how-we-rebuilt-react-devtools-with-replay-routines): Mark Erikson goes in depth on how React DevTools work, and how the new integration with the Replay time-travel debugger works.
- 📜 [Optimizing React performance without refs and memo](https://alexsidorenko.com/blog/react-optimize-rerenders-without-refs-memo/): proposes to optimize React re-renders by isolating code in a smaller component.
- 📜 [Why Vercel OG Is Amazing and How to Use It](https://www.flavienbonvin.com/why-vercel-og-is-amazing-and-how-to-use-it/): using a meta image is important for marketing. Vercel OG is an innovative solution using JSX and Tailwind, easy to integrate into a Next.js project deployed on Vercel.
- 📜 [Excalidraw - Rethinking the Component API](https://blog.excalidraw.com/redesigning-editor-api/): explains some React design decisions for the Excalidraw editor that remove the use of render props and replaces it with React.Children, a deprecated API.
- 📜 [Building a fast, animated image gallery with Next.js](https://vercel.com/blog/building-a-fast-animated-image-gallery-with-next-js)
- 📜 [React, Vite and TypeScript: Get started in under 2 minutes](https://blog.nrwl.io/react-vite-and-typescript-get-started-in-under-2-minutes-3bd5cd836175)
- 📜 [A guide to streaming SSR with React 18](https://blog.logrocket.com/streaming-ssr-with-react-18/)
- 📜 [Little React Things: React applications are functions](https://www.zekehernandez.com/posts/react-applications-are-functions)
- 🧑‍🎓 [New official Relay tutorial](https://twitter.com/RelayFramework/status/1611424289068314625)
- 👀 [Remix + Vanilla Extract PR - merged](https://github.com/remix-run/remix/pull/5040)
- 🐦 [Solid in React](https://twitter.com/RyanCarniato/status/1611448920521179136): Ryan Carniato's POC to integrate a SolidJS component into a React app
- 📦 [Remix 1.10](https://github.com/remix-run/remix/releases/tag/remix%401.10.0): the official end of the "React-Routering Remix" project and many new useful hooks.
- 📦 [create-react-signals](https://github.com/dai-shi/create-react-signals): Daishi Kato inspired by Preact signals to create new reactive bindings for Zustand, Valtio and Jotai.
- 📦 [Mutative](https://github.com/unadlib/mutative) + [Structura.js](https://giusepperaso.github.io/structura.js): 2 new faster alternatives to Immer for immutable updates?
- 📦 [Redux Toolkit 2.0 alpha](https://github.com/reduxjs/redux-toolkit/releases/tag/v2.0.0-alpha.0): gives an idea of upcoming v2 breaking changes
- 📦 [Create-Universal-App](https://github.com/chen-rn/CUA): starter to create universal fullstack apps (web + mobile): Next.js, Expo, Tamagui, tRPC...
- 📦 [Chakra UI FigPilot](https://twitter.com/chakra_ui/status/1613267652717191191): transform Figma design to Chakra UI
- 📦 [Inertia 1.0](https://twitter.com/inertiajs/status/1614295060610437123): PHP framework from Tailwind co-creator using server side routing and React integration.
- 📦 [Precedent](https://twitter.com/steventey/status/1613928948915920896): "Building blocks for Next.js"
- 📦 [MDX extension for VSCode 1.1](https://twitter.com/remcohaszing/status/1613910319805382657): experimental intellisense support
- 📦 [Next.js 13.1.2](https://twitter.com/nextjs/status/1613910922128416768)
- 📦 [Radix releases - January 17](https://www.radix-ui.com/docs/primitives/overview/releases#january-17-2023)
- 📦 [Visx 3.0](https://github.com/airbnb/visx/releases/tag/v3.0.0)
- 🎥 [Did NextJS 13 Break State Management?](https://www.youtube.com/watch?v=OpMAH2hzKi8)
- 🎥 [Blazing Fast Tips: React & TypeScript](https://www.youtube.com/watch?v=37PafxU_uzQ)
- 🎥 [Is it Too Late To Learn React?](https://www.youtube.com/watch?v=WByOlXWrGaY)

<SubscribeFormEmbed />

---

## 💸 贊助 {#sponsor2}

[![開發者國度調查 - 您想對開發者生態系統產生影響嗎？](/emails/issues/128/dn-survey.png)](https://developereconomics.net/?member_id=thisweekinreact)

**[您想對開發者生態系統產生影響嗎？](https://developereconomics.net/?member_id=thisweekinreact)**

根據最新的開發者國度報告，React 是迄今最受歡迎的客戶端函式庫，58% 使用客戶端網頁框架的網頁開發者皆採用它。您有什麼想法？

參與開發者國度有史以來最完整的[調查](https://developereconomics.net/?member_id=thisweekinreact)，塑造 2023 年開發者的關鍵趨勢，並贏得驚人獎品！🎁

完成後您將免費獲得虛擬禮品袋。別忘了註冊參加每週抽獎。250 項獎品包含 ThinkPad L15 Gen 3、Intel NUC 10 Performance Mini PC、物聯網套件、iPad Air、禮品卡、Udemy 課程、科技配件等豐富獎項。

[由此開始](https://developereconomics.net/?member_id=thisweekinreact)！

---

## 📱 React-Native {#react-native}

[![useReducer](/emails/issues/131/rn-android-bt.jpg)](https://reactnative.dev/blog/2023/01/12/version-071)

**[React Native 0.71：預設 TypeScript、Flexbox Gap 及其他更新...](https://reactnative.dev/blog/2023/01/12/version-071)**

重大版本更新包含：

- 預設採用 TypeScript
- 像素單位支援 Flex gap（百分比支援後續推出）
- 簡化跨平台開發的新網頁風格屬性（無障礙功能、樣式、事件）
- 開發體驗改進：點擊檢查 DevTools、新版 Hermes、新架構...
- [Maven Central 提供 Android 預編譯版本](https://github.com/reactwg/react-native-new-architecture/discussions/105)：Android 建置時間減少 94% 及其他優化。注意：[iOS 建置時間也可能大幅改善](https://twitter.com/Baconbrix/status/1611527618444120065)。

---

[![expo-m1](/emails/issues/131/expo-m1.jpg)](https://blog.expo.dev/m1-workers-on-eas-build-dcaa2c1333ad)

**Expo 部落格新文章彙整**：

- 👀 SDK 48 預計二月底發布
- 📜 [宣佈 EAS Build 的 M1 工作節點全面可用](https://blog.expo.dev/m1-workers-on-eas-build-dcaa2c1333ad)：M1 工作節點使 EAS 的 iOS 建置時間縮短 40%，將成為預設節點
- 📜 [Expo 推播通知服務的 Android 通知實作變更](https://blog.expo.dev/an-implementation-change-to-expo-push-notification-service-for-android-notifications-ede056189e33)：Expo API 不再回報推播由 APNS 或 FCM 接收
- 📜 [使用 Nightly 版本測試 React Native](https://blog.expo.dev/testing-react-native-from-the-nightly-builds-ee54ad0c9830)：採用 React Native 開發版即時偵測問題
- 📜 [不再支援 Classic Build 服務](https://blog.expo.dev/classic-build-service-no-longer-supported-73c82b500f56)：需轉移至 EAS 或使用 `turtle-cli` 自行建置

---

- 📊 [State of React-Native](https://survey.stateofreactnative.com/): 調查將於本週五截止，別忘了在為時已晚前回覆！
- 📖 [Callstack - The Ultimate Guide to React Native Optimization](https://www.callstack.com/campaigns/download-the-ultimate-guide-to-react-native-optimization)
- 🐦 ["In Metro v74, bundling React Native is now ~10% faster"](https://twitter.com/Baconbrix/status/1613899384504127488)
- 🎨 [Multiple iOS windows demo](https://twitter.com/jpdriver/status/1612265133497282561)
- 📦 [React-Native-OpenAI-JSX](https://github.com/cawfree/react-native-openai-jsx)
- 🎥 [Skia Shaders and the SDF of a Line](https://www.youtube.com/watch?v=KgJUNYS7ZnA)
- 🧑‍🎓 [React-Native 10x Faster](https://react-native-10x-faster.com/)

---

## 🧑‍💻 職缺 {#jobs}

🧑‍💼 [**TLDR - 資深軟體工程師（遠端，年薪 12 萬至 20 萬美元）**](https://tldr.tech/jobs/senior-software-engineer/23?utm_source=thisweekinreact)

TLDR 電子報正在招聘第一位工程師，協助建立招聘平台及其他內部專案。尋找具有副專案開發或小型團隊經驗者，需熟悉 Next.js 和 Postgres/Supabase。

🧑‍💼 [**Causal 產品工程師，遠端/倫敦/紐約，年薪 15 萬至 25 萬美元**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal 是獲得 Coatue/Accel 投資的 A 輪新創，開發整合式數字處理與數據可視化工具。誠徵能解決複雜 UX/效能挑戰的 React 工程師。

🧑‍💼 [**Callstack - 資深 React Native 開發者（完全遠端，月薪 2.1 萬至 3.2 萬波蘭茲羅提淨額 B2B）**](https://www.callstack.com/senior-react-native-developer)

您想開發全球最熱門的應用程式嗎？希望共同打造 React Native 技術嗎？加入 Callstack 的 React & React Native 領導團隊。詳情請見官網，期待您的申請—展現您的實力！

🧑‍💼 [**G2i - 100% 遠端 React Native 職缺**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我們有多個 React Native 開發者職缺！年薪約 16 萬美元加 10% 獎金。需具備 RN 實際生產環境經驗且位於美國境內。私訊 [@gabe_g2i](https://twitter.com/gabe_g2i) 瞭解詳情，別忘了提及 This Week in React。

💡 [如何發布職缺？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [State of JS 2022 結果](https://2022.stateofjs.com/)
- [2022 JavaScript 新星](https://risingstars.js.org/)
- [Turborepo 1.7](https://turbo.build/blog/turbo-1-7-0)
- [tRPC - 重構 v10 時的 TypeScript 效能優化經驗](https://trpc.io/blog/typescript-performance-lessons)
- [Microfrontend.dev](https://microfrontend.dev/)
- [加速 JavaScript 生態系統 - 模組解析篇](https://marvinh.dev/blog/speeding-up-javascript-ecosystem-part-2/)
- [修復生產環境 Node.js 應用程式的記憶體洩漏](https://kentcdodds.com/blog/fixing-a-memory-leak-in-a-production-node-js-app)
- [Chrome 109 新功能](https://developer.chrome.com/blog/new-in-chrome-109/) + [Chrome 110 Beta](https://developer.chrome.com/blog/chrome-110-beta/)
- [2023 年 Core Web Vitals 優化首要建議](https://web.dev/top-cwv-2023/)
- [TypeScript 錯誤的結構解析](https://www.totaltypescript.com/structure-of-a-typescript-error)
- [TypeScript 泛型的心智模型](https://www.totaltypescript.com/mental-model-for-typescript-generics)
- [未處理 Promise 拒絕的陷阱](https://jakearchibald.com/2023/unhandled-rejections/)
- [從 Ruby 到 Node：Shopify CLI 全面改造提升開發者體驗](https://shopify.engineering/overhauling-shopify-cli-for-a-better-developer-experience)
- [條件式 CSS 實作指南](https://ishadeed.com/article/conditional-css/)
- [NPM Kiosk - NPM 套件銷售新方案](https://npm-kiosk.remotion.dev/)
- [Lightning CSS 訪問者 API](https://twitter.com/devongovett/status/1610683620255043591)

---

## 🤭 趣事 {#fun}

[![alt](/emails/issues/131/meme.jpg)](https://twitter.com/t3dotgg/status/1614125827054260224)